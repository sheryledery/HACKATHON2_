/*! For license information please see share-video-71aebaf099df08644bb9.js.LICENSE.txt */
!function(e){function t(t){for(var r,i,c=t[0],s=t[1],l=t[2],u=0,m=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);m.length;)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={24:0},a={24:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{36:1,37:1,38:1}[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"-"+{1:"31d6cfe0d16ae931b73c",36:"7eb1da3a4c51b801cf7e",37:"f4c7c9b2011a94109476",38:"17ab6463a5aac5876e63"}[e]+".css",a=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=(d=o[s]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===a))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){var d;if((l=(d=u[s]).getAttribute("data-href"))===r||l===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete i[e],m.parentNode.removeChild(m),n(o)},m.href=a,document.getElementsByTagName("head")[0].appendChild(m)})).then((function(){i[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=function(e){return c.p+"js/"+({}[e]||e)+"-"+{1:"de1b44634e5f97f60689",36:"623f2fc1f8cd72d78091",37:"a5e0b551d337f1b2b74d",38:"787f8a719a41d2d4ac85"}[e]+".js"}(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,n[1](l)}a[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://cdn.loom.com/assets/",c.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;o.push([24,0]),n()}({"+7j5":function(e,t,n){e.exports=n.p+"img/workspace-onboarding/record-a-video-7a233aa75fe81b81b4ec05b5f201b92a.png"},"+IMt":function(e,t,n){e.exports=n.p+"img/video-player/joy@3x-6865e7d725c9c41f78310747512ddc3b.png"},"+K4k":function(e,t,n){e.exports=n.p+"img/video-player/step-forward-five-4308d9766aaa5b2c70b73b5ad97ab3aa.svg"},"+aEr":function(e,t,n){},"+lBf":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return b}));n("pNMO"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r,i=n("lSNA"),a=n.n(i),o=n("AGlj"),c=n("CtBj");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){r=e},d=function(){return c.h(o.ub,{videoId:r})},m=function(){return c.h(o.sb,{videoId:r})},f=function(){return c.h(o.tb,{videoId:r})},p=function(){return c.h(o.rb,{videoId:r})},h=function(){return c.h(o.gb,{videoId:r})},v=function(){return c.h(o.wb,{videoId:r})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.h(o.pb,l({videoId:r},e))},b=function(){return c.h(o.qb,{videoId:r})}},"/BAG":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserDefaultWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserDefaultWorkspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:145}};n.loc.source={body:"mutation updateUserDefaultWorkspace($workspaceId: ID!) {\n  updateUserDefaultWorkspace(workspaceId: $workspaceId) {\n    success\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.updateUserDefaultWorkspace=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"updateUserDefaultWorkspace")},"/Fzr":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkOnboardingCardAsDismissed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"onboarding"},name:{kind:"Name",value:"markOnboardingCardAsDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardKey"},value:{kind:"Variable",name:{kind:"Name",value:"cardKey"}}},{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[]}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation MarkOnboardingCardAsDismissed($cardKey: String!, $workspaceId: ID!) {\n  onboarding: markOnboardingCardAsDismissed(\n    cardKey: $cardKey\n    workspaceId: $workspaceId\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.MarkOnboardingCardAsDismissed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"MarkOnboardingCardAsDismissed")},"/GiL":function(e,t,n){},"/HU1":function(e,t,n){},"/YDk":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CtaClick"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sessionId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ctaClickMediaAnalyticsEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"sessionId"},value:{kind:"Variable",name:{kind:"Name",value:"sessionId"}}}],directives:[]}]}}],loc:{start:0,end:129}};n.loc.source={body:"mutation CtaClick($videoId: ID!, $sessionId: String) {\n  ctaClickMediaAnalyticsEvent(videoId: $videoId, sessionId: $sessionId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CtaClick=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CtaClick")},"/jXB":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},"/oQN":function(e,t,n){},"/off":function(e,t,n){},"/rdm":function(e,t,n){},"/xeN":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("Mgwk"),i=n("AGlj"),a=n("CtBj"),o=function(){a.h(i.Zc,{shared:!0})},c=function(){a.h(i.Zc,{shared:!1})},s=function(){r.makePopup("https://useloom.typeform.com/to/U2Kv2a",{mode:"popup",autoClose:2,autoOpen:!0,hideScrollbars:!0,onSubmit:o})}},"05F2":function(e,t,n){e.exports=n.p+"img/icons/doc-78da9d079075b7bf8793bd8f9609d6e3.svg"},"0t9N":function(e,t,n){e.exports=n.p+"img/video-player/love@2x-bc12c727d17071dec2232f6562d57804.png"},"0z7k":function(e,t,n){},"1/Ok":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkOnboardingCardAsDismissed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"onboarding"},name:{kind:"Name",value:"markOnboardingCardAsComplete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardKey"},value:{kind:"Variable",name:{kind:"Name",value:"cardKey"}}},{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[]}]}}],loc:{start:0,end:181}};n.loc.source={body:"mutation MarkOnboardingCardAsDismissed($cardKey: String!, $workspaceId: ID!) {\n  onboarding: markOnboardingCardAsComplete(\n    cardKey: $cardKey\n    workspaceId: $workspaceId\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.MarkOnboardingCardAsDismissed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"MarkOnboardingCardAsDismissed")},"12id":function(e,t,n){},"1JgU":function(e,t,n){},"1PMp":function(e,t,n){},"1obp":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="SHARE_WITH_LOOM_TEAM_OPT_IN",i="SHARE_WITH_LOOM_TEAM_COMPLETE"},2:function(e,t){},"20NB":function(e,t,n){},24:function(e,t,n){n("j36g"),n("jyZO"),e.exports=n("SuVP")},"274U":function(module,exports,__webpack_require__){"use strict";(function(Buffer){__webpack_require__("pNMO"),__webpack_require__("4Brf"),__webpack_require__("0oug"),__webpack_require__("TeQF"),__webpack_require__("QWBl"),__webpack_require__("pjDv"),__webpack_require__("yq1k"),__webpack_require__("4mDm"),__webpack_require__("+2oP"),__webpack_require__("wZ/5"),__webpack_require__("rOQg"),__webpack_require__("sMBO"),__webpack_require__("qePV"),__webpack_require__("r/Vq"),__webpack_require__("5DmW"),__webpack_require__("27RR"),__webpack_require__("tkto"),__webpack_require__("07d7"),__webpack_require__("5s+n"),__webpack_require__("rB9j"),__webpack_require__("JfAA"),__webpack_require__("YGK4"),__webpack_require__("inlA"),__webpack_require__("JTJg"),__webpack_require__("PKPk"),__webpack_require__("UxlC"),__webpack_require__("EnZy"),__webpack_require__("LKBx"),__webpack_require__("SYor"),__webpack_require__("XMab"),__webpack_require__("moxL"),__webpack_require__("qXVe"),__webpack_require__("c162"),__webpack_require__("waxf"),__webpack_require__("0TkE"),__webpack_require__("Onu3"),__webpack_require__("1dYe"),__webpack_require__("gvgV"),__webpack_require__("6R/c"),__webpack_require__("YL0P"),__webpack_require__("X5Zq"),__webpack_require__("MoCz"),__webpack_require__("P8wP"),__webpack_require__("ypFw"),__webpack_require__("JaFt"),__webpack_require__("zSZm"),__webpack_require__("PF2M"),__webpack_require__("KVSy"),__webpack_require__("ZJ55"),__webpack_require__("IZzc"),__webpack_require__("Fwt+"),__webpack_require__("s5qe"),__webpack_require__("cvf0"),__webpack_require__("FZtP"),__webpack_require__("3bBZ");var _typeof=__webpack_require__("cDf5"),_regeneratorRuntime=__webpack_require__("o0o1");__webpack_require__("ls82");var _slicedToArray=__webpack_require__("J4zp"),_defineProperty=__webpack_require__("lSNA"),_asyncToGenerator=__webpack_require__("yXPU");function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Token=__webpack_require__("b1it"),strtok3=__webpack_require__("IcKz"),_require=__webpack_require__("W3re"),stringToBytes=_require.stringToBytes,tarHeaderChecksumMatches=_require.tarHeaderChecksumMatches,uint32SyncSafeToken=_require.uint32SyncSafeToken,uint8ArrayUtf8ByteString=_require.uint8ArrayUtf8ByteString,supported=__webpack_require__("2Iqx"),minimumBytes=4100;function fromStream(e){return _fromStream.apply(this,arguments)}function _fromStream(){return(_fromStream=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,strtok3.fromStream(t);case 2:return n=e.sent,e.prev=3,e.next=6,fromTokenizer(n);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,n.close();case 10:return e.finish(7);case 11:case"end":return e.stop()}}),e,null,[[3,,7,11]])})))).apply(this,arguments)}function fromBuffer(e){return _fromBuffer.apply(this,arguments)}function _fromBuffer(){return(_fromBuffer=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)){e.next=2;break}throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(_typeof(t),"`"));case 2:if((n=t instanceof Buffer?t:Buffer.from(t))&&n.length>1){e.next=5;break}return e.abrupt("return");case 5:return r=strtok3.fromBuffer(n),e.abrupt("return",fromTokenizer(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _check(e,t,n){n=_objectSpread({offset:0},n);var r,i=_createForOfIteratorHelper(t.entries());try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2),o=a[0],c=a[1];if(n.mask){if(c!==(n.mask[o]&e[o+n.offset]))return!1}else if(c!==e[o+n.offset])return!1}}catch(e){i.e(e)}finally{i.f()}return!0}function _checkSequence(e,t,n){return _checkSequence2.apply(this,arguments)}function _checkSequence2(){return(_checkSequence2=_asyncToGenerator(_regeneratorRuntime.mark((function e(t,n,r){var i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Buffer.alloc(minimumBytes),e.next=3,n.ignore(r);case 3:return e.next=5,n.peekBuffer(i,{mayBeLess:!0});case 5:return e.abrupt("return",i.includes(Buffer.from(t)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fromTokenizer(e){return _fromTokenizer2.apply(this,arguments)}function _fromTokenizer2(){return(_fromTokenizer2=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_fromTokenizer(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof strtok3.EndOfStreamError){e.next=8;break}throw e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function _fromTokenizer(e){return _fromTokenizer3.apply(this,arguments)}function _fromTokenizer3(){return(_fromTokenizer3=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,i,a,o,c,s,l,u,d,m,f,p,h,v,g,b,y,k,w,_,E,S,C,x,N,T,O;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Buffer.alloc(minimumBytes),12,r=function(e,t){return _check(n,e,t)},i=function(e,t){return r(stringToBytes(e),t)},a=function(e,n){return _checkSequence(e,t,n)},t.fileInfo.size||(t.fileInfo.size=Number.MAX_SAFE_INTEGER),e.next=8,t.peekBuffer(n,{length:12,mayBeLess:!0});case 8:if(!r([66,77])){e.next=10;break}return e.abrupt("return",{ext:"bmp",mime:"image/bmp"});case 10:if(!r([11,119])){e.next=12;break}return e.abrupt("return",{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"});case 12:if(!r([120,1])){e.next=14;break}return e.abrupt("return",{ext:"dmg",mime:"application/x-apple-diskimage"});case 14:if(!r([77,90])){e.next=16;break}return e.abrupt("return",{ext:"exe",mime:"application/x-msdownload"});case 16:if(!r([37,33])){e.next=18;break}return e.abrupt("return",{ext:"ps",mime:"application/postscript"});case 18:if(!r([31,160])&&!r([31,157])){e.next=20;break}return e.abrupt("return",{ext:"Z",mime:"application/x-compress"});case 20:if(!r([255,216,255])){e.next=22;break}return e.abrupt("return",{ext:"jpg",mime:"image/jpeg"});case 22:if(!r([73,73,188])){e.next=24;break}return e.abrupt("return",{ext:"jxr",mime:"image/vnd.ms-photo"});case 24:if(!r([31,139,8])){e.next=26;break}return e.abrupt("return",{ext:"gz",mime:"application/gzip"});case 26:if(!r([66,90,104])){e.next=28;break}return e.abrupt("return",{ext:"bz2",mime:"application/x-bzip2"});case 28:if(!i("ID3")){e.next=39;break}return e.next=31,t.ignore(6);case 31:return e.next=33,t.readToken(uint32SyncSafeToken);case 33:if(o=e.sent,!(t.position+o>t.fileInfo.size)){e.next=36;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 36:return e.next=38,t.ignore(o);case 38:return e.abrupt("return",fromTokenizer(t));case 39:if(!i("MP+")){e.next=41;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 41:if(67!==n[0]&&70!==n[0]||!r([87,83],{offset:1})){e.next=43;break}return e.abrupt("return",{ext:"swf",mime:"application/x-shockwave-flash"});case 43:if(!r([71,73,70])){e.next=45;break}return e.abrupt("return",{ext:"gif",mime:"image/gif"});case 45:if(!i("FLIF")){e.next=47;break}return e.abrupt("return",{ext:"flif",mime:"image/flif"});case 47:if(!i("8BPS")){e.next=49;break}return e.abrupt("return",{ext:"psd",mime:"image/vnd.adobe.photoshop"});case 49:if(!i("WEBP",{offset:8})){e.next=51;break}return e.abrupt("return",{ext:"webp",mime:"image/webp"});case 51:if(!i("MPCK")){e.next=53;break}return e.abrupt("return",{ext:"mpc",mime:"audio/x-musepack"});case 53:if(!i("FORM")){e.next=55;break}return e.abrupt("return",{ext:"aif",mime:"audio/aiff"});case 55:if(!r([80,75,3,4])){e.next=102;break}e.prev=56;case 57:if(!(t.position+30<t.fileInfo.size)){e.next=95;break}return e.next=60,t.readBuffer(n,{length:30});case 60:return c={compressedSize:n.readUInt32LE(18),uncompressedSize:n.readUInt32LE(22),filenameLength:n.readUInt16LE(26),extraFieldLength:n.readUInt16LE(28)},e.next=63,t.readToken(new Token.StringType(c.filenameLength,"utf-8"));case 63:return c.filename=e.sent,e.next=66,t.ignore(c.extraFieldLength);case 66:if("META-INF/mozilla.rsa"!==c.filename){e.next=68;break}return e.abrupt("return",{ext:"xpi",mime:"application/x-xpinstall"});case 68:if(!c.filename.endsWith(".rels")&&!c.filename.endsWith(".xml")){e.next=78;break}s=c.filename.split("/")[0],e.t0=s,e.next="_rels"===e.t0?73:"word"===e.t0?74:"ppt"===e.t0?75:"xl"===e.t0?76:77;break;case 73:return e.abrupt("break",78);case 74:return e.abrupt("return",{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});case 75:return e.abrupt("return",{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"});case 76:return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 77:return e.abrupt("break",78);case 78:if(!c.filename.startsWith("xl/")){e.next=80;break}return e.abrupt("return",{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});case 80:if("mimetype"!==c.filename||c.compressedSize!==c.uncompressedSize){e.next=91;break}return e.next=83,t.readToken(new Token.StringType(c.compressedSize,"utf-8"));case 83:l=e.sent,e.t1=l,e.next="application/epub+zip"===e.t1?87:"application/vnd.oasis.opendocument.text"===e.t1?88:"application/vnd.oasis.opendocument.spreadsheet"===e.t1?89:"application/vnd.oasis.opendocument.presentation"===e.t1?90:91;break;case 87:return e.abrupt("return",{ext:"epub",mime:"application/epub+zip"});case 88:return e.abrupt("return",{ext:"odt",mime:"application/vnd.oasis.opendocument.text"});case 89:return e.abrupt("return",{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"});case 90:return e.abrupt("return",{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"});case 91:return e.next=93,t.ignore(c.compressedSize);case 93:e.next=57;break;case 95:e.next=101;break;case 97:if(e.prev=97,e.t2=e.catch(56),e.t2 instanceof strtok3.EndOfStreamError){e.next=101;break}throw e.t2;case 101:return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 102:if(!i("OggS")){e.next=121;break}return e.next=105,t.ignore(28);case 105:return u=Buffer.alloc(8),e.next=108,t.readBuffer(u);case 108:if(!_check(u,[79,112,117,115,72,101,97,100])){e.next=110;break}return e.abrupt("return",{ext:"opus",mime:"audio/opus"});case 110:if(!_check(u,[128,116,104,101,111,114,97])){e.next=112;break}return e.abrupt("return",{ext:"ogv",mime:"video/ogg"});case 112:if(!_check(u,[1,118,105,100,101,111,0])){e.next=114;break}return e.abrupt("return",{ext:"ogm",mime:"video/ogg"});case 114:if(!_check(u,[127,70,76,65,67])){e.next=116;break}return e.abrupt("return",{ext:"oga",mime:"audio/ogg"});case 116:if(!_check(u,[83,112,101,101,120,32,32])){e.next=118;break}return e.abrupt("return",{ext:"spx",mime:"audio/ogg"});case 118:if(!_check(u,[1,118,111,114,98,105,115])){e.next=120;break}return e.abrupt("return",{ext:"ogg",mime:"audio/ogg"});case 120:return e.abrupt("return",{ext:"ogx",mime:"application/ogg"});case 121:if(!r([80,75])||3!==n[2]&&5!==n[2]&&7!==n[2]||4!==n[3]&&6!==n[3]&&8!==n[3]){e.next=123;break}return e.abrupt("return",{ext:"zip",mime:"application/zip"});case 123:if(!i("ftyp",{offset:4})||0==(96&n[8])){e.next=147;break}d=uint8ArrayUtf8ByteString(n,8,12).replace("\0"," ").trim(),e.t3=d,e.next="mif1"===e.t3?128:"msf1"===e.t3?129:"heic"===e.t3||"heix"===e.t3?130:"hevc"===e.t3||"hevx"===e.t3?131:"qt"===e.t3?132:"M4V"===e.t3||"M4VH"===e.t3||"M4VP"===e.t3?133:"M4P"===e.t3?134:"M4B"===e.t3?135:"M4A"===e.t3?136:"F4V"===e.t3?137:"F4P"===e.t3?138:"F4A"===e.t3?139:"F4B"===e.t3?140:"crx"===e.t3?141:142;break;case 128:return e.abrupt("return",{ext:"heic",mime:"image/heif"});case 129:return e.abrupt("return",{ext:"heic",mime:"image/heif-sequence"});case 130:return e.abrupt("return",{ext:"heic",mime:"image/heic"});case 131:return e.abrupt("return",{ext:"heic",mime:"image/heic-sequence"});case 132:return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 133:return e.abrupt("return",{ext:"m4v",mime:"video/x-m4v"});case 134:return e.abrupt("return",{ext:"m4p",mime:"video/mp4"});case 135:return e.abrupt("return",{ext:"m4b",mime:"audio/mp4"});case 136:return e.abrupt("return",{ext:"m4a",mime:"audio/x-m4a"});case 137:return e.abrupt("return",{ext:"f4v",mime:"video/mp4"});case 138:return e.abrupt("return",{ext:"f4p",mime:"video/mp4"});case 139:return e.abrupt("return",{ext:"f4a",mime:"audio/mp4"});case 140:return e.abrupt("return",{ext:"f4b",mime:"audio/mp4"});case 141:return e.abrupt("return",{ext:"cr3",mime:"image/x-canon-cr3"});case 142:if(!d.startsWith("3g")){e.next=146;break}if(!d.startsWith("3g2")){e.next=145;break}return e.abrupt("return",{ext:"3g2",mime:"video/3gpp2"});case 145:return e.abrupt("return",{ext:"3gp",mime:"video/3gpp"});case 146:return e.abrupt("return",{ext:"mp4",mime:"video/mp4"});case 147:if(!i("MThd")){e.next=149;break}return e.abrupt("return",{ext:"mid",mime:"audio/midi"});case 149:if(!i("wOFF")||!r([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=151;break}return e.abrupt("return",{ext:"woff",mime:"font/woff"});case 151:if(!i("wOF2")||!r([0,1,0,0],{offset:4})&&!i("OTTO",{offset:4})){e.next=153;break}return e.abrupt("return",{ext:"woff2",mime:"font/woff2"});case 153:if(!r([212,195,178,161])&&!r([161,178,195,212])){e.next=155;break}return e.abrupt("return",{ext:"pcap",mime:"application/vnd.tcpdump.pcap"});case 155:if(!i("DSD ")){e.next=157;break}return e.abrupt("return",{ext:"dsf",mime:"audio/x-dsf"});case 157:if(!i("LZIP")){e.next=159;break}return e.abrupt("return",{ext:"lz",mime:"application/x-lzip"});case 159:if(!i("fLaC")){e.next=161;break}return e.abrupt("return",{ext:"flac",mime:"audio/x-flac"});case 161:if(!r([66,80,71,251])){e.next=163;break}return e.abrupt("return",{ext:"bpg",mime:"image/bpg"});case 163:if(!i("wvpk")){e.next=165;break}return e.abrupt("return",{ext:"wv",mime:"audio/wavpack"});case 165:if(!i("%PDF")){e.next=172;break}return e.next=168,a("Adobe Illustrator",1350);case 168:if(!e.sent){e.next=171;break}return e.abrupt("return",{ext:"ai",mime:"application/postscript"});case 171:return e.abrupt("return",{ext:"pdf",mime:"application/pdf"});case 172:if(!r([0,97,115,109])){e.next=174;break}return e.abrupt("return",{ext:"wasm",mime:"application/wasm"});case 174:if(!r([73,73,42,0])){e.next=187;break}if(!i("CR",{offset:8})){e.next=177;break}return e.abrupt("return",{ext:"cr2",mime:"image/x-canon-cr2"});case 177:if(!r([28,0,254,0],{offset:8})&&!r([31,0,11,0],{offset:8})){e.next=179;break}return e.abrupt("return",{ext:"nef",mime:"image/x-nikon-nef"});case 179:if(!r([8,0,0,0],{offset:4})||!r([45,0,254,0],{offset:8})&&!r([39,0,254,0],{offset:8})){e.next=181;break}return e.abrupt("return",{ext:"dng",mime:"image/x-adobe-dng"});case 181:return n=Buffer.alloc(24),e.next=184,t.peekBuffer(n);case 184:if(!r([16,251,134,1],{offset:4})&&!r([8,0,0,0],{offset:4})||!r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})){e.next=186;break}return e.abrupt("return",{ext:"arw",mime:"image/x-sony-arw"});case 186:return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 187:if(!r([77,77,0,42])){e.next=189;break}return e.abrupt("return",{ext:"tif",mime:"image/tiff"});case 189:if(!i("MAC ")){e.next=191;break}return e.abrupt("return",{ext:"ape",mime:"audio/ape"});case 191:if(!r([26,69,223,163])){e.next=210;break}return g=function(){return(g=_asyncToGenerator(_regeneratorRuntime.mark((function e(n,r){var i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>0)){e.next=11;break}return e.next=3,p();case 3:if(17026!==(i=e.sent).id){e.next=6;break}return e.abrupt("return",t.readToken(new Token.StringType(i.len,"utf-8")));case 6:return e.next=8,t.ignore(i.len);case 8:--r,e.next=0;break;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(e,t){return g.apply(this,arguments)},h=function(){return(h=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,e.next=5,m();case 5:return(n=e.sent)[0]^=128>>n.length-1,r=Math.min(6,n.length),e.abrupt("return",{id:t.readUIntBE(0,t.length),len:n.readUIntBE(n.length-r,r)});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return h.apply(this,arguments)},f=function(){return(f=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var n,r,i,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.peekNumber(Token.UINT8);case 2:for(n=e.sent,r=128,i=0;0==(n&r);)++i,r>>=1;return a=Buffer.alloc(i+1),e.next=9,t.readBuffer(a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(){return f.apply(this,arguments)},e.next=200,p();case 200:return b=e.sent,e.next=203,v(1,b.len);case 203:y=e.sent,e.t4=y,e.next="webm"===e.t4?207:"matroska"===e.t4?208:209;break;case 207:return e.abrupt("return",{ext:"webm",mime:"video/webm"});case 208:return e.abrupt("return",{ext:"mkv",mime:"video/x-matroska"});case 209:return e.abrupt("return");case 210:if(!r([82,73,70,70])){e.next=217;break}if(!r([65,86,73],{offset:8})){e.next=213;break}return e.abrupt("return",{ext:"avi",mime:"video/vnd.avi"});case 213:if(!r([87,65,86,69],{offset:8})){e.next=215;break}return e.abrupt("return",{ext:"wav",mime:"audio/vnd.wave"});case 215:if(!r([81,76,67,77],{offset:8})){e.next=217;break}return e.abrupt("return",{ext:"qcp",mime:"audio/qcelp"});case 217:if(!i("SQLi")){e.next=219;break}return e.abrupt("return",{ext:"sqlite",mime:"application/x-sqlite3"});case 219:if(!r([78,69,83,26])){e.next=221;break}return e.abrupt("return",{ext:"nes",mime:"application/x-nintendo-nes-rom"});case 221:if(!i("Cr24")){e.next=223;break}return e.abrupt("return",{ext:"crx",mime:"application/x-google-chrome-extension"});case 223:if(!i("MSCF")&&!i("ISc(")){e.next=225;break}return e.abrupt("return",{ext:"cab",mime:"application/vnd.ms-cab-compressed"});case 225:if(!r([237,171,238,219])){e.next=227;break}return e.abrupt("return",{ext:"rpm",mime:"application/x-rpm"});case 227:if(!r([79,84,84,79,0])){e.next=229;break}return e.abrupt("return",{ext:"otf",mime:"font/otf"});case 229:if(!i("#!AMR")){e.next=231;break}return e.abrupt("return",{ext:"amr",mime:"audio/amr"});case 231:if(!i("{\\rtf")){e.next=233;break}return e.abrupt("return",{ext:"rtf",mime:"application/rtf"});case 233:if(!r([70,76,86,1])){e.next=235;break}return e.abrupt("return",{ext:"flv",mime:"video/x-flv"});case 235:if(!i("IMPM")){e.next=237;break}return e.abrupt("return",{ext:"it",mime:"audio/x-it"});case 237:if(!r([0,0,1,186])){e.next=242;break}if(!r([33],{offset:4,mask:[241]})){e.next=240;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP1S"});case 240:if(!r([68],{offset:4,mask:[196]})){e.next=242;break}return e.abrupt("return",{ext:"mpg",mime:"video/MP2P"});case 242:if(!r([253,55,122,88,90,0])){e.next=244;break}return e.abrupt("return",{ext:"xz",mime:"application/x-xz"});case 244:if(!i("<?xml ")){e.next=246;break}return e.abrupt("return",{ext:"xml",mime:"application/xml"});case 246:if(!i("BEGIN:")){e.next=248;break}return e.abrupt("return",{ext:"ics",mime:"text/calendar"});case 248:if(!r([55,122,188,175,39,28])){e.next=250;break}return e.abrupt("return",{ext:"7z",mime:"application/x-7z-compressed"});case 250:if(!r([82,97,114,33,26,7])||0!==n[6]&&1!==n[6]){e.next=252;break}return e.abrupt("return",{ext:"rar",mime:"application/x-rar-compressed"});case 252:if(!i("BLENDER")){e.next=254;break}return e.abrupt("return",{ext:"blend",mime:"application/x-blender"});case 254:if(!i("!<arch>")){e.next=263;break}return e.next=257,t.ignore(8);case 257:return e.next=259,t.readToken(new Token.StringType(13,"ascii"));case 259:if("debian-binary"!==e.sent){e.next=262;break}return e.abrupt("return",{ext:"deb",mime:"application/x-deb"});case 262:return e.abrupt("return",{ext:"ar",mime:"application/x-unix-archive"});case 263:if(!r([137,80,78,71,13,10,26,10])){e.next=280;break}return w=function(){return(w=_asyncToGenerator(_regeneratorRuntime.mark((function e(){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readToken(Token.INT32_BE);case 2:return e.t0=e.sent,e.next=5,t.readToken(new Token.StringType(4,"binary"));case 5:return e.t1=e.sent,e.abrupt("return",{length:e.t0,type:e.t1});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},k=function(){return w.apply(this,arguments)},e.next=268,t.ignore(8);case 268:return e.next=270,k();case 270:_=e.sent,e.t5=_.type,e.next="IDAT"===e.t5?274:"acTL"===e.t5?275:276;break;case 274:return e.abrupt("return",{ext:"png",mime:"image/png"});case 275:return e.abrupt("return",{ext:"apng",mime:"image/apng"});case 276:return e.next=278,t.ignore(_.length+4);case 278:if(t.position<t.fileInfo.size){e.next=268;break}case 279:return e.abrupt("return",{ext:"png",mime:"image/png"});case 280:if(!r([65,82,82,79,87,49,0,0])){e.next=282;break}return e.abrupt("return",{ext:"arrow",mime:"application/x-apache-arrow"});case 282:if(!r([103,108,84,70,2,0,0,0])){e.next=284;break}return e.abrupt("return",{ext:"glb",mime:"model/gltf-binary"});case 284:if(!(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))){e.next=286;break}return e.abrupt("return",{ext:"mov",mime:"video/quicktime"});case 286:if(!r([73,73,82,79,8,0,0,0,24])){e.next=288;break}return e.abrupt("return",{ext:"orf",mime:"image/x-olympus-orf"});case 288:if(!r([73,73,85,0,24,0,0,0,136,231,116,216])){e.next=290;break}return e.abrupt("return",{ext:"rw2",mime:"image/x-panasonic-rw2"});case 290:if(!r([48,38,178,117,142,102,207,17,166,217])){e.next=316;break}return S=function(){return(S=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Buffer.alloc(16),e.next=3,t.readBuffer(n);case 3:return e.t0=n,e.next=6,t.readToken(Token.UINT64_LE);case 6:return e.t1=e.sent,e.abrupt("return",{id:e.t0,size:e.t1});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},E=function(){return S.apply(this,arguments)},e.next=295,t.ignore(30);case 295:if(!(t.position+24<t.fileInfo.size)){e.next=315;break}return e.next=298,E();case 298:if(C=e.sent,x=C.size-24,!_check(C.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){e.next=311;break}return N=Buffer.alloc(16),e.t6=x,e.next=305,t.readBuffer(N);case 305:if(x=e.t6-=e.sent,!_check(N,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=308;break}return e.abrupt("return",{ext:"wma",mime:"audio/x-ms-wma"});case 308:if(!_check(N,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43])){e.next=310;break}return e.abrupt("return",{ext:"wmv",mime:"video/x-ms-asf"});case 310:return e.abrupt("break",315);case 311:return e.next=313,t.ignore(x);case 313:e.next=295;break;case 315:return e.abrupt("return",{ext:"asf",mime:"application/vnd.ms-asf"});case 316:if(!r([171,75,84,88,32,49,49,187,13,10,26,10])){e.next=318;break}return e.abrupt("return",{ext:"ktx",mime:"image/ktx"});case 318:if(!r([126,16,4])&&!r([126,24,4])||!r([48,77,73,69],{offset:4})){e.next=320;break}return e.abrupt("return",{ext:"mie",mime:"application/x-mie"});case 320:if(!r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})){e.next=322;break}return e.abrupt("return",{ext:"shp",mime:"application/x-esri-shape"});case 322:if(!r([0,0,0,12,106,80,32,32,13,10,135,10])){e.next=336;break}return e.next=325,t.ignore(20);case 325:return e.next=327,t.readToken(new Token.StringType(4,"ascii"));case 327:T=e.sent,e.t7=T,e.next="jp2 "===e.t7?331:"jpx "===e.t7?332:"jpm "===e.t7?333:"mjp2"===e.t7?334:335;break;case 331:return e.abrupt("return",{ext:"jp2",mime:"image/jp2"});case 332:return e.abrupt("return",{ext:"jpx",mime:"image/jpx"});case 333:return e.abrupt("return",{ext:"jpm",mime:"image/jpm"});case 334:return e.abrupt("return",{ext:"mj2",mime:"image/mj2"});case 335:return e.abrupt("return");case 336:if(!r([0,0,1,186])&&!r([0,0,1,179])){e.next=338;break}return e.abrupt("return",{ext:"mpg",mime:"video/mpeg"});case 338:if(!r([0,1,0,0,0])){e.next=340;break}return e.abrupt("return",{ext:"ttf",mime:"font/ttf"});case 340:if(!r([0,0,1,0])){e.next=342;break}return e.abrupt("return",{ext:"ico",mime:"image/x-icon"});case 342:if(!r([0,0,2,0])){e.next=344;break}return e.abrupt("return",{ext:"cur",mime:"image/x-icon"});case 344:return e.next=346,t.peekBuffer(n,{length:Math.min(256,t.fileInfo.size),mayBeLess:!0});case 346:if(!i("FUJIFILMCCD-RAW")){e.next=348;break}return e.abrupt("return",{ext:"raf",mime:"image/x-fujifilm-raf"});case 348:if(!i("Extended Module:")){e.next=350;break}return e.abrupt("return",{ext:"xm",mime:"audio/x-xm"});case 350:if(!i("Creative Voice File")){e.next=352;break}return e.abrupt("return",{ext:"voc",mime:"audio/x-voc"});case 352:if(!r([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})||!tarHeaderChecksumMatches(n)){e.next=354;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 354:if(!r([208,207,17,224,161,177,26,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62])){e.next=356;break}return e.abrupt("return",{ext:"msi",mime:"application/x-msi"});case 356:if(!r([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){e.next=358;break}return e.abrupt("return",{ext:"mxf",mime:"application/mxf"});case 358:if(!i("SCRM",{offset:44})){e.next=360;break}return e.abrupt("return",{ext:"s3m",mime:"audio/x-s3m"});case 360:if(!r([71],{offset:4})||!r([71],{offset:192})&&!r([71],{offset:196})){e.next=362;break}return e.abrupt("return",{ext:"mts",mime:"video/mp2t"});case 362:if(!r([66,79,79,75,77,79,66,73],{offset:60})){e.next=364;break}return e.abrupt("return",{ext:"mobi",mime:"application/x-mobipocket-ebook"});case 364:if(!r([68,73,67,77],{offset:128})){e.next=366;break}return e.abrupt("return",{ext:"dcm",mime:"application/dicom"});case 366:if(!r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])){e.next=368;break}return e.abrupt("return",{ext:"lnk",mime:"application/x.ms.shortcut"});case 368:if(!r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])){e.next=370;break}return e.abrupt("return",{ext:"alias",mime:"application/x.apple.alias"});case 370:if(!r([76,80],{offset:34})||!(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8}))){e.next=372;break}return e.abrupt("return",{ext:"eot",mime:"application/vnd.ms-fontobject"});case 372:return e.next=374,t.peekBuffer(n,{length:Math.min(512,t.fileInfo.size),mayBeLess:!0});case 374:if(!r([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})||!tarHeaderChecksumMatches(n)){e.next=376;break}return e.abrupt("return",{ext:"tar",mime:"application/x-tar"});case 376:O=0;case 377:if(!(O<2&&O<n.length-16)){e.next=392;break}if(!(n.length>=O+2&&r([255,224],{offset:O,mask:[255,224]}))){e.next=389;break}if(!r([16],{offset:O+1,mask:[22]})){e.next=383;break}if(!r([8],{offset:O+1,mask:[8]})){e.next=382;break}return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 382:return e.abrupt("return",{ext:"aac",mime:"audio/aac"});case 383:if(!r([2],{offset:O+1,mask:[6]})){e.next=385;break}return e.abrupt("return",{ext:"mp3",mime:"audio/mpeg"});case 385:if(!r([4],{offset:O+1,mask:[6]})){e.next=387;break}return e.abrupt("return",{ext:"mp2",mime:"audio/mpeg"});case 387:if(!r([6],{offset:O+1,mask:[6]})){e.next=389;break}return e.abrupt("return",{ext:"mp1",mime:"audio/mpeg"});case 389:O++,e.next=377;break;case 392:case"end":return e.stop()}}),e,null,[[56,97]])})))).apply(this,arguments)}var stream=function stream(readableStream){return new Promise((function(resolve,reject){var stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,i;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new stream.PassThrough,n=stream.pipeline?stream.pipeline(readableStream,t,(function(){})):readableStream.pipe(t),r=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0),e.prev=3,e.next=6,fromBuffer(r);case 6:i=e.sent,t.fileType=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),reject(e.t0);case 13:resolve(n);case 14:case"end":return e.stop()}}),e,null,[[3,10]])}))))}))},fileType={fromStream:fromStream,fromTokenizer:fromTokenizer,fromBuffer:fromBuffer,stream:stream};Object.defineProperty(fileType,"extensions",{get:function(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get:function(){return new Set(supported.mimeTypes)}}),module.exports=fileType}).call(this,__webpack_require__("tjlA").Buffer)},"2G5D":function(e,t,n){},"2Iqx":function(e,t,n){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","jxr","psd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","msi","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","wmv","wma","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-wma","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-msi","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P"]}},"2Jhe":function(e,t,n){e.exports={container:"select-workspace-modal_container_zzJ",content:"select-workspace-modal_content_Yop",header:"select-workspace-modal_header_1zK"}},"2KGH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("image-set(")>-1)return i.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("sUt/"));var i=["-webkit-",""];e.exports=t.default},"2Xfm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUploadAttachmentForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileHash"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mime"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoTimestamp"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUploadAttachmentForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"fileHash"},value:{kind:"Variable",name:{kind:"Name",value:"fileHash"}}},{kind:"Argument",name:{kind:"Name",value:"mime"},value:{kind:"Variable",name:{kind:"Name",value:"mime"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"videoTimestamp"},value:{kind:"Variable",name:{kind:"Name",value:"videoTimestamp"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upload_complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credentials"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:519}};n.loc.source={body:"mutation CreateUploadAttachmentForVideo(\n  $videoId: String!\n  $fileHash: String!\n  $mime: String!\n  $name: String!\n  $videoTimestamp: Int\n) {\n  createUploadAttachmentForVideo(\n    videoId: $videoId\n    fileHash: $fileHash\n    mime: $mime\n    name: $name\n    videoTimestamp: $videoTimestamp\n  ) {\n    key\n    attachment {\n      id\n      owner_id\n      video_id\n      video_timestamp\n      type\n      name\n      s3_id\n      upload_complete\n      mime\n      url\n    }\n    credentials {\n      url\n      fields\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CreateUploadAttachmentForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CreateUploadAttachmentForVideo")},"2fY3":function(e,t,n){e.exports=n.p+"img/video-player/volume-1-f82c0f5089c00f40d4d7512e1437d128.svg"},3:function(e,t){},3539:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"viewerRemoveVideoFromWatchLaterList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"viewerRemoveVideoFromWatchLaterList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ViewerRemoveVideoFromWatchLaterAnswer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removed"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:264}};n.loc.source={body:"mutation viewerRemoveVideoFromWatchLaterList($videoId: String!) {\n  result: viewerRemoveVideoFromWatchLaterList(videoId: $videoId) {\n    __typename\n    ... on ViewerRemoveVideoFromWatchLaterAnswer {\n      removed\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.viewerRemoveVideoFromWatchLaterList=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"viewerRemoveVideoFromWatchLaterList")},"3Ffm":function(e,t,n){},"3MZK":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onGifGeneratedForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifGeneratedForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[]}]}}],loc:{start:0,end:92}};n.loc.source={body:"subscription onGifGeneratedForVideo($videoId: ID!) {\n  gifGeneratedForVideo(id: $videoId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.onGifGeneratedForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"onGifGeneratedForVideo")},"3ShF":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSharedVideosOwned"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedVideosOwned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allow_search_engine_indexing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permitted_viewers_only"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments_email_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_emojis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loom_branded_player"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"show_analytics_to_viewer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distinct"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"current_user_is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_protected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"needs_password"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"do_not_show_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:880}};n.loc.source={body:"query GetSharedVideosOwned {\n  sharedVideosOwned {\n    id\n    s3_id\n    name\n    allow_search_engine_indexing\n    permitted_viewers_only\n    active_status\n    cta {\n      url\n      mods\n      text\n      enabled\n    }\n    comments_email_enabled\n    comments_enabled\n    use_emojis\n    use_gif\n    loom_branded_player\n    download_enabled\n    show_analytics_to_viewer\n    complete\n    archived\n    defaultThumbnails {\n      default\n      static\n    }\n    processing_information {\n      trim_id\n    }\n    video_properties {\n      width\n      height\n      duration\n    }\n    views {\n      total\n      distinct\n    }\n    current_user_is_owner\n    is_protected\n    needs_password\n    do_not_show_comments\n    isUserFavorite\n    owner {\n      first_name\n      last_name\n      avatars {\n        name\n        large\n        thumb\n      }\n      email\n    }\n    createdAt\n    updatedAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetSharedVideosOwned=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetSharedVideosOwned")},"3e/n":function(e,t,n){},"3oTe":function(e,t,n){},"3qKi":function(e,t,n){},"43hR":function(e,t,n){},"472y":function(e,t,n){},"4Opg":function(e,t,n){e.exports=n.p+"img/icons/new/close-dg-f4991cbbef016d9df54222d2069101e5.svg"},"4PJl":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getLibraryVideoCountsForWorkspace"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"videoCounts"},name:{kind:"Name",value:"getLibraryVideoCountsForWorkspace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WorkspaceLibraryVideoCounts"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"team"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"private"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:225}};n.loc.source={body:"query getLibraryVideoCountsForWorkspace {\n  videoCounts: getLibraryVideoCountsForWorkspace {\n    __typename\n    ... on WorkspaceLibraryVideoCounts {\n      team\n      private\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.getLibraryVideoCountsForWorkspace=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getLibraryVideoCountsForWorkspace")},"4RBW":function(e,t,n){},"4UmK":function(e,t,n){},"4mdu":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getWorkspaceBillingInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"billing"},name:{kind:"Name",value:"getWorkspaceBillingInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remote_data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"invoices"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"account_balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax_info"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tax_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postal_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"available_plans"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:429}};n.loc.source={body:"query getWorkspaceBillingInfo($workspaceId: ID!) {\n  billing: getWorkspaceBillingInfo(workspaceId: $workspaceId) {\n    remote_data {\n      invoices\n      sources\n      subscriptions\n      account_balance\n      email\n      name\n      tax_info {\n        tax_id\n        type\n      }\n      address {\n        city\n        country\n        line1\n        line2\n        postal_code\n        state\n      }\n      available_plans\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.getWorkspaceBillingInfo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getWorkspaceBillingInfo")},"4oCR":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DownloadClick"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sessionId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"downloadClickMediaAnalyticsEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"sessionId"},value:{kind:"Variable",name:{kind:"Name",value:"sessionId"}}}],directives:[]}]}}],loc:{start:0,end:139}};n.loc.source={body:"mutation DownloadClick($videoId: ID!, $sessionId: String) {\n  downloadClickMediaAnalyticsEvent(videoId: $videoId, sessionId: $sessionId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.DownloadClick=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DownloadClick")},"4tqQ":function(e,t,n){},"4zWj":function(e,t,n){},"5+A8":function(e,t,n){},"5GfV":function(e,t,n){},"5Lwh":function(e,t,n){e.exports={buttonWrapper:"notifications_buttonWrapper_2QA",notificationsMenu:"notifications_notificationsMenu_3ca",item:"notifications_item_CE-",itemAvatar:"notifications_itemAvatar_3ph",itemContent:"notifications_itemContent_1pp",itemVideo:"notifications_itemVideo_-wF",featureList:"notifications_featureList_3ex",demotionList:"notifications_demotionList_3hb",promotionList:"notifications_promotionList_ore",starterLimit:"notifications_starterLimit_1uB"}},"5OiS":function(e,t,n){e.exports=n.p+"img/logos/ios-app-icon-81ca5303c7c2ec0744cd226a0794c87e.svg"},"5PRh":function(e,t,n){e.exports={title:"share-page-card_title_3oh"}},"5T66":function(e,t,n){},"5n8E":function(e,t,n){e.exports={mobileAppCardWrapper:"mobile-app-card_mobileAppCardWrapper_3Fd",mobileAppCardSpacer:"mobile-app-card_mobileAppCardSpacer_2th"}},"5s1P":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userWorkspaceMemberships"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userWorkspaceMemberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member_role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"team_library_video_limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaceLogoPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization_properties"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"counts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screenshots"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"folders"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"was_loom_user_before_membership"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"personal_library_video_limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onboarding"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:425}};n.loc.source={body:"query userWorkspaceMemberships {\n  userWorkspaceMemberships {\n    member_role\n    isSelected\n    organization {\n      id\n      name\n      team_library_video_limit\n      type\n      workspaceLogoPath\n      organization_properties\n      limits\n      counts {\n        videos\n        screenshots\n        users\n        folders\n      }\n    }\n    was_loom_user_before_membership\n    personal_library_video_limit\n    onboarding\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.userWorkspaceMemberships=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"userWorkspaceMemberships")},"67IB":function(e,t,n){"use strict";n("4mDm"),n("wZ/5"),n("rOQg"),n("07d7"),n("5s+n"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0");var r=n("o0o1");n("ls82");var i=n("pVnL"),a=n("yXPU"),o=n("XPDt").ReadableWebToNodeStream,c=n("BJdv"),s=n("274U");function l(){return(l=a(r.mark((function e(t){var n,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new o(t),e.next=3,s.fromStream(n);case 3:return i=e.sent,e.next=6,n.close();case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=a(r.mark((function e(t){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:return n=e.sent,e.abrupt("return",s.fromBuffer(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("loadend",(function(e){var n=e.target.result;n instanceof ArrayBuffer&&(n=c(new Uint8Array(e.target.result))),t(n)})),r.addEventListener("error",(function(e){n(new Error(e.message))})),r.addEventListener("abort",(function(e){n(new Error(e.type))})),r.readAsArrayBuffer(e)}))}i(e.exports,s,{fromStream:function(e){return l.apply(this,arguments)},fromBlob:function(e){return u.apply(this,arguments)}})},"6V/d":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUserReachedRecordingLimitChecklistItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"successful"},name:{kind:"Name",value:"updateUserReachedRecordingLimitChecklistItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[]}]}}],loc:{start:0,end:147}};n.loc.source={body:"mutation UpdateUserReachedRecordingLimitChecklistItem($userId: ID!) {\n  successful: updateUserReachedRecordingLimitChecklistItem(userId: $userId)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.UpdateUserReachedRecordingLimitChecklistItem=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UpdateUserReachedRecordingLimitChecklistItem")},"6fql":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&a.test(t))return i.map((function(e){return t.replace(a,(function(t){return e+t}))}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("sUt/"));var i=["-webkit-","-moz-",""],a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi;e.exports=t.default},"6gzO":function(e,t,n){e.exports=n.p+"img/notifications/graph-76798a0d49f8df5d1fbab98507528c2f.svg"},"6k+U":function(e,t,n){e.exports=n.p+"img/video-player/up@3x-a693395a37b90cb6b0441285f8f92584.png"},"6nUO":function(e,t,n){},"6pWW":function(e,t,n){"use strict";n("ma9I"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("q1tI"),b=n.n(g),y=n("Hgux"),k=n.n(y),w=n("AGlj"),_=n("CtBj"),E=n("ilyl"),S=n("TSYQ"),C=n.n(S),x=n("LpSC"),N=n.n(x),T=n("kZ0K"),O=(n("TeQF"),n("oVuX"),n("q4mm")),I=n("sDAx"),R=n("NgEs");n("wuL6");function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var P=function(e){u()(n,e);var t=D(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{copied:null}),v()(s()(e),"handleClick",(function(t){t.stopPropagation(),R.b(e.input);var n=R.a(e.input);e.setState({copied:n},(function(){setTimeout((function(){e.setState({copied:null},(function(){e.props.onClick(t,n)}))}),2e3)}))})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.video,n=this.state.copied,r=["copy-link-item",this.state.copied&&"success"].filter(Boolean).join(" ");return b.a.createElement("li",{className:r,onClick:this.handleClick},b.a.createElement(O.Icon,{icon:b.a.createElement(O.SvgLink,null),size:"1rem"}),b.a.createElement("span",null,null===n&&"Copy Link",!0===n&&"Link Copied!",!1===n&&"Error, try again"),b.a.createElement("input",{ref:function(t){return e.input=t},readOnly:!0,value:"".concat(I.A,"/share/").concat(t.id)}))}}]),n}(g.Component);v()(P,"defaultProps",{onClick:function(){}});var F=P;function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var A=function(e){u()(n,e);var t=j(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return b.a.createElement("li",{className:"share-video-embed-code-dropdown-item",onClick:this.props.onClick},b.a.createElement(O.Icon,{icon:b.a.createElement(O.SvgCode,null),size:"1rem"}),b.a.createElement("span",null,"Embed"))}}]),n}(g.Component);var M=function(e){var t=e.onClick;return b.a.createElement("li",{className:"copy-link-item",onClick:t},b.a.createElement(O.Icon,{icon:b.a.createElement(O.SvgLink,null),size:"1rem"}),b.a.createElement("span",null,"Linked GIF"))},L=(n("5s+n"),n("o0o1")),V=n.n(L),U=(n("ls82"),n("yXPU")),B=n.n(U);n("rF1Q");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var W=function(e){u()(n,e);var t=q(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return b.a.createElement("li",{className:"share-video-facebook-dropdown-item",onClick:this.onClick},b.a.createElement("div",{className:"icon"}),b.a.createElement("span",null,"Facebook"))}},{key:"onClick",value:function(){var e=B()(V.a.mark((function e(){var t,n,r,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.currentUserIsOwner,r=t.video,i=n?"recorded via":"saw on",e.next=4,new Promise((function(e){window.fbReady(e)}));case 4:window.FB.ui({method:"share",display:"popup",quote:"Check out this video I ".concat(i," Loom."),href:"".concat(I.A,"/share/").concat(r.id)}),this.props.onClick&&this.props.onClick();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(g.Component);n("sMBO"),n("a213");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var G=function(e){u()(n,e);var t=z(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props.video,t="".concat(I.A,"/share/").concat(e.id),n="https://mail.google.com/mail/?view=cm&fs=1&"+["su=".concat(window.encodeURIComponent("".concat(e.name," [video]"))),"body=".concat(window.encodeURIComponent(t))].join("&");return b.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n,onClick:this.onClick},b.a.createElement("li",{className:"share-video-gmail-dropdown-item"},b.a.createElement("div",{className:"icon"}),b.a.createElement("span",null,"Gmail")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(g.Component);n("j4g4");function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var J=function(e){u()(n,e);var t=H(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.video,r=t?"recorded via":"saw on",i="".concat(I.A,"/share/").concat(n.id),a=window.encodeURI("https://twitter.com/share?text="+"Check out this video I ".concat(r," @loom.")+"&url=".concat(i,"&hashtags=productivity,video"));return b.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a,onClick:this.onClick},b.a.createElement("li",{className:"share-video-twitter-dropdown-item"},b.a.createElement("div",{className:"icon"}),b.a.createElement("span",null,"Twitter")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(g.Component),Q=n("Qo78");n("J348");function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var $=function(e){u()(n,e);var t=K(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"handleCopyLinkClick",(function(t){t.stopPropagation(),_.h(w.Pc),e.props.onHide()})),v()(s()(e),"trackFacebookClick",(function(){e.postIfLogged("/api/users/shared-video-on-fb"),_.h(w.Nc)})),v()(s()(e),"trackTwitterClick",(function(){e.postIfLogged("/api/users/tweeted-video"),_.h(w.Rc)})),v()(s()(e),"trackGmailClick",(function(){_.h(w.Oc)})),v()(s()(e),"postIfLogged",(function(t){e.props.isLoggedIn&&N()(t,{method:"POST",credentials:"include"}).catch((function(e){T.d(e,"error POST ".concat(t))}))})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.additionalClass,n=e.currentUserIsOwner,r=e.hasGmailAccount,i=e.showFacebook,a=void 0===i||i,o=e.video,c=e.show,s=e.align,l=e.vAlign,u=e.handleEmbedCodeClick,d=void 0===u?null:u,m=e.handleEmbedThumbClick,f=void 0===m?null:m,p=Boolean(Object(E.d)(o));return b.a.createElement(Q.a,{show:c,align:s,vAlign:l,additionalClass:C()(t)},b.a.createElement(F,{onClick:this.handleCopyLinkClick,video:o}),p&&f&&b.a.createElement(M,{onClick:f}),d&&b.a.createElement(A,{onClick:d}),b.a.createElement("div",{className:"embed"}),b.a.createElement(J,{currentUserIsOwner:n,onClick:this.trackTwitterClick,video:o}),a&&b.a.createElement(W,{currentUserIsOwner:n,onClick:this.trackFacebookClick,video:o}),r&&b.a.createElement(G,{onClick:this.trackGmailClick,video:o}))}}]),n}(g.Component);v()($,"defaultProps",{show:!1,onHide:function(){},align:"left",vAlign:"auto"});var Y=$,X=n("miX2"),Z=n("/TyM");n("XcqI");function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var te=[{label:"Responsive",value:"responsive"},{label:"Fixed Size",value:"fixed"}],ne=function(e){u()(n,e);var t=ee(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{embedCopied:!1,showEmbedCode:!1,sizeType:"responsive",initialHeight:800,initialWidth:1280,height:800,width:1280}),v()(s()(e),"selectAndCopyEmbedCode",(function(){if(e.embedNode){var t=R.a(e.embedNode);e.setState({embedCopied:t}),e.copyTimeout&&(window.clearTimeout(e.copyTimeout),e.copyTimeout=null),e.copyTimeout=window.setTimeout((function(){e.setState({embedCopied:!1})}),3e3)}})),v()(s()(e),"onSizeSelection",(function(t){e.setState({sizeType:t,embedCopied:!1})})),v()(s()(e),"toggleEmbedCodeView",(function(){return e.setState({showEmbedCode:!e.state.showEmbedCode})})),v()(s()(e),"onMenuClick",(function(e){return e.stopPropagation()})),v()(s()(e),"onWidthChange",(function(t){var n=e.state.aspectRatio,r=Math.ceil(t/n);e.setState({width:t,height:r})})),v()(s()(e),"onHeightChange",(function(t){var n=e.state.aspectRatio,r=Math.ceil(t*n);e.setState({width:r,height:t})})),e}return o()(n,[{key:"componentDidUpdate",value:function(e){!e.embedDropdownOpen&&this.props.embedDropdownOpen&&this.selectAndCopyEmbedCode()}},{key:"componentDidMount",value:function(){this.props.embedDropdownOpen&&this.selectAndCopyEmbedCode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.embedDropdownOpen,r=t.align,i=t.vAlign,a=t.video,o=this.state,c=o.showEmbedCode,s=o.embedCopied,l=o.sizeType,u=o.width,d=o.height,m=o.aspectRatio,f="responsive"===l,p=f?Object(E.i)(a.id,1/m):Object(E.g)(a.id,u,d),h=!!f,v=c?"":" hide-code";return b.a.createElement(Q.a,{show:n,align:r,vAlign:i,additionalClass:"embed-dropdown"},b.a.createElement("div",{className:"embed-dropdown-contents ".concat(c?"code-expanded":""),onClick:this.onMenuClick},b.a.createElement("div",{className:"embed-code-container",onClick:this.selectAndCopyEmbedCode},b.a.createElement("div",{className:"embed-code".concat(v),ref:function(t){return e.embedNode=t}},p)),b.a.createElement("div",{className:"embed-menu"},b.a.createElement("div",{className:"mb:medium"},b.a.createElement(O.Text,{variant:"title"},"Embed code")),b.a.createElement(X.a,{groupClass:"embed-radio-group",options:te,selectedValue:this.state.sizeType,onSelection:this.onSizeSelection}),b.a.createElement("div",{className:"embed-code-size-group"},b.a.createElement(Z.a,{fieldValue:this.state.width,fieldId:"embed-code-width",fieldType:"number",inputClass:"embed-code-size-input",onChange:this.onWidthChange,disabled:h}),b.a.createElement("span",{className:"embed-code-symbol"},""),b.a.createElement(Z.a,{fieldValue:this.state.height,fieldId:"embed-code-height",fieldType:"number",inputClass:"embed-code-size-input",onChange:this.onHeightChange,disabled:h})),b.a.createElement(O.Button,{hasFullWidth:!0,icon:s?b.a.createElement(O.SvgCheck,null):null,variant:"primary",onClick:this.selectAndCopyEmbedCode},s?"Code Copied!":"Copy Code"),b.a.createElement("div",{className:"embed-show-code-button",onClick:this.toggleEmbedCodeView},c?"Hide Code":"Preview Code"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.video.video_properties,r=n.width,i=n.height;if(!(!t.aspectRatio||r!==t.initialWidth||i!==t.initialHeight))return null;var a=r/i,o=r,c=i;return r>640&&(o=640,c=Math.ceil(o/a)),{initialWidth:r,initialHeight:i,width:o,height:c,aspectRatio:a}}}]),n}(g.Component),re=n("pVnL"),ie=n.n(re),ae=n("J4zp"),oe=n.n(ae),ce=n("QILm"),se=n.n(ce);n("w3uf");function le(e){var t,n=e.video,r=se()(e,["video"]),i=Object(g.useRef)(),a=Object(g.useRef)(),o=Object(g.useState)(!1),c=oe()(o,2),s=c[0],l=c[1],u=Object(g.useState)(!1),d=oe()(u,2),m=d[0],f=d[1],p=Object(E.j)(n),h=Object(E.d)(n),v=Object(E.e)(n);if(!h)return null;var y=function(){return k(i)},k=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=R.a(e.current,n);f(r),t&&(window.clearTimeout(t),t=null),t=window.setTimeout((function(){return f(!1)}),3e3),r&&_.h(n?w.Kc:w.Lc)},S=C()("embed-thumbnail",{"code-expanded":s}),x=C()("embed-thumbnail-code",{"code-hidden":!s}),N=m?"Copied!":s?"Copy Code":"Copy Thumbnail",T=m?b.a.createElement(O.SvgCheck,null):null;return b.a.createElement(Q.a,ie()({additionalClass:"embed-dropdown"},r),b.a.createElement("div",{className:S,onClick:function(e){return e.stopPropagation()}},b.a.createElement("div",{className:"embed-thumbnail-code-container",onClick:y},b.a.createElement("div",{className:x,ref:i},b.a.createElement("p",null,v))),b.a.createElement("div",{className:"embed-thumbnail-preview-container"},b.a.createElement(O.Text,{htmlTag:"h3",variant:"title"},"Copy Linked GIF"),b.a.createElement("div",{ref:a,className:"embed-thumbnail-preview"},b.a.createElement("a",{href:p,title:"Watch Loom Video"},b.a.createElement("p",null,n.name,"  Watch Video",b.a.createElement("br",null),b.a.createElement("br",null)),b.a.createElement("img",{style:{maxWidth:"300px"},src:h}))),b.a.createElement(O.Button,{hasFullWidth:!0,icon:T,variant:"primary",onClick:s?y:function(){return k(a,!0)}},N),b.a.createElement("a",{className:"embed-show-code-button",onClick:function(){return l(!s)}},s?"Hide Code":"Show Code"))))}n("HFJL");function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var de={isEmbedDropdownOpen:!1,isGifDropdownOpen:!1},me=function(e){u()(n,e);var t=ue(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",de),v()(s()(e),"handleEmbedCodeClick",(function(t){t.stopPropagation(),e.setState({isEmbedDropdownOpen:!0}),_.h(w.Jc),e.props.onHide()})),v()(s()(e),"handleEmbedThumbClick",(function(t){t.stopPropagation(),e.setState({isGifDropdownOpen:!0}),_.h(w.Mc),e.props.onHide()})),v()(s()(e),"handleClickOutside",(function(){e.setState(de),e.props.show&&e.props.onHide()})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.additionalClass,n=e.currentUserIsOwner,r=e.hasGmailAccount,i=e.video,a=e.show,o=e.align,c=e.vAlign,s=this.state,l=s.isEmbedDropdownOpen,u=s.isGifDropdownOpen,d=Boolean(Object(E.d)(i));return b.a.createElement("div",null,a&&b.a.createElement(Y,{show:a,align:o,vAlign:c,additionalClass:t,hasGmailAccount:r,currentUserIsOwner:n,handleEmbedCodeClick:this.handleEmbedCodeClick,handleEmbedThumbClick:this.handleEmbedThumbClick,video:i}),l&&b.a.createElement(ne,{embedDropdownOpen:l,align:o,vAlign:c,video:i}),d&&u&&b.a.createElement(le,{show:u,align:o,vAlign:c,video:i}))}},{key:"componentDidUpdate",value:function(e){!e.show&&this.props.show&&this.setState(de)}}]),n}(g.Component);v()(me,"defaultProps",{show:!1,onHide:function(){},align:"left",vAlign:"auto",additionalClass:"share-new-dropdown"});t.a=k()(me)},"6xR5":function(e,t,n){e.exports=n.p+"img/logos/loom-logo-fa5e85c7e384326b7e356a80c07db26f.png"},"6ype":function(e,t,n){e.exports=n.p+"img/video-player/wow@3x-304d2229b0e4e0393097a6fde1f79590.png"},"73aC":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRecentTeamVideos"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recentTeamVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allow_search_engine_indexing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permitted_viewers_only"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments_email_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_emojis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loom_branded_player"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"show_analytics_to_viewer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distinct"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"current_user_is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_protected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"needs_password"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"do_not_show_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalReactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalComments"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"allRecentTeamVideosFetched"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1092}};n.loc.source={body:"query GetRecentTeamVideos($limit: Int, $offset: Int) {\n  recentTeamVideos(limit: $limit, offset: $offset) {\n    videos {\n      id\n      s3_id\n      name\n      allow_search_engine_indexing\n      permitted_viewers_only\n      active_status\n      cta {\n        url\n        mods\n        text\n        enabled\n      }\n      comments_email_enabled\n      comments_enabled\n      use_emojis\n      use_gif\n      loom_branded_player\n      download_enabled\n      show_analytics_to_viewer\n      complete\n      archived\n      defaultThumbnails {\n        default\n        static\n      }\n      processing_information {\n        trim_id\n      }\n      video_properties {\n        width\n        height\n        duration\n      }\n      views {\n        total\n        distinct\n      }\n      current_user_is_owner\n      is_protected\n      needs_password\n      do_not_show_comments\n      isUserFavorite\n      owner {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n      }\n\n      totalReactions\n      totalComments\n    }\n\n    allRecentTeamVideosFetched\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetRecentTeamVideos=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetRecentTeamVideos")},"76Dp":function(e,t,n){},"76FJ":function(e,t,n){e.exports=n.p+"img/video-player/love@3x-9da0405e3fe646251b4fc9dba44ebdc1.png"},"7IBp":function(e,t,n){},"7SIB":function(e,t,n){var r;(function(i,a){"use strict";var o=function(){var e=function(e){return e.replace(/^\s+|\s+$/g,"")},t=i.rangy||null,n=i.Undo||null,r=!t||!n,o=i.Key={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindowKey:92,select:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numLock:144,scrollLock:145,semiColon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBraket:221,singleQuote:222},c=function(e){var t,n,a,s=this,l=new c.Action,u=new c.Cache,d=new c.Cursor,m=new c.HtmlAssistant,f=new c.Utilities,p=new c.Selection,h={focus:function(e){e=e||i.event,c.activeElement=t},blur:function(e){e=e||i.event,c.activeElement===t&&(c.activeElement=null),m.placeholders()},down:function(e){e=e||i.event;var t=!0;if(229!==e.keyCode){if(f.isCommand(e,(function(){u.cmd=!0}),(function(){u.cmd=!1})),f.isShift(e,(function(){u.shift=!0}),(function(){u.shift=!1})),f.isModifier(e,(function(n){if(u.cmd){if((g.mode===c.inlineMode||g.mode===c.partialMode)&&"paste"!==n)return void f.preventDefaultEvent(e);var r=null;r="function"===typeof n?n:h.command[n],!1===(t=r.call(s,e))&&(f.preventDefaultEvent(e),f.stopPropagation(e))}})),-1!==g.maxLength){var n=m.text().length,r=!1,a=i.getSelection();if(a&&(r=!a.isCollapsed),n>=g.maxLength&&!f.isSpecial(e)&&!f.isNavigational(e)&&!r)return f.preventDefaultEvent(e)}switch(e.keyCode){case o.enter:h.enterKey(e);break;case o.backspace:case o.delete:h.backspaceOrDeleteKey(e)}return t}},up:function(e){var t;if(e=e||i.event,f.isCommand(e,(function(){u.cmd=!1}),(function(){u.cmd=!0})),m.clean(),m.placeholders(),null!==g.keyContext&&(t=g.keyContext[e.keyCode])){var n=d.parent();n&&t.call(s,e,n)}l.preserveElementFocus()},command:{bold:function(e){f.preventDefaultEvent(e),new c.Element(s,"bold").setClean(!1).invoke(g.beforeInvokeElement)},underline:function(e){f.preventDefaultEvent(e),new c.Element(s,"underline").setClean(!1).invoke(g.beforeInvokeElement)},italicize:function(e){f.preventDefaultEvent(e),new c.Element(s,"italic").setClean(!1).invoke(g.beforeInvokeElement)},quote:function(e){},paste:function(e){if(s.makeUndoable(),g.pasteAsText){var t=f.selection.saveSelection();f.pasteHook((function(e){f.selection.restoreSelection(t),e=e.replace(/\n/g,"<br>"),new c.Html(s,e).setClean(!1).insert(g.beforeInsertHtml,!0),m.clean(),m.placeholders()}))}else m.clean(),m.placeholders()}},enterKey:function(e){if(g.mode===c.inlineMode)return f.preventDefaultEvent(e);if(!u.shift){var n,r,i=m.atCaret()||{},a=t.children,o=i===t.lastChild?t.lastChild:null;o&&o!==t.firstChild&&g.autoHR&&"partial"!==g.mode&&g.tags.horizontalRule&&(f.preventDefaultEvent(e),(n=""===m.text(o)&&o.nodeName.toLowerCase()===g.tags.paragraph)&&a.length>=2&&a[a.length-2].nodeName.toLowerCase()===g.tags.horizontalRule&&(n=!1),n&&(m.addTag(g.tags.horizontalRule,!1,!0,i),i=i.nextSibling),null!==(r=m.addTag(g.tags.paragraph,!0,null,i))&&(r.innerHTML="",d.set(0,r)))}return!0},backspaceOrDeleteKey:function(e){if(null!==t.lastChild){var n=t.lastChild,r=n.previousSibling;n&&g.tags.horizontalRule&&n.nodeName.toLocaleLowerCase()===g.tags.horizontalRule?t.removeChild(n):n&&r&&f.html.text(n).length<1&&r.nodeName.toLowerCase()===g.tags.horizontalRule&&n.nodeName.toLowerCase()===g.tags.paragraph&&(t.removeChild(n),t.removeChild(r))}}},v={element:null,modifier:"auto",placeholder:"",autofocus:!1,autoHR:!0,mode:c.richMode,maxLength:-1,modifiers:{b:"bold",i:"italicize",u:"underline",v:"paste"},tags:{break:"br",horizontalRule:"hr",paragraph:"p",outerLevel:["pre","blockquote","figure"],innerLevel:["a","b","u","i","img","strong"]},cssClasses:{editor:"Medium",pasteHook:"Medium-paste-hook",placeholder:"Medium-placeholder",clear:"Medium-clear"},attributes:{remove:["style","class"]},pasteAsText:!0,beforeInvokeElement:function(){},beforeInsertHtml:function(){},beforeAddTag:function(e,t,n,r){},keyContext:null,pasteEventHandler:function(e){e=e||i.event,s.makeUndoable();var n,r=s.value().length;if(g.pasteAsText){f.preventDefaultEvent(e);var a=f.selection.saveSelection(),o=prompt(c.Messages.pastHere)||"";if(o.length>0)return t.focus(),c.activeElement=t,f.selection.restoreSelection(a),n=(o=m.encodeHtml(o)).length+r,g.maxLength>0&&n>g.maxLength&&(o=o.substring(0,g.maxLength-r)),g.mode!==c.inlineMode&&(o=o.replace(/\n/g,"<br>")),new c.Html(s,o).setClean(!1).insert(g.beforeInsertHtml,!0),m.clean(),m.placeholders(),!1}else setTimeout((function(){m.clean(),m.placeholders()}),20)}},g=f.deepExtend(v,e),b={};for(a in v)"object"!=typeof v[a]&&v.hasOwnProperty(a)&&g.element.getAttribute("data-medium-"+o)&&("false"!==(n=g.element.getAttribute("data-medium-"+o)).toLowerCase()&&"true"!==n.toLowerCase()||(n="true"===n.toLowerCase()),g[a]=n);if(g.modifiers)for(a in g.modifiers)void 0!==o[a]&&(g.modifiers[o[a]]=g.modifiers[a]);if(g.keyContext)for(a in g.keyContext)void 0!==o[a]&&(g.keyContext[o[a]]=g.keyContext[a]);(t=g.element).contentEditable=!0,t.className+=" "+g.cssClasses.editor+" "+g.cssClasses.editor+"-"+g.mode,g.tags=g.tags||{},g.tags.outerLevel&&(g.tags.outerLevel=g.tags.outerLevel.concat([g.tags.paragraph,g.tags.horizontalRule])),this.settings=g,this.element=t,this.intercept=h,this.action=l,this.cache=u,this.cursor=d,this.html=m,this.utils=f,this.selection=p,b.element=t,b.medium=this,b.settings=g,b.action=l,b.cache=u,b.cursor=d,b.html=m,b.intercept=h,b.utils=f,b.selection=p,l.setBridge(b),u.setBridge(b),d.setBridge(b),m.setBridge(b),f.setBridge(b),p.setBridge(b),m.clean(),m.placeholders(),l.preserveElementFocus(),l.listen(),r?this.makeUndoable=function(){}:(this.dirty=!1,this.undoable=new c.Undoable(this),this.undo=this.undoable.undo,this.redo=this.undoable.redo,this.makeUndoable=this.undoable.makeUndoable),t.medium=this,u.initialized=!0};return c.prototype={insertHtml:function(e,t){var n=new c.Html(this,e).insert(this.settings.beforeInsertHtml);return this.utils.triggerEvent(this.element,"change"),t&&t.apply(n),this},invokeElement:function(e,t){var n=this.settings,r=(t=t||{}).remove||[];switch(n.mode){case c.inlineMode:case c.partialMode:return this}return r.length>0&&(function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}(n,"class")||r.push("class")),new c.Element(this,e,t).invoke(this.settings.beforeInvokeElement),this.utils.triggerEvent(this.element,"change"),this},behavior:function(){return r?"wild":"domesticated"},value:function(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this.html.clean(),this.html.placeholders(),this)},focus:function(){return this.element.focus(),this},select:function(){var e,t,n=this.element;return n.focus(),a.body.createTextRange?((e=a.body.createTextRange()).moveToElementText(n),e.select()):i.getSelection&&(t=i.getSelection(),(e=a.createRange()).selectNodeContents(n),t.removeAllRanges(),t.addRange(e)),this},isActive:function(){return c.activeElement===this.element},destroy:function(){var t=this.element,n=this.intercept,r=this.settings,i=this.placeholder||null;null!==i&&i.setup&&(i.parentNode.removeChild(i),delete t.placeHolderActive),t.removeAttribute("contenteditable"),t.className=e(t.className.replace(r.cssClasses.editor,"").replace(r.cssClasses.clear,"").replace(r.cssClasses.editor+"-"+r.mode,"")),this.utils.removeEvent(t,"keyup",n.up).removeEvent(t,"keydown",n.down).removeEvent(t,"focus",n.focus).removeEvent(t,"blur",n.focus).removeEvent(t,"paste",r.pasteEventHandler)},clear:function(){this.element.innerHTML="",this.html.placeholders()}},c.Element=function(e,t,n){if(this.medium=e,this.element=e.settings.element,r)this.tagName=t;else switch(t.toLowerCase()){case"bold":this.tagName="b";break;case"italic":this.tagName="i";break;case"underline":this.tagName="u";break;default:this.tagName=t}this.attributes=n||{},this.clean=!0},c.Html=function(e,t){this.medium=e,this.element=e.settings.element,this.html=t,this.clean=!0},c.Injector=function(){},r?(c.Element.prototype={invoke:function(e){c.activeElement===this.element&&(e&&e.apply(this),a.execCommand(this.tagName,!1))},setClean:function(){return this}},c.Injector.prototype={inject:function(e,t){return this.insertHTML(e,t),null}},c.Undoable=function(){}):(t.rangePrototype.insertNodeAtEnd=function(e){var t=this.cloneRange();t.collapse(!1),t.insertNode(e),t.detach(),this.setEndAfter(e)},c.Element.prototype={invoke:function(e){if(c.activeElement===this.element){e&&e.apply(this);var n,r,a=this.attributes,o=this.tagName.toLowerCase();void 0!==a.className?(r=(a.className.split[" "]||[a.className]).shift(),delete a.className):r="medium-"+o,n=t.createClassApplier(r,{elementTagName:o,elementAttributes:this.attributes}),this.medium.makeUndoable(),n.toggleSelection(i),this.clean&&(this.medium.html.clean(),this.medium.html.placeholders())}},setClean:function(e){return this.clean=e,this}},c.Injector.prototype={inject:function(e){var t,n=!1;if("string"==typeof e){var r=a.createElement("div");r.innerHTML=e,t=r.childNodes,n=!0}else t=e;this.insertHTML('<span id="wedge"></span>');var i=a.getElementById("wedge"),o=i.parentNode;if(i.removeAttribute("id"),n)for(;0<t.length;)o.insertBefore(t[0],i);else o.insertBefore(t,i);return o.removeChild(i),i=null,t}},c.Undoable=function(e){var t,n=this,r=e.settings.element,i=e.utils,a=i.addEvent,c=r.innerHTML,s=new Undo.Stack,l=Undo.Command.extend({constructor:function(e,t){this.oldValue=e,this.newValue=t},execute:function(){},undo:function(){r.innerHTML=this.oldValue,e.canUndo=s.canUndo(),e.canRedo=s.canRedo(),e.dirty=s.dirty()},redo:function(){r.innerHTML=this.newValue,e.canUndo=s.canUndo(),e.canRedo=s.canRedo(),e.dirty=s.dirty()}}),u=function(){var t=r.innerHTML;t!=c&&(n.movingThroughStack||(s.execute(new l(c,t)),c=t,e.dirty=s.dirty()),i.triggerEvent(e.settings.element,"change"))};this.medium=e,this.timer=t,this.stack=s,this.makeUndoable=u,this.EditCommand=l,this.movingThroughStack=!1,a(r,"keyup",(function(e){e.ctrlKey||e.keyCode===o.z?i.preventDefaultEvent(e):(clearTimeout(t),t=setTimeout((function(){u()}),250))})),a(r,"keydown",(function(e){if(!e.ctrlKey||e.keyCode!==o.z)return n.movingThroughStack=!1,!0;i.preventDefaultEvent(e),n.movingThroughStack=!0,e.shiftKey?s.canRedo()&&s.redo():s.canUndo()&&s.undo()}))}),c.Injector.prototype.insertHTML=function(e,t){var n,r;if(i.getSelection){if((n=i.getSelection()).getRangeAt&&n.rangeCount){(r=n.getRangeAt(0)).deleteContents();var o=a.createElement("div");o.innerHTML=e;for(var c,s,l=a.createDocumentFragment();c=o.firstChild;)s=l.appendChild(c);var u=l.firstChild;r.insertNode(l),s&&((r=r.cloneRange()).setStartAfter(s),t?r.setStartBefore(u):r.collapse(!0),n.removeAllRanges(),n.addRange(r))}}else if((n=a.selection)&&"Control"!=n.type){var d=n.createRange();d.collapse(!0),n.createRange().pasteHTML(e),t&&((r=n.createRange()).setEndPoint("StartToStart",d),r.select())}},c.Html.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},insert:function(e,t){if(c.activeElement===this.element){e&&e.apply(this);var n=this.injector.inject(this.html,t);return this.clean&&(this.medium.html.clean(),this.medium.html.placeholders()),this.medium.makeUndoable(),n}return null},injector:new c.Injector,setClean:function(e){return this.clean=e,this}},c.Utilities=function(){},c.Utilities.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},isCommand:function(e,t,n){var r=this.settings;return"ctrl"===r.modifier&&e.ctrlKey||"cmd"===r.modifier&&e.metaKey||"auto"===r.modifier&&(e.ctrlKey||e.metaKey)?t.call():n.call()},isShift:function(e,t,n){return e.shiftKey?t.call():n.call()},isModifier:function(e,t){var n=this.settings.modifiers[e.keyCode];return!!n&&t.call(null,n)},special:function(){var e={};return e[o.backspace]=!0,e[o.shift]=!0,e[o.ctrl]=!0,e[o.alt]=!0,e[o.delete]=!0,e[o.cmd]=!0,e}(),isSpecial:function(e){return!!this.cache.cmd||void 0!==this.special[e.keyCode]},navigational:function(){var e={};return e[o.upArrow]=!0,e[o.downArrow]=!0,e[o.leftArrow]=!0,e[o.rightArrow]=!0,e}(),isNavigational:function(e){return void 0!==this.navigational[e.keyCode]},addEvent:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,this},removeEvent:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null,this},preventDefaultEvent:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stopPropagation:function(e){(e=e||window.event).cancelBubble=!0,void 0!==e.stopPropagation&&e.stopPropagation()},triggerEvent:function(e,t){var n;return a.createEvent?((n=a.createEvent("HTMLEvents")).initEvent(t,!0,!0),n.eventName=t,e.dispatchEvent(n)):(n=a.createEventObject(),e.fireEvent("on"+t,n)),this},deepExtend:function(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},this.deepExtend(e[n],t[n])):e[n]=t[n];return e},pasteHook:function(e){var t,n,i=a.createElement("textarea"),o=this.element,c=this.settings,s=this.medium,l=this.html;i.className=c.cssClasses.pasteHook,o.parentNode.appendChild(i),i.focus(),r||s.makeUndoable(),setTimeout((function(){o.focus(),c.maxLength>0&&(t=l.text(o),n=t.length,n+i.value.length>n&&(i.value=i.value.substring(0,c.maxLength-n))),e(i.value),l.deleteNode(i)}),2)},setupContents:function(){var e,t=this.element,n=t.children,r=t.childNodes;!this.settings.tags.paragraph||n.length>0||this.settings.mode===c.inlineMode||(r.length>0?(e=a.createElement(this.settings.tags.paragraph),t.innerHTML.match("^[&]nbsp[;]")&&(t.innerHTML=t.innerHTML.substring(6,t.innerHTML.length-1)),e.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(e),this.cursor.set(e.innerHTML.length,e)):((e=a.createElement(this.settings.tags.paragraph)).innerHTML="&nbsp;",t.appendChild(e)))},traverseAll:function(e,t,n){var r,i=e.childNodes,a=i.length,o=0;n=n||1;if(t=t||{},a>0)for(;o<a;o++){switch((r=i[o]).nodeType){case 1:this.traverseAll(r,t,n+1),void 0!==t.element&&t.element(r,o,n,e);break;case 3:void 0!==t.fragment&&t.fragment(r,o,n,e)}a=i.length,r===e.lastChild&&(o=a)}}},c.Selection=function(){},c.Selection.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},saveSelection:function(){if(i.getSelection){var e=i.getSelection();if(e.rangeCount>0)return e.getRangeAt(0)}else if(a.selection&&a.selection.createRange)return a.selection.createRange();return null},restoreSelection:function(e){if(e)if(i.getSelection){var t=i.getSelection();t.removeAllRanges(),t.addRange(e)}else a.selection&&e.select&&e.select()}},c.Cursor=function(){},c.Cursor.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},set:function(e,t){var n,r=this.html;if(a.createRange){var o=i.getSelection(),c=r.lastChild(),s=r.text(c).length-1,l=t||c,u=null!=e?e:s;(n=a.createRange()).setStart(l,u),n.collapse(!0),o.removeAllRanges(),o.addRange(n)}else(n=a.body.createTextRange()).moveToElementText(t),n.collapse(!1),n.select()},parent:function(){var e=null;return i.getSelection?e=1===(e=i.getSelection().getRangeAt(0).commonAncestorContainer).nodeType?e:e.parentNode:a.selection&&(e=a.selection.createRange().parentElement()),"SPAN"==e.tagName&&(e=e.parentNode),e},caretToBeginning:function(e){this.set(0,e)},caretToEnd:function(e){this.set(this.html.text(e).length,e)}},c.HtmlAssistant=function(){},c.HtmlAssistant.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},encodeHtml:function(e){return a.createElement("a").appendChild(a.createTextNode(e)).parentNode.innerHTML},text:function(t,n){if(t=t||this.settings.element,n)t.textContent&&void 0!==t.textContent?t.textContent=n:t.innerText=n;else{if(t.innerText)return e(t.innerText);if(t.textContent)return e(t.textContent);if(t.data)return e(t.data)}return""},changeTag:function(e,t){var n,r,i=a.createElement(t);for(n=e.firstChild;n;)r=n.nextSibling,i.appendChild(n),n=r;return e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),i},deleteNode:function(e){e.parentNode.removeChild(e)},placeholders:function(){if(i.getComputedStyle){var t=this.settings,n=this.medium.placeholder||(this.medium.placeholder=a.createElement("div")),r=t.element,o=n.style,s=i.getComputedStyle(r,null),l=function(e){return s.getPropertyValue(e)},u=this.utils,d=u.html.text(r),m=this.cursor,f=r.children.length;if(r.placeholder=n,d.length<1&&f<2){if(r.placeHolderActive)return;r.innerHTML.match("<"+t.tags.paragraph)||(r.innerHTML=""),t.placeholder.length>0&&(n.setup||(n.setup=!0,o.background=l("background"),o.backgroundColor=l("background-color"),o.fontSize=l("font-size"),o.color=s.color,o.marginTop=l("margin-top"),o.marginBottom=l("margin-bottom"),o.marginLeft=l("margin-left"),o.marginRight=l("margin-right"),o.paddingTop=l("padding-top"),o.paddingBottom=l("padding-bottom"),o.paddingLeft=l("padding-left"),o.paddingRight=l("padding-right"),o.borderTopWidth=l("border-top-width"),o.borderTopColor=l("border-top-color"),o.borderTopStyle=l("border-top-style"),o.borderBottomWidth=l("border-bottom-width"),o.borderBottomColor=l("border-bottom-color"),o.borderBottomStyle=l("border-bottom-style"),o.borderLeftWidth=l("border-left-width"),o.borderLeftColor=l("border-left-color"),o.borderLeftStyle=l("border-left-style"),o.borderRightWidth=l("border-right-width"),o.borderRightColor=l("border-right-color"),o.borderRightStyle=l("border-right-style"),n.className=t.cssClasses.placeholder+" "+t.cssClasses.placeholder+"-"+t.mode,n.innerHTML="<div>"+t.placeholder+"</div>",r.parentNode.insertBefore(n,r)),r.className+=" "+t.cssClasses.clear,o.display="",o.minHeight=r.clientHeight+"px",o.minWidth=r.clientWidth+"px",t.mode!==c.inlineMode&&(u.setupContents(),0===f&&r.firstChild&&m.set(0,r.firstChild))),r.placeHolderActive=!0}else r.placeHolderActive&&(r.placeHolderActive=!1,o.display="none",r.className=e(r.className.replace(t.cssClasses.clear,"")),u.setupContents())}},clean:function(e){var t,n,r,a=this.settings,o=a.cssClasses.placeholder,c=(a.attributes||{}).remove||[],s=a.tags||{},l=s.outerLevel||null,u=s.innerLevel||null,d={},m={},f=(s.paragraph||"").toUpperCase(),p=this.html;if(e=e||a.element,null!==l)for(r=0;r<l.length;r++)d[l[r].toUpperCase()]=!0;if(null!==u)for(r=0;r<u.length;r++)m[u[r].toUpperCase()]=!0;this.utils.traverseAll(e,{element:function(e,a,s,h){var v=e.nodeName,g=!0;for(r=0;r<c.length;r++)t=c[r],e.hasAttribute(t)&&e.getAttribute(t)!==o&&e.removeAttribute(t);if((null!==l||null!==u)&&((1===s&&void 0!==d[v]||s>1&&void 0!==m[v])&&(g=!1),g))if("block"===i.getComputedStyle(e,null).getPropertyValue("display")){if(f.length>0&&f!==v&&p.changeTag(e,f),s>1)for(;h.childNodes.length>a;)h.parentNode.insertBefore(h.lastChild,h.nextSibling)}else switch(v){case"BR":if(e===e.parentNode.lastChild){if(e===e.parentNode.firstChild)break;(n=document.createTextNode("")).innerHTML="&nbsp",h.insertBefore(n,e);break}default:for(;null!==e.firstChild;)h.insertBefore(e.firstChild,e);p.deleteNode(e)}}})},lastChild:function(){return this.element.lastChild},addTag:function(e,t,n,r){if(!this.settings.beforeAddTag(e,t,n,r)){var i,o=a.createElement(e);return void 0!==n&&!1===n&&(o.contentEditable=!1),0==o.innerHTML.length&&(o.innerHTML=" "),r&&r.nextSibling?(r.parentNode.insertBefore(o,r.nextSibling),i=r.nextSibling):(this.settings.element.appendChild(o),i=this.html.lastChild()),t&&(this.cache.focusedElement=i,this.cursor.set(0,i)),o}return null},baseAtCaret:function(){if(!this.medium.isActive())return null;var e=i.getSelection?i.getSelection():document.selection;if(e.rangeCount){var t=e.getRangeAt(0),n=t.endContainer;switch(n.nodeType){case 3:if(n.data&&n.data.length!=t.endOffset)return!1}return n}return null},atCaret:function(){var e=this.baseAtCaret()||{},t=this.element;if(!1===e)return null;for(;e&&e.parentNode!==t;)e=e.parentNode;return e&&1==e.nodeType?e:null}},c.Action=function(){},c.Action.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]},listen:function(){var e=this.element,t=this.intercept;this.utils.addEvent(e,"keyup",t.up).addEvent(e,"keydown",t.down).addEvent(e,"focus",t.focus).addEvent(e,"blur",t.blur).addEvent(e,"paste",this.settings.pasteEventHandler)},preserveElementFocus:function(){var e=i.getSelection?i.getSelection().anchorNode:a.activeElement;if(e){var t,n=this.medium.cache,r=this.settings,o=e.parentNode,c=r.element.children,s=o!==n.focusedElement,l=0;for(o===r.element&&(o=e),t=0;t<c.length;t++)if(o===c[t]){l=t;break}s&&(n.focusedElement=o,n.focusedElementIndex=l)}}},c.Cache=function(){this.initialized=!1,this.cmd=!1,this.focusedElement=null},c.Cache.prototype={setBridge:function(e){for(var t in e)this[t]=e[t]}},c.inlineMode="inline",c.partialMode="partial",c.richMode="rich",c.Messages={pastHere:"Paste Here"},c}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}).call(this,window,document)},"7ZGM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("filter(")>-1)return i.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("sUt/"));var i=["-webkit-",""];e.exports=t.default},"7cFV":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcceptOrgInvite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"token"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"accepted"},name:{kind:"Name",value:"acceptOrgInvite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"token"},value:{kind:"Variable",name:{kind:"Name",value:"token"}}}],directives:[]}]}}],loc:{start:0,end:89}};n.loc.source={body:"mutation AcceptOrgInvite($token: String!) {\n  accepted: acceptOrgInvite(token: $token)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.AcceptOrgInvite=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"AcceptOrgInvite")},"7lED":function(e,t,n){e.exports=n.p+"img/video-player/play-white-f66e238462617334c1b110617eb3985b.svg"},"7tgu":function(e,t,n){},"7ueG":function(e,t,n){"use strict";var r=n("I+eb"),i=n("WKiH").start,a=n("yNLB")("trimStart"),o=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:o,trimLeft:o})},"7wXx":function(e,t,n){},"7z1P":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkOnboardingCardAsDismissed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"onboarding"},name:{kind:"Name",value:"markOnboardingCardAsDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardKey"},value:{kind:"Variable",name:{kind:"Name",value:"cardKey"}}},{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[]}]}}],loc:{start:0,end:182}};n.loc.source={body:"mutation MarkOnboardingCardAsDismissed($cardKey: String!, $workspaceId: ID!) {\n  onboarding: markOnboardingCardAsDismissed(\n    cardKey: $cardKey\n    workspaceId: $workspaceId\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.MarkOnboardingCardAsDismissed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"MarkOnboardingCardAsDismissed")},"813Z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMessages="End-Of-Stream";class r extends Error{constructor(){super(t.defaultMessages)}}t.EndOfStreamError=r},"83cR":function(e,t,n){},"88jL":function(e,t,n){e.exports=n.p+"img/workspace-onboarding/add-to-team-library-164b00a721bff1a7e661572b93bb3b28.png"},"8BwK":function(e,t,n){e.exports={goToVideo:"recording-timer-paywall_goToVideo_1pM"}},"8Ewi":function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetVideosInFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"specialId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"archived"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"favorite"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePending"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!0},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allVideos"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"50"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offsetDate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"toDate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Float"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folderVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"Argument",name:{kind:"Name",value:"specialId"},value:{kind:"Variable",name:{kind:"Name",value:"specialId"}}},{kind:"Argument",name:{kind:"Name",value:"archived"},value:{kind:"Variable",name:{kind:"Name",value:"archived"}}},{kind:"Argument",name:{kind:"Name",value:"favorite"},value:{kind:"Variable",name:{kind:"Name",value:"favorite"}}},{kind:"Argument",name:{kind:"Name",value:"includePending"},value:{kind:"Variable",name:{kind:"Name",value:"includePending"}}},{kind:"Argument",name:{kind:"Name",value:"allVideos"},value:{kind:"Variable",name:{kind:"Name",value:"allVideos"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offsetDate"},value:{kind:"Variable",name:{kind:"Name",value:"offsetDate"}}},{kind:"Argument",name:{kind:"Name",value:"toDate"},value:{kind:"Variable",name:{kind:"Name",value:"toDate"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"allVideosFetched"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:545}};r.loc.source={body:'#import "./VideoFragment.graphql"\n\nquery GetVideosInFolder($folderId: ID, $specialId: String, $archived: Boolean = false, $favorite: Boolean, $includePending: Boolean = true, $allVideos: Boolean = false, $limit: Int = 50, $offsetDate: Float, $toDate: Float) {\n  folderVideos(folderId: $folderId, specialId: $specialId, archived: $archived, favorite: $favorite, includePending: $includePending, allVideos: $allVideos, limit: $limit, offsetDate: $offsetDate, toDate: $toDate) {\n    videos {\n      ...VideoFragment\n    }\n    allVideosFetched\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};r.definitions=r.definitions.concat(function(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))}(n("r67q").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}}))}(),e.exports=r,e.exports.GetVideosInFolder=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,i=new Set,c=new Set;for(r.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){i.has(e)||(i.add(e),(a[e]||new Set).forEach((function(e){c.add(e)})))}))}return i.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(r,"GetVideosInFolder")},"8Sdl":function(e,t,n){},"8TFy":function(e,t,n){e.exports=n.p+"img/notifications/emoji-9f1f9c4d8763cfdc324d58d337dec6ed.svg"},"8acj":function(e,t,n){"use strict";n("2B1R"),n("qePV"),n("07d7"),n("B6y2"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("WnLM"),b=n.n(g),y=n("TSYQ"),k=n.n(y),w=n("DzJC"),_=n.n(w),E=n("17x9"),S=n.n(E),C=n("q1tI"),x=n.n(C),N=n("Vg22"),T=n("/vRW"),O=n("k6oI"),I=n("MnkA"),R=n("V9h2"),D=n("p/7Z"),P=n("8aGn"),F=n("XTE0"),j=n.n(F),A=n("h25W"),M=function(){var e=Object(N.useDispatch)();return x.a.createElement(A.a,{onClick:function(){e(Object(P.I)(!0)),e(Object(P.f)())},customAsset:j.a,type:"custom"})},L=n("Kth1");n("1PMp");function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}function U(e){return/[@!\$|<>]+/.test(e)}var B=function(e){u()(n,e);var t=V(n);function n(e){var r;return i()(this,n),r=t.call(this,e),v()(s()(r),"createEmojiReaction",(function(e){r.props.onClickEmoji({type:e.type,time:1e3*r.props.currentVideoTime}),r.props.isLoggedIn||Object(R.a)()||r.setState({showUsernameInput:!0,showEmojiBar:!1})})),v()(s()(r),"showUsername",(function(){b()({targets:r.inputElement.parentNode,opacity:[0,1],duration:300,easing:"linear"}).finished.then((function(){r.inputElement.focus()}))})),v()(s()(r),"hideUsername",(function(){return b()({targets:r.inputElement.parentNode,opacity:[1,0],duration:300,easing:"linear"}).finished.then((function(){r.setState({showEmojiBar:!0})}))})),v()(s()(r),"onBlur",(function(){window.clearTimeout(r.onChangeDebounceTimer),r.changeUsername(event.target.value)})),v()(s()(r),"onKeyDown",(function(e){"Enter"==e.key&&(window.clearTimeout(r.onChangeDebounceTimer),r.changeUsername(e.target.value)),"Escape"==e.key&&r.setState({showUsernameInput:!1,showInvalidUsername:!1})})),v()(s()(r),"onInputChange",(function(e){var t=e.target.value;r.setState({showInvalidUsername:U(t)}),window.clearTimeout(r.onChangeDebounceTimer),r.onChangeDebounceTimer=window.setTimeout((function(){r.changeUsername(t)}),1e3)})),v()(s()(r),"changeUsername",(function(e){var t=!U(e);r.setState({showInvalidUsername:!t,showUsernameInput:!t}),e&&t&&r.props.onChangeUsername(e)})),r.state={time:0,showUsernameInput:!1,showEmojiBar:!0,volumeControlOverEmojiBar:!1},r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.hideReaction,r=t.duration,i=t.controlsActive,a=t.showCommentButton,o=this.state,c=o.volumeControlOverEmojiBar,s=o.showInvalidUsername;return x.a.createElement("div",{className:k()("emoji-bar-container",{"controls-not-active":!i,hide:c})},this.props.children,this.state.showEmojiBar&&x.a.createElement("div",{className:"emoji-bar",ref:function(t){return e.emojiBar=t}},Object.values(T.d).map((function(t){return x.a.createElement(A.a,{key:t,duration:r,time:Number(e.state.time),show:n!=t,type:t,onClick:_()(e.createEmojiReaction,500)})})),a&&x.a.createElement(D.a,{flag:O.m,activationValue:!0},x.a.createElement(M,null))),x.a.createElement(L.a,{show:this.state.showUsernameInput,onDidMount:this.showUsername,onWillUnmount:this.hideUsername},x.a.createElement("div",{className:"emoji-bar-username-input"},x.a.createElement("input",{ref:function(t){return e.inputElement=t},type:"text",className:k()({"emoji-bar-username-input-error":s}),placeholder:"Your name",onKeyDown:this.onKeyDown,onChange:this.onInputChange,onBlur:this.onBlur}))))}},{key:"componentDidUpdate",value:function(e){var t=this.props.volumeControlActive,n=e.volumeControlActive;if(t&&!n){var r=document.querySelector(".video-player-video-container");r&&r.clientWidth<650&&this.setState({volumeControlOverEmojiBar:!0})}else!t&&n&&this.setState({volumeControlOverEmojiBar:!1})}}]),n}(C.Component);B.propTypes={hideReaction:S.a.string,onClickEmoji:S.a.func};t.a=Object(N.connect)((function(e){return{controlsActive:e.video_player.controlsActive,currentVideoTime:e.video_player.current_time,duration:e.video_player.duration,isLoggedIn:e.user.is_logged_in,volumeControlActive:e.video_player.volume_control_active}}),(function(e){return{onClickEmoji:function(t){return e(Object(I.b)(t))},onChangeUsername:function(t){return e(Object(I.h)(t))}}}))(B)},"8sCN":function(e,t,n){e.exports=n.p+"img/video-player/replay-7f810fdb6dac6965e5422eb5d4d9db70.svg"},"95Kq":function(e,t,n){e.exports=n.p+"img/workspace-onboarding/upload-a-video-9b6948b497bab2dbb71b947b9568c68c.png"},"981Y":function(e,t,n){e.exports=n.p+"img/video-player/nervous-31bd52e6d05062939d7114d9b0578acd.png"},"9CgV":function(e,t,n){e.exports=n.p+"img/video-player/yay@3x-61e5ce8364a09c36e7a38c93cd9da442.png"},"9EQE":function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var r="video-timestamp",i="a.external-link",a="content-section",o="div.".concat(a),c="reply-content-section",s="div.".concat(c),l=("div.".concat("add-comment-content"),1e3)},"9JH4":function(e,t,n){},"9RnX":function(e,t,n){e.exports=n.p+"img/video-player/love-45ab7c47df0f8a081bcb48d9974a8664.png"},"9U19":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isUserDefault"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignUser"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tags"}},type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"creationMethod"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"workspaceType"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceType"}}},{kind:"Argument",name:{kind:"Name",value:"isUserDefault"},value:{kind:"Variable",name:{kind:"Name",value:"isUserDefault"}}},{kind:"Argument",name:{kind:"Name",value:"assignUser"},value:{kind:"Variable",name:{kind:"Name",value:"assignUser"}}},{kind:"Argument",name:{kind:"Name",value:"tags"},value:{kind:"Variable",name:{kind:"Name",value:"tags"}}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"Variable",name:{kind:"Name",value:"creationMethod"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:481}};n.loc.source={body:"mutation createWorkspace(\n  $name: String!\n  $workspaceType: String!\n  $isUserDefault: Boolean\n  $assignUser: Boolean\n  $tags: [String]\n  $creationMethod: String\n) {\n  createOrganization(\n    name: $name\n    workspaceType: $workspaceType\n    isUserDefault: $isUserDefault\n    assignUser: $assignUser\n    tags: $tags\n    creationMethod: $creationMethod\n  ) {\n    __typename\n    ... on Organization {\n      name\n      id\n      type\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.createWorkspace=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"createWorkspace")},"9W7y":function(e,t,n){},"9Xi7":function(e,t,n){},"9Yyx":function(e,t,n){e.exports={commentBar:"comment-bar_commentBar_352",commentWrapper:"comment-bar_commentWrapper_3Sp",guestCommentWrapper:"comment-bar_guestCommentWrapper_3j8",nameWrapper:"comment-bar_nameWrapper_XY2"}},"9eqh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},"9lTW":function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n("MCLT"),o=Object.prototype.hasOwnProperty,c=Array.prototype.slice,s=function(){return"foo"===function(){}.name}();function l(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=g,m=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(a.isFunction(e)){if(s)return e.name;var t=e.toString().match(m);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function h(e){if(s||!a.isFunction(e))return a.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||v(e,!0,t,"==",d.ok)}function b(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var s=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),o=y(t);if(i&&!o||!i&&o)return!1;if(i)return b(e=c.call(e),t=c.call(t),n);var s,l,u=_(e),d=_(t);if(u.length!==d.length)return!1;for(u.sort(),d.sort(),l=u.length-1;l>=0;l--)if(u[l]!==d[l])return!1;for(l=u.length-1;l>=0;l--)if(!b(e[s=u[l]],t[s],n,r))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function k(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&v(i,n,"Missing expected exception"+r);var o="string"==typeof r,c=!e&&i&&!n;if((!e&&a.isError(i)&&o&&k(i,n)||c)&&v(i,n,"Got unwanted exception"+r),e&&i&&n&&!k(i,n)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(h(e.actual),128)+" "+e.operator+" "+p(h(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=f(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},a.inherits(d.AssertionError,Error),d.fail=v,d.ok=g,d.equal=function(e,t,n){e!=t&&v(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&v(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){w(!0,e,t,n)},d.doesNotThrow=function(e,t,n){w(!1,e,t,n)},d.ifError=function(e){if(e)throw e};var _=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}}).call(this,n("yLpj"))},"9yXn":function(e,t,n){"use strict";var r=n("J4zp"),i=n.n(r),a=n("gZqA"),o=n("q4mm"),c=n("TSYQ"),s=n.n(c),l=n("q1tI"),u=n.n(l),d=n("Vg22"),m=n("8N09"),f=n("k6oI"),p=n("ZhMd"),h=n("Ot3Z"),v=n("YFU1"),g=n.n(v),b=n("3539"),y=n.n(b),k=n("0X1P");t.a=function(e){var t=Object(d.useDispatch)(),n=Object(p.a)({flag:f.v,activationValue:!0}),r=Object(d.useSelector)(h.c),c=Object(a.useMutation)(g.a,{onCompleted:function(e){"ViewerAddVideoToWatchLaterAnswer"!==e.result.__typename&&t(Object(k.b)(m.a,"An error occured while adding video to Watch Later list")),x(!0)}}),v=i()(c,1)[0],b=Object(a.useMutation)(y.a,{onCompleted:function(e){"ViewerRemoveVideoFromWatchLaterAnswer"!==e.result.__typename&&t(Object(k.b)(m.a,"An error occured while removing video from Watch Later list")),x(!1)}}),w=i()(b,1)[0],_=Object(d.useSelector)((function(e){var t,n;return null===(t=e.video_player)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.viewer_marked_for_watch_later})),E=Object(l.useState)(_),S=i()(E,2),C=S[0],x=S[1],N=Object(d.useSelector)((function(e){var t,n;return null===(t=e.video_player)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.id}));if(!n||!r)return null;var T=s()("watch-later",e.darkMode&&"theme-dark");return C?u.a.createElement("div",{className:T},u.a.createElement(o.Tooltip,{content:"Remove from Watch Later",placement:"bottomCenter",triggerOffset:e.tooltipTriggerOffset||14},u.a.createElement(o.IconButton,{icon:u.a.createElement(o.SvgCheckCircleFill,null),onClick:function(){return w({variables:{videoId:N}})}}))):u.a.createElement("div",{className:T},u.a.createElement(o.Tooltip,{content:"Watch Later (Internal only)",placement:"bottomCenter",triggerOffset:e.tooltipTriggerOffset||14},u.a.createElement(o.IconButton,{icon:u.a.createElement(o.SvgList,null),onClick:function(){return v({variables:{videoId:N}})}})))}},A4PV:function(e,t,n){},AKsX:function(e,t,n){},AWAm:function(e,t,n){"use strict";n("ma9I"),n("yXV3"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("q4mm"),b=n("q1tI"),y=n.n(b),k=n("Vg22"),w=n("AGlj"),_=n("CtBj");n("pa6B");function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var S=function(e){u()(n,e);var t=E(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"onClickHandler",(function(){var t=e.props,n=t.from_public_share_page,r=t.is_inline_embed_on_loom,i=t.parent_location,a=t.videoId,o=t.ownerId,c=t.viewerIsOwner,s=t.onClick;s&&s(),_.h(w.zd,{from_public_share_page:n,is_inline_embed_on_loom:r,parent_location:i,video_id:a,owner_id:o,owner_click:c})})),e}return o()(n,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.ctaMods,a=r.ctaUrl,o=r.ctaText;return i&&(e=i.color,t=i.background_color,n=i.border_radius),e=e||Object(g.getColorValue)("white"),t=t||Object(g.getColorValue)("orange"),y.a.createElement("a",{className:"cta-button",target:a&&"_blank",rel:"noopener noreferrer",onClick:this.onClickHandler,style:{color:e,backgroundColor:t,borderRadius:"".concat(n,"px")},size:o?o.length:0,href:a&&(a.indexOf("http")>-1?a:"//".concat(a))},o||y.a.createElement("span",{className:"call-to-action-placeholder"},"Call-to-action"))}}]),n}(b.Component);t.a=Object(k.connect)((function(e){var t=e.share_video,n=t.cta_mods,r=t.cta_text,i=t.cta_url,a=e.video_player,o=a.from_public_share_page,c=a.is_inline_embed_on_loom,s=a.parent_location,l=a.video||{},u=l.id,d=l.owner_id;return{ctaMods:n,ctaText:r,ctaUrl:i,from_public_share_page:o,is_inline_embed_on_loom:c,parent_location:s,videoId:u,ownerId:d,viewerIsOwner:d===e.user.current.id}}))(S)},AWqZ:function(e,t,n){e.exports=n.p+"img/icons/new/add-white-0c29ea9cce3ff40ec1c8623b545afd7e.svg"},AgWB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"isValid"},name:{kind:"Name",value:"checkPassword"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[]}]}}],loc:{start:0,end:110}};n.loc.source={body:"query($videoId: ID!, $password: String!) {\n  isValid: checkPassword(videoId: $videoId, password: $password)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n},AiAv:function(e,t,n){e.exports={bubbleMenu:"profile-bubble_bubbleMenu_vaC",links:"profile-bubble_links_gUR",subLinks:"profile-bubble_subLinks_1Xh",menuItem:"profile-bubble_menuItem_2r2"}},AoFm:function(e,t,n){e.exports=n.p+"img/notifications/notification-prompt@2x-760255333e8c34bfb9ed90f08b16f9e1.png"},BEer:function(e,t,n){},BJdv:function(e,t,n){(function(t){var r=n("qXd6").strict;e.exports=function(e){if(r(e)){var n=t.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(n=n.slice(e.byteOffset,e.byteOffset+e.byteLength)),n}return t.from(e)}}).call(this,n("tjlA").Buffer)},BUGv:function(e,t,n){!function(){!function(t,n){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){var n=P(e)||f(e)?r(e.length,String):[],i=n.length,a=!!i;for(var o in e)!t&&!N.call(e,o)||a&&("length"==o||l(o,i))||n.push(o);return n}function a(e,t,n){var r=e[t];N.call(e,t)&&m(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function o(e){if(!d(e))return I(e);var t=[];for(var n in Object(e))N.call(e,n)&&"constructor"!=n&&t.push(n);return t}function c(e,t){return t=R(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=R(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=o,n(e,this,c)}}function s(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var c=t[i],s=r?r(n[c],e[c],c,n,e):void 0;a(n,c,void 0===s?e[c]:s)}return n}function l(e,t){return!!(t=null==t?w:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function u(e,t,n){if(!b(n))return!1;var r=typeof t;return!!("number"==r?p(n)&&l(t,n.length):"string"==r&&t in n)&&m(n[t],e)}function d(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function m(e,t){return e===t||e!=e&&t!=t}function f(e){return h(e)&&N.call(e,"callee")&&(!O.call(e,"callee")||T.call(e)==_)}function p(e){return null!=e&&g(e.length)&&!v(e)}function h(e){return y(e)&&p(e)}function v(e){var t=b(e)?T.call(e):"";return t==E||t==S}function g(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function k(e){return p(e)?i(e):o(e)}var w=9007199254740991,_="[object Arguments]",E="[object Function]",S="[object GeneratorFunction]",C=/^(?:0|[1-9]\d*)$/,x=Object.prototype,N=x.hasOwnProperty,T=x.toString,O=x.propertyIsEnumerable,I=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),R=Math.max,D=!O.call({valueOf:1},"valueOf"),P=Array.isArray,F=function(e){return c((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&u(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}((function(e,t){if(D||d(t)||p(t))s(t,k(t),e);else for(var n in t)N.call(t,n)&&a(e,n,t[n])}));e.exports=F},function(e,t,n){"use strict";function r(e,t,n){n=void 0===n?1:n,e[t]=e[t]||0,e[t]+=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(t,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(18)),i=r.default.methodFactory;r.default.methodFactory=function(e,t,n){var r=i(e,t,n);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);r.apply(void 0,e)}},r.default.setLevel(r.default.getLevel()),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return a(e)[0]},i=function(e){return a(e)[1]},a=function(e){if("string"!=typeof e||""===e)return["localhost"];var t=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=(e.match(t)||[])[4],r=void 0;return n&&(r=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,r]};t.extractHostnameAndDomain=a,t.extractHostname=r,t.extractDomain=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},i=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};t.generateUUID=r,t.generateShortID=i},function(e,t,n){"use strict";function r(e){e=(e=e||"").match(/[^\r\n]+/g)||[];for(var t={},n=0;n<e.length;n++){var r=e[n].split(/\s*:\s*(.+)/);3===r.length&&(t[r[0]]=r[1])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var r=n(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,r.generateShortID)()),e.muxId):e},a=function(e){var t=void 0;return e&&void 0!==e.nodeName?e=i(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]};t.getMuxPlayerId=i,t.findMediaElement=a},function(e,t,n){"use strict";function r(){return"1"===(i.default.doNotTrack||i.default.navigator.doNotTrack||i.default.navigator.msDoNotTrack)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(2))},function(e,t,n){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},a=n(21);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r}).call(t,n(5))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(40),i=n(41),a=n(14);e.exports={formats:a,parse:i,stringify:r}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)void 0!==t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t};t.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},t.merge=function(e,n,i){if(!n)return e;if("object"!=typeof n){if(Array.isArray(e))e.push(n);else{if("object"!=typeof e)return[e,n];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!=typeof e)return[e].concat(n);var a=e;return Array.isArray(e)&&!Array.isArray(n)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(n)?(n.forEach((function(n,a){r.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t.merge(e[a],n,i):e.push(n):e[a]=n})),e):Object.keys(n).reduce((function(e,a){var o=n[a];return r.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e}),a)},t.assign=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var a=t.charCodeAt(r);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=t.charAt(r):a<128?n+=i[a]:a<2048?n+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?n+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(r)),n+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return n},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],c=Object.keys(o),s=0;s<c.length;++s){var l=c[s],u=o[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}return a(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function a(e){var t={},n={};return Object.keys(e).forEach((function(r){var i=!1;if(e.hasOwnProperty(r)&&void 0!==e[r]){var a=r.split("_"),c=a[0],u=s[c];u||(o.default.info("Data key word `"+a[0]+"` not expected in "+r),u=c+"_"),a.splice(1).forEach((function(e){"url"===e&&(i=!0),l[e]?u+=l[e]:(o.default.info("Data key word `"+e+"` not expected in "+r),u+="_"+e+"_")})),i?n[u]=e[r]:t[u]=e[r]}})),(0,c.default)(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=r(n(3)),c=r(n(0)),s=i({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),l=i({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",ch:"changed",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,n){"use strict";e.exports=n(17).default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(n(2)),o=n(8),c=r(n(3)),s=r(n(9)),l=r(n(19)),u=r(n(48)),d=r(n(49)),m={},f=function e(t){var n=arguments;"string"==typeof t?e.hasOwnProperty(t)?a.default.setTimeout((function(){n=Array.prototype.splice.call(n,1),e[t].apply(null,n)}),0):c.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?a.default.setTimeout((function(){t(e)}),0):c.default.warn("`"+t+"` is invalid.")};f.loaded=Date.now(),f.VERSION="2.8.0",f.API_VERSION="2.1",f.PLAYER_TRACKED=!1,f.monitor=function(e,t){return(0,u.default)(f,e,t)},f.destroyMonitor=function(e){var t=(0,o.findMediaElement)(e),n=i(t,1)[0];n&&n.mux&&"function"==typeof n.mux.destroy?n.mux.destroy():c.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},f.addHLSJS=function(e,t){var n=(0,o.getMuxPlayerId)(e);m[n]?m[n].addHLSJS(t):c.default.error("A monitor for `"+n+"` has not been initialized.")},f.addDashJS=function(e,t){var n=(0,o.getMuxPlayerId)(e);m[n]?m[n].addDashJS(t):c.default.error("A monitor for `"+n+"` has not been initialized.")},f.removeHLSJS=function(e){var t=(0,o.getMuxPlayerId)(e);m[t]?m[t].removeHLSJS():c.default.error("A monitor for `"+t+"` has not been initialized.")},f.removeDashJS=function(e,t){var n=(0,o.getMuxPlayerId)(e);m[n]?m[n].removeDashJS(t):c.default.error("A monitor for `"+n+"` has not been initialized.")},f.init=function(e,t){var n=(0,o.getMuxPlayerId)(e);m[n]=new l.default(f,n,t)},f.emit=function(e,t,n){var r=(0,o.getMuxPlayerId)(e);m[r]?(m[r].emit(t,n),"destroy"===t&&delete m[r]):c.default.error("A monitor for `"+r+"` has not been initialized.")},(0,s.default)()&&c.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),a.default.addEventListener("unload",(function(){f.WINDOW_UNLOADING=!0}),!1),f.checkDoNotTrack=s.default,f.log=c.default,f.utils=d.default,t.default=f},function(e,t,n){var r,i;!function(a,o){"use strict";void 0!==(i="function"==typeof(r=o)?r.call(t,n,t,e):r)&&(e.exports=i)}(0,(function(){"use strict";function e(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==c&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):o)}function n(e,t){for(var n=0;n<s.length;n++){var r=s[n];this[r]=n<e?o:this.methodFactory(r,e,t)}this.log=this.debug}function r(e,t,r){return function(){typeof console!==c&&(n.call(this,t,r),this[e].apply(this,arguments))}}function i(e,n,i){return t(e)||r.apply(this,arguments)}function a(e,t,r){function a(e){var t=(s[e]||"silent").toUpperCase();if(typeof window!==c){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==c){try{e=window.localStorage[d]}catch(e){}if(typeof e===c)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(d)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}var l,u=this,d="loglevel";e&&(d+=":"+e),u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=r||i,u.getLevel=function(){return l},u.setLevel=function(t,r){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(l=t,!1!==r&&a(t),n.call(u,t,e),typeof console===c&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){o()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var m=o();null==m&&(m=null==t?"WARN":t),u.setLevel(m,!1)}var o=function(){},c="undefined",s=["trace","debug","info","warn","error"],l=new a,u={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new a(e,l.getLevel(),l.methodFactory)),t};var d=typeof window!==c?window.log:void 0;return l.noConflict=function(){return typeof window!==c&&window.log===l&&(window.log=d),l},l}))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(n(3)),o=r(n(0)),c=n(6),s=n(4),l=r(n(2)),u=r(n(1)),d=r(n(20)),m=n(23),f=n(24),p=r(n(25)),h=r(n(26)),v=r(n(27)),g=r(n(28)),b=r(n(29)),y=r(n(30)),k=r(n(31)),w=r(n(32)),_=r(n(33)),E=r(n(34)),S=r(n(35)),C=r(n(36)),x=r(n(37)),N=r(n(38)),T=r(n(47)),O=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],I=function(e,t,n){var r=this;this.DOM_CONTENT_LOADED_EVENT_END=l.default.performance&&l.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=l.default.performance&&l.default.performance.timing.navigationStart;var i={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!0,errorTranslator:function(e){return e}};this.mux=e,this.id=t,(n=(0,o.default)(i,n)).data=n.data||{},n.data.property_key&&(n.data.env_key=n.data.property_key,delete n.data.property_key),a.default.setLevel(n.debug?"debug":"warn"),this.getPlayheadTime=n.getPlayheadTime,this.getStateData=n.getStateData||function(){},this.getAdData=n.getAdData||function(){},this.minimumRebufferDuration=n.minimumRebufferDuration,this.sustainedRebufferThreshold=n.sustainedRebufferThreshold,this.playbackHeartbeatTime=n.playbackHeartbeatTime,this.errorTranslator=n.errorTranslator,this.playbackEventDispatcher=new N.default(e,n.data.env_key,n),this.data={player_instance_id:(0,c.generateUUID)(),mux_sample_rate:n.sampleRate,beacon_domain:n.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,o.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)};var s=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.on("viewinit",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,o.default)(this.data,t),this._initializeViewData(),this.one("play",s),this.one("adbreakstart",s)}));var u=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(this);this.on("videochange",(function(e,t){u(t)})),this.on("programchange",(function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),u((0,o.default)(t,{view_program_changed:!0})),s()})),this.on("destroy",this.destroy);var d=this.destroy.bind(this);l.default.addEventListener("unload",d,!1),this.on("destroy",(function(){l.default.removeEventListener("unload",d)})),this.on("playerready",(function(e,t){(0,o.default)(this.data,t)})),O.forEach((function(e){r.on(e,(function(t,n){0!==e.indexOf("ad")&&this._updateStateData(),(0,o.default)(this.data,n),this._sanitizeData()})),r.on("after"+e,(function(){("error"!==e||this.viewErrored)&&this.send(e)}))})),this.on("viewend",(function(e,t){(0,o.default)(r.data,t)}));var m=function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",m),v.default.apply(this),x.default.apply(this),E.default.apply(this),y.default.apply(this),h.default.apply(this),_.default.apply(this),g.default.apply(this),b.default.apply(this),S.default.apply(this),k.default.apply(this),w.default.apply(this),C.default.apply(this),T.default.apply(this),n.hlsjs&&this.addHLSJS(n),n.dashjs&&this.addDashJS(n),this.emit("viewinit",n.data)};(0,o.default)(I.prototype,p.default.prototype),(0,o.default)(I.prototype,y.default.prototype),(0,o.default)(I.prototype,E.default.prototype),(0,o.default)(I.prototype,h.default.prototype),(0,o.default)(I.prototype,g.default.prototype),(0,o.default)(I.prototype,b.default.prototype),(0,o.default)(I.prototype,S.default.prototype),(0,o.default)(I.prototype,k.default.prototype),(0,o.default)(I.prototype,w.default.prototype),I.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),l.default.clearTimeout(this._heartBeatTimeout))},I.prototype.send=function(e){var t=(0,o.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var n=(0,s.extractHostnameAndDomain)(t.video_source_url),r=i(n,2),a=r[0],c=r[1];t.video_source_domain=c,t.video_source_hostname=a}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},I.prototype._updateStateData=function(){(0,o.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},I.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach((function(t){var n=parseInt(e.data[t],10);e.data[t]=isNaN(n)?void 0:n}))},I.prototype._resetVideoData=function(e,t){var n=this;Object.keys(this.data).forEach((function(e){0===e.indexOf("video_")&&delete n.data[e]}))},I.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("view_")&&delete e.data[t]})),this.data.view_sequence_number=1},I.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},I.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,c.generateUUID)();this.data.video_id||(this.data.video_id=(0,d.default)(this.data.player_source_url));var n=function(){t===e.data.view_id&&(0,u.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",n):n()},I.prototype._restartHeartBeat=function(){var e=this;l.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=l.default.setTimeout((function(){e.data.player_is_paused||e.emit("hb")}),1e4))},I.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,m.monitorHlsJs)(this.mux,this.id,e.hlsjs,{},e.Hls||l.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},I.prototype.removeHLSJS=function(){this.hlsjs&&((0,m.stopMonitoringHlsJs)(this.hlsjs),this.hlsjs=void 0)},I.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,f.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},I.prototype.removeDashJS=function(){this.dashjs&&((0,f.stopMonitoringDashJS)(this.dashjs),this.dashjs=void 0)},t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=a.default.createElement("a");t.href=e;var n=t.pathname.replace(/\.[^\/.]+$/,"");return o.default.encode(t.host+n).split("=")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(n(10)),o=r(n(22))},function(e,t){},function(e,t,n){(function(e,r){var i;!function(r){"object"==typeof e&&e&&e.exports;var a=function(e){this.message=e};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var o=function(e){throw new a(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=/[\t\n\f\r ]/g,l={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n=e.length%3,r="",i=-1,a=e.length-n;++i<a;)t=(e.charCodeAt(i)<<16)+(e.charCodeAt(++i)<<8)+e.charCodeAt(++i),r+=c.charAt(t>>18&63)+c.charAt(t>>12&63)+c.charAt(t>>6&63)+c.charAt(63&t);return 2==n?(t=(e.charCodeAt(i)<<8)+e.charCodeAt(++i),r+=c.charAt(t>>10)+c.charAt(t>>4&63)+c.charAt(t<<2&63)+"="):1==n&&(t=e.charCodeAt(i),r+=c.charAt(t>>2)+c.charAt(t<<4&63)+"=="),r},decode:function(e){var t=(e=String(e).replace(s,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,a="",l=-1;++l<t;)r=c.indexOf(e.charAt(l)),n=i%4?64*n+r:r,i++%4&&(a+=String.fromCharCode(255&n>>(-2*i&6)));return a},version:"0.1.0"};void 0!==(i=function(){return l}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(11)(e),n(5))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHlsJs=t.monitorHlsJs=void 0;var i=r(n(2)),a=r(n(7)),o=n(4),c=function(e){if(!e)return{};var t=i.default.performance.timing.navigationStart;return{bytesLoaded:e.total,requestStart:Math.round(t+e.trequest),responseStart:Math.round(t+e.tfirst),responseEnd:Math.round(t+e.tload)}},s=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return(0,a.default)(e.getAllResponseHeaders())},l=function(e,t,n){var r=arguments[4],a=e.log;if(i.default.performance&&i.default.performance.timing){var l=function(n,r){return e.emit(t,n,r)},u=function(e,t){var n=t.levels,r=t.audioTracks,i=t.url,a=t.stats,u=t.networkDetails,d={},m={};n.forEach((function(e,t){d[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),r.forEach((function(e,t){m[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var f=c(a),p=f.bytesLoaded,h=f.requestStart,v=f.responseStart,g=f.responseEnd;l("requestcompleted",{request_event_type:e,request_bytes_loaded:p,request_start:h,request_response_start:v,request_response_end:g,request_type:"manifest",request_hostname:(0,o.extractHostname)(i),request_response_headers:s(u),request_rendition_lists:{media:d,audio:m,video:{}}})};n.on(r.Events.MANIFEST_LOADED,u);var d=function(e,t){var n=t.details,r=t.level,i=t.networkDetails,a=t.stats,u=c(a),d=u.bytesLoaded,m=u.requestStart,f=u.responseStart,p=u.responseEnd;l("requestcompleted",{request_event_type:e,request_bytes_loaded:d,request_start:m,request_response_start:f,request_response_end:p,request_current_level:r,request_type:"manifest",request_hostname:(0,o.extractHostname)(n.url),request_response_headers:s(i)})};n.on(r.Events.LEVEL_LOADED,d);var m=function(e,t){var n=t.details,r=t.networkDetails,i=t.stats,a=c(i),u=a.bytesLoaded,d=a.requestStart,m=a.responseStart,f=a.responseEnd;l("requestcompleted",{request_event_type:e,request_bytes_loaded:u,request_start:d,request_response_start:m,request_response_end:f,request_type:"manifest",request_hostname:(0,o.extractHostname)(n.url),request_response_headers:s(r)})};n.on(r.Events.AUDIO_TRACK_LOADED,m);var f=function(e,t){var r=t.stats,i=t.networkDetails,a=t.frag,u=c(r),d={request_event_type:e,request_bytes_loaded:u.bytesLoaded,request_start:u.requestStart,request_response_start:u.responseStart,request_response_end:u.responseEnd,request_hostname:i?(0,o.extractHostname)(i.responseURL):void 0,request_response_headers:s(i),request_media_duration:a.duration};"main"===a.type?(d.request_type="media",d.request_current_level=a.level,d.request_video_width=(n.levels[a.level]||{}).width,d.request_video_height=(n.levels[a.level]||{}).height):d.request_type=a.type,l("requestcompleted",d)};n.on(r.Events.FRAG_LOADED,f);var p=function(e,t){var n=t.details,i=t.response,a=t.context,c=t.frag;if(n===r.ErrorDetails.MANIFEST_LOAD_ERROR||n===r.ErrorDetails.MANIFEST_LOAD_TIMEOUT||n===r.ErrorDetails.FRAG_LOAD_ERROR||n===r.ErrorDetails.FRAG_LOAD_TIMEOUT||n===r.ErrorDetails.LEVEL_LOAD_ERROR||n===r.ErrorDetails.LEVEL_LOAD_TIMEOUT){var s=c&&c.url||a&&a.url||"";l("requestfailed",{request_error:n,request_url:s,request_hostname:(0,o.extractHostname)(s),request_type:n===r.ErrorDetails.FRAG_LOAD_ERROR||n===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":"manifest",request_error_code:i&&i.code,request_error_text:i&&i.text})}};n.on(r.Events.ERROR,p);var h=function(e,t){var n=t.frag,r=n&&n._url||"";l("requestcanceled",{request_cancel:e,request_url:r,request_type:"media",request_hostname:(0,o.extractHostname)(r)})};n.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,h),n._stopMuxMonitor=function(){n.off(r.Events.MANIFEST_LOADED,u),n.off(r.Events.LEVEL_LOADED,d),n.off(r.Events.AUDIO_TRACK_LOADED,m),n.off(r.Events.FRAG_LOADED,f),n.off(r.Events.ERROR,p),n.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,h),n.off(r.Events.DESTROYING,n._stopMuxMonitor),delete n._stopMuxMonitor},n.on(r.Events.DESTROYING,n._stopMuxMonitor)}else a.warn("window.performance.timing not supported. Not tracking HLS.js.")},u=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()};t.monitorHlsJs=l,t.stopMonitoringHlsJs=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var i=r(n(2)),a=r(n(7)),o=n(4),c=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var n=e.getRequests({state:"executed"});if(0===n.length)return{};var r=n[n.length-1],i=(0,o.extractHostname)(r.url),c=r.bytesLoaded,s=new Date(r.requestStartDate).getTime(),l=new Date(r.firstByteDate).getTime(),u=new Date(r.requestEndDate).getTime(),d=isNaN(r.duration)?0:r.duration,m=t.getMetricsFor(r.mediaType).HttpList,f=void 0;return m.length>0&&(f=(0,a.default)(m[m.length-1]._responseHeaders||"")),{requestStart:s,requestResponseStart:l,requestResponseEnd:u,requestBytesLoaded:c,requestResponseHeaders:f,requestMediaDuration:d,requestHostname:i}},s=function(e,t){var n=t.getQualityFor(e),r=t.getCurrentTrackFor(e).bitrateList;return r?{currentLevel:n,renditionWidth:r[n].width||null,renditionHeight:r[n].height||null,renditionBitrate:r[n].bandwidth}:{}},l=function(e,t,n){var r=e.log;if(n&&n.on){var a=function(n,r){return e.emit(t,n,r)},l=function(e){var t=e.type,n=(e.data||{}).url;a("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:(0,o.extractHostname)(n)})};n.on("manifestLoaded",l);var u={},d=function(e){var t=e.type,r=e.fragmentModel,i=(e.chunk||{}).mediaInfo||{},o=i.type,s=i.bitrateList,l={};(s=s||[]).forEach((function(e,t){l[t]={},l[t].width=e.width,l[t].height=e.height,l[t].bitrate=e.bandwidth,l[t].attrs={}})),"video"===o?u.video=l:"audio"===o?u.audio=l:u.media=l;var d=c(r,n),m=d.requestStart,f=d.requestResponseStart,p=d.requestResponseEnd,h=d.requestResponseHeaders,v=d.requestMediaDuration,g=d.requestHostname;a("requestcompleted",{request_event_type:t,request_start:m,request_response_start:f,request_response_end:p,request_bytes_loaded:-1,request_type:o+"_init",request_response_headers:h,request_hostname:g,request_media_duration:v,request_rendition_lists:u})};n.on("initFragmentLoaded",d);var m=function(e){var t=e.type,r=e.fragmentModel,i=e.chunk||{},o=i.mediaInfo,l=i.start,u=(o||{}).type,d=c(r,n),m=d.requestStart,f=d.requestResponseStart,p=d.requestResponseEnd,h=d.requestBytesLoaded,v=d.requestResponseHeaders,g=d.requestMediaDuration,b=d.requestHostname,y=s(u,n),k=y.currentLevel,w=y.renditionWidth,_=y.renditionHeight,E=y.renditionBitrate;a("requestcompleted",{request_event_type:t,request_start:m,request_response_start:f,request_response_end:p,request_bytes_loaded:h,request_type:u,request_response_headers:v,request_hostname:b,request_media_start_time:l,request_media_duration:g,request_current_level:k,request_labeled_bitrate:E,request_video_width:w,request_video_height:_})};n.on("mediaFragmentLoaded",m);var f=function(e){var t=e.error,n=e.event,r=(n=n||{}).request||{},c=i.default.event&&i.default.event.currentTarget||{};a("requestfailed",{request_error:t+"_"+n.id+"_"+r.type,request_url:n.url,request_hostname:(0,o.extractHostname)(n.url),request_type:r.mediaType,request_error_code:c.status,request_error_type:c.statusText})};n.on("error",f),n._stopMuxMonitor=function(){n.off("manifestLoaded",l),n.off("initFragmentLoaded",d),n.off("mediaFragmentLoaded",m),n.off("error",f),delete n._stopMuxMonitor}}else r.warn("Invalid dash.js player reference. Monitoring blocked.")},u=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()};t.monitorDashJS=l,t.stopMonitoringDashJS=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){},i=0;r.prototype.on=function(e,t,n){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(t=t.bind(n)),this._listeners[e].push(t),t},r.prototype.off=function(e,t){var n=this._listeners&&this._listeners[e];n&&n.forEach((function(e,r){e._eventEmitterGuid===t._eventEmitterGuid&&n.splice(r,1)}))},r.prototype.one=function(e,t,n){var r=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var a=function i(){r.off(e,i),t.apply(n||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)},r.prototype.emit=function(e,t){var n=this;if(this._listeners){t=t||{};var r=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,r){(t=t.slice()).forEach((function(t){t.call(n,{type:e},r)}))};o(r,t),o(i,t),o(a,t)}},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),i=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",(function(){this._playheadShouldBeProgressing=!0})),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("viewstart",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",(function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()})),this.on("timeupdate",(function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")})),this.on("devicesleep",(function(e,t){null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)}))};i.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=r.default.setInterval((function(){e.emit("playbackheartbeat")}),this.playbackHeartbeatTime))},i.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(r.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=i},function(e,t,n){"use strict";function r(){var e=this;this.on("viewinit",(function(){e.viewErrored=!1})),this.on("error",(function(){try{var t=e.errorTranslator({player_error_code:e.data.player_error_code,player_error_message:e.data.player_error_message});t?(e.data.player_error_code=t.player_error_code,e.data.player_error_message=t.player_error_message,e.viewErrored=!0):(delete e.data.player_error_code,delete e.data.player_error_message)}catch(t){e.mux.log.warn("Exception in error translator callback.",t),e.viewErrored=!0}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};i.prototype._updateWatchTime=function(e,t){var n=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=n),(0,r.default)(this.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n},i.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};i.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,r.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},i.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",(function(){this.off("timeupdate",this._updatePlayheadTime)}))};r.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var n=this.getPlayheadTime();void 0!==n&&(this.data.player_playhead_time=n)}},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",(function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})}))};i.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else{if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime===this.data.player_playhead_time){var n=t.viewer_time-this._lastPlayheadTimeUpdatedTime;n>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(n),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0)}},i.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},i.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},i.prototype._cleanupRebufferTracker=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var i=this.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;i>0&&a-i>this.minimumRebufferDuration?((0,r.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a-i),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-i})):this._updateRebufferMetrics()}n?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},i.prototype._updateRebufferMetrics=function(e){e>0&&(0,r.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.on("viewinit",(function(){var e=this.data,t=e.view_id;if(!e.view_program_changed){var n=function(e,n){var r=n.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(r||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(r||Date.now(),t)};this.one("playing",n),this.one("adplaying",n),this.one("viewend",(function(){this.off("playing",n),this.off("adplaying",n)}))}}))};r.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=r},function(e,t,n){"use strict";function r(){var e=this;this.on("viewinit",(function(){this._lastPlayheadPosition=-1}));var t=["playing","hb"];["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach((function(t){e.on(t,(function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),n=Math.max(0,t-1),r=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,n),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,r),(0,i.default)(this.data,"view_total_content_playback_time",e),(0,i.default)(this.data,"view_total_upscaling",n*e),(0,i.default)(this.data,"view_total_downscaling",r*e)}this._lastPlayheadPosition=-1}))})),t.forEach((function(t){e.on(t,(function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){this.isSeeking=!1,this.on("seeking",(function(e,t){(0,o.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))})),this.on("seeked",(function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,a.default)(this.data,"view_seek_count",1),(0,a.default)(this.data,"view_seek_duration",t);var n=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(n,t)})),this.on("viewend",(function(){this.isSeeking=!1}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(n(1)),o=r(n(0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(n(1)),o=n(4),c=r(n(0)),s=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},l=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],u=function(){var e=this;this.on("viewinit",(function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0})),l.forEach((function(t){return e.on(t,e._updateAdData)}));var t=function(){e.isAdBreak=!1};this.on("adbreakstart",(function(){this.isAdBreak=!0})),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",(function(e,t){t=(0,c.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),s(this._adRequests,t),(0,a.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,a.default)(this.data,"view_preroll_request_count"))})),this.on("adresponse",(function(e,t){t=(0,c.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),s(this._adResponses,t);var n=this.findAdRequest(t.ad_request_id);n&&(0,a.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-n.viewer_time))})),this.on("adplay",(function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,a.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)})),this.on("adplaying",(function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)})),this.on("adended",(function(){this._wouldBeNewAdPlay=!0})),this.on("aderror",(function(){this._wouldBeNewAdPlay=!0}))};u.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},u.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},u.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var n=(0,o.extractHostnameAndDomain)(t.ad_tag_url),r=i(n,2),a=r[0],c=r[1];this.data.view_preroll_ad_tag_domain=c,this.data.view_preroll_ad_tag_hostname=a}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var s=(0,o.extractHostnameAndDomain)(t.ad_asset_url),l=i(s,2),u=l[0],d=l[1];this.data.view_preroll_ad_asset_domain=d,this.data.view_preroll_ad_asset_hostname=u}}},t.default=u},function(e,t,n){"use strict";function r(){var e=this,t=void 0,n=void 0,r=function(){(0,i.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),n=window.setInterval((function(){if(t){var n=Date.now();(0,i.default)(e.data,"view_waiting_rebuffer_duration",n-t),t=n}}),250)},a=function(){t&&((0,i.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(n))},o=!1,c=function(){o=!0},s=function(){o=!1,a()};this.on("waiting",(function(){o&&r()})),this.on("playing",(function(){a(),c()})),this.on("pause",s),this.on("seeking",s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(1))},function(e,t,n){"use strict";function r(){var e=this;this.one("playbackheartbeat",a),this.on("playbackheartbeatend",(function(){e.off("before*",o),e.one("playbackheartbeat",a)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(){this.lastWallClockTime=Date.now(),this.on("before*",o)},o=function(e){var t=Date.now(),n=this.lastWallClockTime;this.lastWallClockTime=t,t-n>3e4&&(this.emit("devicesleep",{viewer_time:n}),(0,i.default)(this.data,{viewer_time:n}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,i.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(39),o=r(n(3)),c=r(n(43)),s=r(n(9)),l=r(n(15)),u=r(n(44)),d=r(n(46)),m=r(n(0)),f=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],p=["viewstart","error","ended","viewend"],h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new u.default((0,c.default)(t,n.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=n.sampleRate,this.disableCookies=n.disableCookies,this.respectDoNotTrack=n.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:d.default.name,viewer_application_version:d.default.version,viewer_application_engine:d.default.layout,viewer_device_name:d.default.product,viewer_device_category:"",viewer_device_manufacturer:d.default.manufacturer,viewer_os_family:d.default.os&&d.default.os.family,viewer_os_architecture:d.default.os&&d.default.os.architecture,viewer_os_version:d.default.os&&d.default.os.version},this.viewerData=this.disableCookies?{}:(0,a.getAndUpdateViewerData)()};h.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,s.default)())return o.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":i(t)))return o.default.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:(0,a.getAndUpdateSessionData)(),r={};(0,m.default)(r,this.pageLevelData),(0,m.default)(r,t),(0,m.default)(r,n),(0,m.default)(r,this.viewerData),r.event=e,r.env_key=this.envKey,r.user_id&&(r.viewer_user_id=r.user_id,delete r.user_id);var c=r.mux_sample_number>=this.sampleRate,u=this._deduplicateBeaconData(e,r),d=(0,l.default)(u);if(this.lastEventTime=Date.now(),c)return o.default.info("Not sending event due to sample rate restriction",e,r,d);if(!this.envKey)return o.default.info("Not sending event due to missing environment key",e,r,d);if(!this.rateLimited)if(o.default.info("Sending event",e,r,d),this.rateLimited=!this.eventQueue.queueEvent(e,d),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(p.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return r.event="eventrateexceeded",d=(0,l.default)(r),this.eventQueue.queueEvent(r.event,d),o.default.error("Beaconing disabled due to rate limit.")}},h.prototype.destroy=function(){this.eventQueue.destroy(!1)};var v=function(e,t,n,r){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===r?"undefined":i(r))&&Object.keys(n||{}).length===Object.keys(r||{}).length)};h.prototype._deduplicateBeaconData=function(e,t){var n=this,r={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)r=(0,m.default)({},t),i&&(this.previousBeaconData=r),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.keys(t).forEach((function(e){var i=t[e];(i!==n.previousBeaconData[e]||f.indexOf(e)>-1||v(a,e,i,n.previousBeaconData[e]))&&(r[e]=i,n.previousBeaconData[e]=i)}))}return r},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var i=r(n(12)),a=r(n(42)),o=n(6),c=function(){var e=void 0;try{e=i.default.parse(a.default.get("muxData")||"")}catch(t){e={}}return e},s=function(e){a.default.set("muxData",i.default.stringify(e),{expires:7300})},l=function(){var e=c();return e.mux_viewer_id=e.mux_viewer_id||(0,o.generateUUID)(),e.msn=e.msn||Math.random(),s(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},u=function(){var e=c(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,o.generateUUID)(),e.sst=t),e.sex=t+15e5,s(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}};t.getAndUpdateViewerData=l,t.getAndUpdateSessionData=u},function(e,t,n){"use strict";var r=n(13),i=n(14),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,n,i,a,o,s,l,u,d,m,f,p){var h=t;if("function"==typeof l)h=l(n,h);else if(h instanceof Date)h=m(h);else if(null===h){if(a)return s&&!p?s(n,c.encoder):n;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||r.isBuffer(h))return s?[f(p?n:s(n,c.encoder))+"="+f(s(h,c.encoder))]:[f(n)+"="+f(String(h))];var v,g=[];if(void 0===h)return g;if(Array.isArray(l))v=l;else{var b=Object.keys(h);v=u?b.sort(u):b}for(var y=0;y<v.length;++y){var k=v[y];o&&null===h[k]||(g=Array.isArray(h)?g.concat(e(h[k],i(n,k),i,a,o,s,l,u,d,m,f,p)):g.concat(e(h[k],n+(d?"."+k:"["+k+"]"),i,a,o,s,l,u,d,m,f,p)))}return g};e.exports=function(e,t){var n=e,o=t?r.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===o.delimiter?c.delimiter:o.delimiter,u="boolean"==typeof o.strictNullHandling?o.strictNullHandling:c.strictNullHandling,d="boolean"==typeof o.skipNulls?o.skipNulls:c.skipNulls,m="boolean"==typeof o.encode?o.encode:c.encode,f="function"==typeof o.encoder?o.encoder:c.encoder,p="function"==typeof o.sort?o.sort:null,h=void 0!==o.allowDots&&o.allowDots,v="function"==typeof o.serializeDate?o.serializeDate:c.serializeDate,g="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:c.encodeValuesOnly;if(void 0===o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var b,y,k=i.formatters[o.format];"function"==typeof o.filter?n=(y=o.filter)("",n):Array.isArray(o.filter)&&(b=y=o.filter);var w,_=[];if("object"!=typeof n||null===n)return"";w=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var E=a[w];b||(b=Object.keys(n)),p&&b.sort(p);for(var S=0;S<b.length;++S){var C=b[S];d&&null===n[C]||(_=_.concat(s(n[C],C,E,u,d,m?f:null,y,p,h,v,k,g)))}var x=_.join(l),N=!0===o.addQueryPrefix?"?":"";return x.length>0?N+x:""}},function(e,t,n){"use strict";var r=n(13),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,c=r.split(t.delimiter,o),s=0;s<c.length;++s){var l,u,d=c[s],m=d.indexOf("]="),f=-1===m?d.indexOf("="):m+1;-1===f?(l=t.decoder(d,a.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(d.slice(0,f),a.decoder),u=t.decoder(d.slice(f+1),a.decoder)),i.call(n,l)?n[l]=[].concat(n[l]).concat(u):n[l]=u}return n},c=function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(r);else{a=n.plainObjects?Object.create(null):{};var c="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,s=parseInt(c,10);!isNaN(s)&&o!==c&&String(s)===c&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(a=[])[s]=r:a[c]=r}r=a}return r},s=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),s=o?r.slice(0,o.index):r,l=[];if(s){if(!n.plainObjects&&i.call(Object.prototype,s)&&!n.allowPrototypes)return;l.push(s)}for(var u=0;null!==(o=a.exec(r))&&u<n.depth;){if(u+=1,!n.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+r.slice(o.index)+"]"),c(l,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:a.delimiter,n.depth="number"==typeof n.depth?n.depth:a.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:a.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:a.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:a.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:a.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:a.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,n):e,c=n.plainObjects?Object.create(null):{},l=Object.keys(i),u=0;u<l.length;++u){var d=l[u],m=s(d,i[d],n);c=r.merge(c,m,n)}return r.compact(c)}},function(e,t,n){"use strict";var r,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var c=!1;if(void 0!==(i="function"==typeof(r=o)?r.call(t,n,t,e):r)&&(e.exports=i),c=!0,"object"===a(t)&&(e.exports=o(),c=!0),!c){var s=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=s,l}}}((function(){function e(n){function r(e,i,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=t({path:"/"},r.defaults,a)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*a.expires),a.expires=c}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(e){}return i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",i,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}e||(o={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,u=0;u<s.length;u++){var d=s[u].split("="),m=d.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{var f=d[0].replace(l,decodeURIComponent);if(m=n.read?n.read(m,f):n(m,f)||m.replace(l,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(e===f){o=m;break}e||(o[f]=m)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}var t=function(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t};return e((function(){}))}))},function(e,t,n){"use strict";function r(e,t){return t=t||"litix.io",(e=e||"").match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),a=r(n(3)),o=r(n(45)),c=r(n(0)),s=r(n(15)),l=!!i.default.XMLHttpRequest&&"withCredentials"in new i.default.XMLHttpRequest,u={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},d=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,c.default)({},u,t)};d.prototype.queueEvent=function(e,t){var n=(0,c.default)({},t);return l?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(o.default.send(this._beaconUrl,n),!0)},d.prototype.flushEvents=function(){l&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},d.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),i.default.clearTimeout(this._sendTimeout)},d.prototype._clearBeaconQueue=function(){var e=i.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,n=this._eventQueue.slice(t);if(t>0&&(0,c.default)(n[n.length-1],(0,s.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:n}));else if(i.default.XMLHttpRequest){var r=new i.default.XMLHttpRequest;r.open("POST",this._beaconUrl),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify({events:n}))}else o.default.send(this._beaconUrl,n[n.length-1])},d.prototype._sendBeaconQueue=function(){var e=this;if(i.default.XMLHttpRequest&&!this._postInFlight){var t=new i.default.XMLHttpRequest,n=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=n.concat(e._eventQueue),e._failureCount+=1,a.default.info("Error sending beacon: "+t.status),a.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:n}))}},d.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},d.prototype._startBeaconSending=function(){var e=this;i.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=i.default.setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),a=r(n(2)),o={send:function(e,t){function n(){r.src=c+(o?"&rc="+o:"")}var r=new Image,o=0,c=e+"?"+i.default.stringify(t);return r.addEventListener("error",(function(){o>3||a.default.setTimeout((function(){o++,n()}),5e3*o)})),n(),r}};t.default=o},function(e,t,n){(function(e,r){var i;(function(){"use strict";function a(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),s(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function c(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=_)for(;++n<r;)t(e[n],n,e);else l(e,t)}function s(e){return e=p(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:a(e)}function l(e,t){for(var n in e)x.call(e,n)&&t(e[n],n,e)}function u(e){return null==e?a(e):N.call(e).slice(8,-1)}function d(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function m(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var n=null;return c(e,(function(r,i){n=t(n,r,i,e)})),n}function p(e){return String(e).replace(/^ +| +$/g,"")}function h(e){function t(t){return f(t,(function(t,n){var r=n.pattern||m(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=s(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}function n(){return this.description||""}var r=g,i=e&&"object"==typeof e&&"String"!=u(e);i&&(r=e,e=null);var a=r.navigator||{},c=a.userAgent||"";e||(e=c);var v,y,k=i||S==b,w=i?!!a.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(N.toString()),_=i?"Object":"ScriptBridgingProxyObject",C=i?"Object":"Environment",x=i&&r.java?"JavaPackage":u(r.java),T=i?"Object":"RuntimeObject",O=/\bJava/.test(x)&&r.java,I=O&&u(r.environment)==C,R=O?"a":"",D=O?"b":"",P=r.document||{},F=r.operamini||r.opera,j=E.test(j=i&&F?F["[[Class]]"]:u(F))?j:F=null,A=e,M=[],L=null,V=e==c,U=V&&F&&"function"==typeof F.version&&F.version(),B=function(t){return f([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(t,n){return t||RegExp("\\b"+(n.pattern||m(n))+"\\b","i").exec(e)&&(n.label||n)}))}(),q=function(t){return f(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(t,n){return t||RegExp("\\b"+(n.pattern||m(n))+"\\b","i").exec(e)&&(n.label||n)}))}(),W=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),z=function(t){return f({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},(function(t,n,r){return t||(n[W]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(W)]||RegExp("\\b"+m(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r}))}(),G=function(t){return f(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(t,n){var r=n.pattern||m(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,r,n.label||n)),t}))}();if(B&&(B=[B]),z&&!W&&(W=t([z])),(v=/\bGoogle TV\b/.exec(W))&&(W=v[0]),/\bSimulator\b/i.test(e)&&(W=(W?W+" ":"")+"Simulator"),"Opera Mini"==q&&/\bOPiOS\b/.test(e)&&M.push("running in Turbo/Uncompressed mode"),"IE"==q&&/\blike iPhone OS\b/.test(e)?(z=(v=h(e.replace(/like iPhone OS/,""))).manufacturer,W=v.product):/^iP/.test(W)?(q||(q="Safari"),G="iOS"+((v=/ OS ([\d_]+)/i.exec(e))?" "+v[1].replace(/_/g,"."):"")):"Konqueror"!=q||/buntu/i.test(G)?z&&"Google"!=z&&(/Chrome/.test(q)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(W))||/\bAndroid\b/.test(G)&&/^Chrome/.test(q)&&/\bVersion\//i.test(e)?(q="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==q?(/\bMobi/i.test(e)||(G="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&M.unshift("accelerated")):"PaleMoon"==q&&(v=/\bFirefox\/([\d.]+)\b/.exec(e))?M.push("identifying as Firefox "+v[1]):"Firefox"==q&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(G||(G="Firefox OS"),W||(W=v[1])):!q||(v=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(q))?(q&&!W&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(v+"/")+8))&&(q=null),(v=W||z||G)&&(W||z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(q=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:v)+" Browser")):"Electron"==q&&(v=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&M.push("Chromium "+v):G="Kubuntu",U||(U=function(t){return f(t,(function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",m(q),"(?:Firefox|Minefield|NetFront)"])),(v=("iCab"==B&&parseFloat(U)>3?"WebKit":/\bOpera\b/.test(q)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(e)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==B&&/\bPlayStation\b(?! Vita\b)/i.test(q)&&"NetFront")&&(B=[v]),"IE"==q&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(q+=" Mobile",G="Windows Phone "+(/\+$/.test(v)?v:v+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(q="IE Mobile",G="Windows Phone 8.x",M.unshift("desktop mode"),U||(U=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=q&&"Trident"==B&&(v=/\brv:([\d.]+)/.exec(e))&&(q&&M.push("identifying as "+q+(U?" "+U:"")),q="IE",U=v[1]),V){if(d(r,"global"))if(O&&(A=(v=O.lang.System).getProperty("os.arch"),G=G||v.getProperty("os.name")+" "+v.getProperty("os.version")),k&&d(r,"system")&&(v=[r.system])[0]){G||(G=v[0].os||null);try{v[1]=r.require("ringo/engine").version,U=v[1].join("."),q="RingoJS"}catch(e){v[0].global.system==r.system&&(q="Narwhal")}}else"object"==typeof r.process&&!r.process.browser&&(v=r.process)?"object"==typeof v.versions?"string"==typeof v.versions.electron?(M.push("Node "+v.versions.node),q="Electron",U=v.versions.electron):"string"==typeof v.versions.nw&&(M.push("Chromium "+U,"Node "+v.versions.node),q="NW.js",U=v.versions.nw):(q="Node.js",A=v.arch,G=v.platform,U=(U=/[\d.]+/.exec(v.version))?U[0]:"unknown"):I&&(q="Rhino");else u(v=r.runtime)==_?(q="Adobe AIR",G=v.flash.system.Capabilities.os):u(v=r.phantom)==T?(q="PhantomJS",U=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):"number"==typeof P.documentMode&&(v=/\bTrident\/(\d+)/i.exec(e))?(U=[U,P.documentMode],(v=+v[1]+4)!=U[1]&&(M.push("IE "+U[1]+" mode"),B&&(B[1]=""),U[1]=v),U="IE"==q?String(U[1].toFixed(1)):U[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(q)&&(M.push("masking as "+q+" "+U),q="IE",U="11.0",B=["Trident"],G="Windows");G=G&&s(G)}if(U&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(U)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(V&&a.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(L=/b/i.test(v)?"beta":"alpha",U=U.replace(RegExp(v+"\\+?$"),"")+("beta"==L?D:R)+(/\d+\+?/.exec(v)||"")),"Fennec"==q||"Firefox"==q&&/\b(?:Android|Firefox OS)\b/.test(G))q="Firefox Mobile";else if("Maxthon"==q&&U)U=U.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(W))"Xbox 360"==W&&(G=null),"Xbox 360"==W&&/\bIEMobile\b/.test(e)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(q)&&(!q||W||/Browser|Mobi/.test(q))||"Windows CE"!=G&&!/Mobi/i.test(e))if("IE"==q&&V)try{null===r.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(W)||/\bBB10\b/.test(e))&&(v=(RegExp(W.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||U)?(G=((v=[v,/BB10/.test(e)])[1]?(W=null,z="BlackBerry"):"Device Software")+" "+v[0],U=null):this!=l&&"Wii"!=W&&(V&&F||/Opera/.test(q)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==q&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==q&&(G&&!/^Win/.test(G)&&U>5.5||/\bWindows XP\b/.test(G)&&U>8||8==U&&!/\bTrident\b/.test(e)))&&!E.test(v=h.call(l,e.replace(E,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),E.test(q)?(/\bIE\b/.test(v)&&"Mac OS"==G&&(G=null),v="identify"+v):(v="mask"+v,q=j?s(j.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(v)&&(G=null),V||(U=null)),B=["Presto"],M.push(v));else q+=" Mobile";(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],"Safari"==q&&"+"==v[1].slice(-1)?(q="WebKit Nightly",L="alpha",U=v[1].slice(0,-1)):U!=v[1]&&U!=(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(U=null),v[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==v[0]&&537.36==v[2]&&parseFloat(v[1])>=28&&"WebKit"==B&&(B=["Blink"]),V&&(w||v[1])?(B&&(B[1]="like Chrome"),v=v[1]||((v=v[0])<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:"Blink"!=B?"27":"28")):(B&&(B[1]="like Safari"),v=(v=v[0])<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:"8"),B&&(B[1]+=" "+(v+="number"==typeof v?".x":/[.+]/.test(v)?"":"+")),"Safari"==q&&(!U||parseInt(U)>45)&&(U=v)),"Opera"==q&&(v=/\bzbov|zvav$/.exec(G))?(q+=" ",M.unshift("desktop mode"),"zvav"==v?(q+="Mini",U=null):q+="Mobile",G=G.replace(RegExp(" *"+v+"$"),"")):"Safari"==q&&/\bChrome\b/.exec(B&&B[1])&&(M.unshift("desktop mode"),q="Chrome Mobile",U=null,/\bOS X\b/.test(G)?(z="Apple",G="iOS 4.3+"):G=null),U&&0==U.indexOf(v=/[\d.]+$/.exec(G))&&e.indexOf("/"+v+"-")>-1&&(G=p(G.replace(v,""))),B&&!/\b(?:Avant|Nook)\b/.test(q)&&(/Browser|Lunascape|Maxthon/.test(q)||"Safari"!=q&&/^iOS/.test(G)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(q)&&B[1])&&(v=B[B.length-1])&&M.push(v),M.length&&(M=["("+M.join("; ")+")"]),z&&W&&W.indexOf(z)<0&&M.push("on "+z),W&&M.push((/^on /.test(M[M.length-1])?"":"on ")+W),G&&(v=/ ([\d.+]+)$/.exec(G),y=v&&"/"==G.charAt(G.length-v[0].length-1),G={architecture:32,family:v&&!y?G.replace(v[0],""):G,version:v?v[1]:null,toString:function(){var e=this.version;return this.family+(e&&!y?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+v),"")),q&&(/\bWOW64\b/i.test(e)||V&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(e))&&M.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==q&&parseFloat(U)>=39&&(G.architecture=64),e||(e=null);var H={};return H.description=e,H.layout=B&&B[0],H.manufacturer=z,H.name=q,H.prerelease=L,H.product=W,H.ua=e,H.version=q&&U,H.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=h,H.toString=n,H.version&&M.unshift(U),H.name&&M.unshift(q),G&&q&&(G!=String(G).split(" ")[0]||G!=q.split(" ")[0]&&!W)&&M.push(W?"("+G+")":"on "+G),M.length&&(H.description=M.join(" ")),H}var v={function:!0,object:!0},g=v[typeof window]&&window||this,b=g,y=v[typeof t]&&t,k=v[typeof e]&&e&&!e.nodeType&&e,w=y&&k&&"object"==typeof r&&r;!w||w.global!==w&&w.window!==w&&w.self!==w||(g=w);var _=Math.pow(2,53)-1,E=/\bOpera/,S=this,C=Object.prototype,x=C.hasOwnProperty,N=C.toString,T=h();g.platform=T,void 0!==(i=function(){return T}.call(t,n,t,e))&&(e.exports=i)}).call(this)}).call(t,n(11)(e),n(5))},function(e,t,n){"use strict";function r(){function e(e,t){var n=t.request_start,s=t.request_response_start,l=t.request_response_end,u=t.request_bytes_loaded;o++;var d=void 0,m=void 0;if(s?(d=s-n,m=l-s):m=l-n,m>0&&u>0){var f=u/m*8e3;c++,i+=u,a+=m,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,f),this.data.view_average_request_throughput=i/a*8e3,this.data.view_request_count=o,d>0&&(r+=d,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,d),this.data.view_average_request_latency=r/c)}}function t(e,t){o++,s++,this.data.view_request_count=o,this.data.view_request_failed_count=s}function n(e,t){o++,l++,this.data.view_request_count=o,this.data.view_request_canceled_count=l}var r=0,i=0,a=0,o=0,c=0,s=0,l=0;this.on("requestcompleted",e),this.on("requestfailed",t),this.on("requestcanceled",n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t,n){var r=(0,c.findMediaElement)(t),u=a(r,3),d=u[0],m=u[1],f=u[2],p=e.log,h=e.utils.getComputedStyle,v=e.utils.secondsToMs,g={automaticErrorTracking:!0};return d?"video"!==f&&"audio"!==f?p.error("The element of `"+m+"` was not a media element."):((n=(0,o.default)(g,n)).data=(0,o.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.8.0"},n.data),n.getPlayheadTime=function(){return v(d.currentTime)},n.getStateData=function(){var e=this.hlsjs&&this.hlsjs.url,t=this.dashjs&&i("function"===this.dashjs.getSource)&&this.dashjs.getSource();return{player_is_paused:d.paused,player_playhead_time:v(d.currentTime),player_width:parseInt(h(d,"width")),player_height:parseInt(h(d,"height")),player_autoplay_on:d.autoplay,player_preload_on:d.preload,video_poster_url:d.poster,video_source_url:e||t||d.currentSrc,video_source_duration:v(d.duration),video_source_height:d.videoHeight,video_source_width:d.videoWidth}},d.mux=d.mux||{},d.mux.emit=function(t,n){e.emit(m,t,n)},d.mux.destroy=function(){Object.keys(d.mux.listeners).forEach((function(e){d.removeEventListener(e,d.mux.listeners[e],!1)})),delete d.mux.listeners,e.emit(m,"destroy")},d.mux.swapElement=function(t){var n=(0,c.findMediaElement)(t),r=a(n,3),i=r[0],s=r[1],l=r[2];return i?"video"!==l&&"audio"!==l?e.log.error("The element of `"+s+"` was not a media element."):(i.muxId=d.muxId,delete d.muxId,i.mux=i.mux||{},i.mux.listeners=(0,o.default)({},d.mux.listeners),delete d.mux.listeners,Object.keys(i.mux.listeners).forEach((function(e){d.removeEventListener(e,i.mux.listeners[e],!1),i.addEventListener(e,i.mux.listeners[e],!1)})),i.mux.swapElement=d.mux.swapElement,i.mux.destroy=d.mux.destroy,delete d.mux,void(d=i)):e.log.error("No element was found with the `"+s+"` query selector.")},d.mux.addHLSJS=function(t){e.addHLSJS(m,t)},d.mux.addDashJS=function(t){e.addDashJS(m,t)},d.mux.removeHLSJS=function(){e.removeHLSJS(m)},d.mux.removeDashJS=function(){e.removeDashJS(m)},e.init(m,n),e.emit(m,"playerready"),d.paused||(e.emit(m,"play"),d.readyState>2&&e.emit(m,"playing")),d.mux.listeners={},void s.forEach((function(t){("error"!==t||n.automaticErrorTracking)&&(d.mux.listeners[t]=function(){var n={};"error"===t&&(n.player_error_code=d.error&&d.error.code,n.player_error_message=d.error&&l[d.error.code]),e.emit(m,t,n)},d.addEventListener(t,d.mux.listeners[t],!1))}))):p.error("No element was found with the `"+m+"` query selector.")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=r;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),c=n(8),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(50)),a=r(n(1)),o=r(n(51)),c=r(n(52)),s=r(n(0)),l=r(n(7)),u=n(4),d={};d.safeCall=i.default,d.safeIncrement=a.default,d.getComputedStyle=o.default,d.secondsToMs=c.default,d.assign=s.default,d.headersStringToObject=l.default,d.extractHostnameAndDomain=u.extractHostnameAndDomain,d.extractHostname=u.extractHostname,t.default=d},function(e,t,n){"use strict";function r(e,t,n,r){var a=r;if(e&&"function"==typeof e[t])try{a=e[t].apply(e,n)}catch(e){i.default.info("safeCall error",e)}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(3))},function(e,t,n){"use strict";function r(e,t){if(i.default.defaultView&&i.default.defaultView.getComputedStyle)return i.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(10))},function(e,t,n){"use strict";function r(e){return Math.floor(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}])}()}()}()},BiRy:function(e,t,n){e.exports=n.p+"img/video-player/luna-head-e7402004716fa3eaccfb2ebdd0e8877d.svg"},BjcZ:function(e,t,n){},Brn7:function(e,t,n){"use strict";n("pNMO"),n("ma9I"),n("TeQF"),n("fbCW"),n("QWBl"),n("4mDm"),n("2B1R"),n("Rfxz"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("PKPk"),n("FZtP"),n("3bBZ");var r=n("o0o1"),i=n.n(r),a=n("lSNA"),o=n.n(a),c=(n("ls82"),n("yXPU")),s=n.n(c),l=n("RIqP"),u=n.n(l),d=n("J4zp"),m=n.n(d),f=n("q4mm"),p=n("TSYQ"),h=n.n(p),v=n("q1tI"),g=n.n(v),b=n("Vg22"),y=n("0X1P"),k=n("4mtl"),w=n("8N09"),_=n("AGlj"),E=n("sDAx"),S=n("BClo"),C=n("ZrrK"),x=n("CtBj"),N=n("/Fp1"),T=n("wv65"),O=n("kZ0K"),I=n("JjJZ"),R=n("p91b"),D=n("Ot3Z"),P=n("YHxX"),F=n("BuNa"),j=n.n(F),A=n("xY5J"),M=n.n(A),L=n("hqGL"),V=n.n(L),U=n("qp16"),B=n.n(U),q=n("eYhW"),W=n("fG1h"),z=n("t1HX"),G=n("F3pX"),H=n("0Syt"),J=n("KDCk");n("nPC0");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(){return g.a.createElement("div",{className:"sendingInvites"},g.a.createElement("div",{className:"message"},g.a.createElement(f.Text,{variant:"mainTitle"},"Invites are on the way!")))},Y=function(e){var t=e.editors,n=e.removeCurrentEditor,r=[{email:e.ownerEmail,invitePending:!1,isOwner:!0}].concat(t);return g.a.createElement(g.a.Fragment,null,g.a.createElement(f.Spacer,{top:3}),g.a.createElement("div",{className:"editorList"},r.map((function(e){var t=e.isOwner||e.inheritedPermissions;return g.a.createElement("div",{key:e.email,className:"editorRow"},e.email," ",e.invitePending?"(pending invite)":"",g.a.createElement("a",{href:"/",className:h()({disabledLink:t}),onClick:function(r){r.preventDefault(),t||n(e.userId)}},g.a.createElement(f.Text,{htmlTag:"span",fontWeight:"bold",color:t?"bodyDimmed":""},e.isOwner?"Owner":"Remove")))}))),g.a.createElement(f.Spacer,{bottom:1}))},X=function(e){var t=e.sendingInvites,n=e.onClick,r=e.currentEditors;if(t)return null;var i=!r.some((function(e){return e.invitePending}));return g.a.createElement(f.Button,{variant:"primary",isDisabled:i,onClick:n},"Send Invite")},Z=function(e){var t=e.sendingInvites,n=e.videoUrl,r=Object(b.useSelector)(P.b),i=r.entityType,a=r.entityId,o=r.entityName,c=r.entityIsShared,s=Object(b.useDispatch)(),l=Object(I.a)(n,{successDuration:2e3}),u=m()(l,2),d=u[0],p=u[1];return t?null:i===S.g?g.a.createElement(f.Button,{icon:g.a.createElement(f.SvgLink,null),onClick:function(e){e.preventDefault(),p()}},d?"Link Copied":"Copy Link"):g.a.createElement(f.Button,{icon:g.a.createElement(f.SvgLink,null),onClick:function(){s(Object(k.t)()),s(Object(C.H)(a,o,c)),x.h(_.N)}},"Copy Link")};t.a=function(){var e=Object(v.useState)([]),t=m()(e,2),n=t[0],r=t[1],a=Object(v.useState)(!1),o=m()(a,2),c=o[0],l=o[1],d=Object(v.useState)([]),p=m()(d,2),h=p[0],C=p[1],I=Object(v.useState)(!1),F=m()(I,2),A=F[0],L=F[1],U=Object(v.useState)(!1),Q=m()(U,2),ee=Q[0],te=Q[1],ne=Object(b.useSelector)(P.b),re=ne.entityType,ie=ne.entityId,ae=ne.entityName,oe=ne.entityOwnerEmail,ce=Object(b.useSelector)(P.h),se=Object(b.useSelector)(D.a).email,le=Object(R.d)(),ue=null==le?void 0:le.id,de=Object(b.useDispatch)(),me="Invite people to edit ".concat(ae),fe="".concat(E.A,"/share/").concat(ie),pe=ce===G.a?"Once you invite someone, this item can be found in your Shared library":"If you remove all collaborators this item will return to your Private library",he=function(){var e=s()(i.a.mark((function e(){var t,a,o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),t=Object(T.getGraphQLClient)(),a=n.filter((function(e){return e.invitePending})).map((function(e){return{entityId:ie,entityType:re,email:e.email,write:!0,delete:!0}})),e.next=6,t.mutate({mutation:j.a,variables:{permissions:u()(a)}});case 6:o=e.sent,(c=o.data).addSharedPermission.success&&(s=n.map((function(e){return K(K({},e),{},{invitePending:!1})})),r(u()(s)),ee||te(c.addSharedPermission.removeFromView),Object(q.a)(le.onboarding,z.a)&&Object(q.c)(de,z.a,ue),x.h(_.cc,{entity_type:re,is_owner:se===oe})),l(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),de(Object(y.b)(w.a,"An error occurred sending invites")),O.d(e.t0,"error sending collaboration invites"),l(!1);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=s()(i.a.mark((function e(t){var a,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.userId===t}))){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,a.invitePending){e.next=8;break}return o=Object(T.getGraphQLClient)(),e.next=8,o.mutate({mutation:B.a,variables:{entityId:ie,userId:t}});case 8:c=n.filter((function(e){return e.userId!==t})),r(u()(c)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),de(Object(y.b)(w.a,"Unable to remove editor")),O.d(e.t0,"error removing editor");case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();Object(v.useEffect)((function(){if(ue){L(!0);var e=Object(T.getGraphQLClient)();!function(){c.apply(this,arguments)}()}function t(){return n.apply(this,arguments)}function n(){return(n=s()(i.a.mark((function t(){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.query({query:V.a,variables:{workspaceId:ue,status:W.a},fetchPolicy:"no-cache"});case 3:n=t.sent,r=n.data,a=r.workspaceMembers,o=a.accepted.filter((function(e){return e.user.email!==se&&e.user.email!==oe})).map((function(e){return{photo:Object(N.c)(e.user.avatars),text:"".concat(e.user.first_name||""," ").concat(e.user.last_name||""),subtext:e.user.email,id:e.user.id,email:e.user.email}})),C(u()(o)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),de(Object(y.b)(w.a,"Unable to fetch worskpace members")),O.d(t.t0,"error fetching workspace members");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function a(){return o.apply(this,arguments)}function o(){return(o=s()(i.a.mark((function e(){var t,n,a,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(T.getGraphQLClient)(),e.next=4,t.query({query:M.a,variables:{entityId:ie},fetchPolicy:"no-cache"});case 4:n=e.sent,a=n.data,o=a.sharedEntityAccessList,c=o.map((function(e){return{userId:e.entity_shared_with_user.id,email:e.entity_shared_with_user.email,inheritedPermissions:!e.is_top_level,invitePending:!1}})),r(u()(c)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),de(Object(y.b)(w.a,"Unable to fetch current editors")),O.d(e.t0,"error fetching current editors");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function c(){return(c=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a(),t()]);case 2:L(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[de,ie,se,oe,ue]);return g.a.createElement(f.Modal,{title:c?"":me,isOpen:!0,onCloseClick:function(){return function(){(ee||!n.length&&ce===G.c)&&(re===S.b?de(Object(k.v)([ie])):de(Object(k.w)([ie]))),de(Object(k.t)())}()},mainButton:g.a.createElement(X,{sendingInvites:c,onClick:he,currentEditors:n}),alternativeButton:g.a.createElement(Z,{sendingInvites:c,videoUrl:fe})},g.a.createElement(g.a.Fragment,null,A&&g.a.createElement("div",{className:"loader"},g.a.createElement(f.Loader,{size:"large"})),c&&g.a.createElement($,null),!c&&!A&&g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"modalBodyText"},g.a.createElement("p",null,pe),g.a.createElement(f.Spacer,{bottom:2}),g.a.createElement("p",null,"Others invited to edit who do not have Creator permissions will only be able to view, not edit.")),g.a.createElement(J.a,{ctaButtonText:"Add to list",returnInputOnEmptySelection:!0,queryValidation:function(e){return e===se?"You can't invite yourself!":e===oe?"The owner already has access to edit":Object(H.m)(e)?h.find((function(t){return t.email===e}))?void 0:"You can only invite members of this workspace":"Oops! That doesn't look like a valid email"},suggestions:h,onSelection:function(e){var t=h.find((function(t){return t.email===e.text}));n.find((function(e){return e.userId===t.id}))||r([{userId:t.id,email:t.email,inheritedPermissions:!1,invitePending:!0}].concat(u()(n)))}}),g.a.createElement(Y,{editors:n,removeCurrentEditor:ve,ownerEmail:oe}))))}},BuNa:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addSharedPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"permissions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"SharedPermission"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addSharedPermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"permissions"},value:{kind:"Variable",name:{kind:"Name",value:"permissions"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removeFromView"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation addSharedPermission($permissions: [SharedPermission]!) {\n  addSharedPermission(permissions: $permissions) {\n    success\n    removeFromView\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.addSharedPermission=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"addSharedPermission")},BwaV:function(e,t,n){},C3Os:function(e,t,n){e.exports=n.p+"img/video-player/yay@2x-332f80bf41f4608015d3880a2d6f68d1.png"},CYXk:function(e,t,n){},CeCt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"declineWorkspaceInvitation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inviteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"declineWorkspaceInvitation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"inviteId"},value:{kind:"Variable",name:{kind:"Name",value:"inviteId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:124}};n.loc.source={body:"mutation declineWorkspaceInvitation($inviteId: ID!) {\n  declineWorkspaceInvitation(inviteId: $inviteId) {\n    success\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.declineWorkspaceInvitation=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"declineWorkspaceInvitation")},ClqA:function(e,t,n){},CpAr:function(e,t,n){e.exports=n.p+"img/icons/nested-folder-1-digit-ac8905940660ff439a09680f2c3a4c5a.svg"},Cx20:function(e,t,n){},"D0L/":function(e,t,n){e.exports={header:"header_header_24S",actions:"header_actions_2uu",notificationsCount:"header_notificationsCount_35J",countContainer:"header_countContainer_3Qs",mobileMenu:"header_mobileMenu_2D8",overlayNavBarButton:"header_overlayNavBarButton_EmR"}},D39V:function(e,t,n){e.exports=n.p+"img/icons/attachment-upload/error-d3cea350e72ec1a35a085e78fb64164e.svg"},D4io:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoView"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ViewEvent"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"engagementInsightsView"},arguments:[{kind:"Argument",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}}],directives:[]}]}}],loc:{start:0,end:83}};n.loc.source={body:"mutation VideoView($event: ViewEvent!) {\n  engagementInsightsView(event: $event)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.VideoView=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"VideoView")},DbOb:function(e,t,n){e.exports=n.p+"img/notifications/play-13e21700e44c72488694b29f965917aa.svg"},DdUL:function(e,t,n){e.exports=n.p+"img/logos/salesforce-eb3673a658fb731977cec72450e2ac17.svg"},Dk2s:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="target-share-page-embed",i=250},Dzm3:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("iDef"),i=function(){return{type:r.Tc}},a=function(e){return{type:r.vb,viewers:e}},o=function(e){return{type:r.Qb,selectedView:e}}},E9sv:function(e,t,n){},"EF/v":function(e,t,n){},EMzn:function(e,t,n){"use strict";n.r(t),n.d(t,"parse",(function(){return R})),n.d(t,"parseValue",(function(){return D})),n.d(t,"parseType",(function(){return P})),n.d(t,"parseConstValue",(function(){return $})),n.d(t,"parseTypeReference",(function(){return te})),n.d(t,"parseNamedType",(function(){return ne}));var r=n("rWdj"),i=n("RKIb");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,i.a&&(e.prototype[i.a]=t)}function o(e,t){if(!e)throw new Error(t)}var c=function(e,t,n){this.body=e,this.name=t||"GraphQL request",this.locationOffset=n||{line:1,column:1},this.locationOffset.line>0||o(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||o(0,"column in locationOffset is 1-indexed and must be positive")};function s(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,a=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,a=t+1-(n.index+n[0].length);return{line:i,column:a}}function l(e,t){var n=e.locationOffset.column-1,r=u(n)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,c=1===t.line?n:0,s=t.column+c,l=r.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(o,":").concat(s,")\n")+function(e){var t=e.filter((function(e){e[0];return void 0!==e[1]})),n=0,r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value[0];n=Math.max(n,s.length)}}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t.map((function(e){var t=e[0],r=e[1];return function(e,t){return u(e-t.length)+t}(n,t)+r})).join("\n")}([["".concat(o-1,": "),l[i-1]],["".concat(o,": "),l[i]],["",u(s-1)+"^"],["".concat(o+1,": "),l[i+1]]])}function u(e){return Array(e+1).join(" ")}function d(e,t,n,r,i,a,o){var c=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,l=n;if(!l&&c){var u=c[0];l=u&&u.loc&&u.loc.source}var m,f=r;!f&&c&&(f=c.reduce((function(e,t){return t.loc&&e.push(t.loc.start),e}),[])),f&&0===f.length&&(f=void 0),r&&n?m=r.map((function(e){return s(n,e)})):c&&(m=c.reduce((function(e,t){return t.loc&&e.push(s(t.loc.source,t.loc.start)),e}),[]));var p=o||a&&a.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:m||void 0,enumerable:Boolean(m)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:c||void 0},source:{value:l||void 0},positions:{value:f||void 0},originalError:{value:a},extensions:{value:p||void 0,enumerable:Boolean(p)}}),a&&a.stack?Object.defineProperty(this,"stack",{value:a.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,d):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function m(e,t,n){return new d("Syntax Error: ".concat(n),void 0,e,[t])}function f(e){for(var t=e.split(/\r\n|[\n\r]/g),n=null,r=1;r<t.length;r++){var i=t[r],a=p(i);if(a<i.length&&(null===n||a<n)&&0===(n=a))break}if(n)for(var o=1;o<t.length;o++)t[o]=t[o].slice(n);for(;t.length>0&&h(t[0]);)t.shift();for(;t.length>0&&h(t[t.length-1]);)t.pop();return t.join("\n")}function p(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function h(e){return p(e)===e.length}function v(e,t){var n=new E(y.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:n,token:n,line:1,lineStart:0,advance:g,lookahead:b}}function g(){return this.lastToken=this.token,this.token=this.lookahead()}function b(){var e=this.token;if(e.kind!==y.EOF)do{e=e.next||(e.next=C(this,e))}while(e.kind===y.COMMENT);return e}!function(e){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}(c),d.prototype=Object.create(Error.prototype,{constructor:{value:d},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=[];if(e.nodes){var n=!0,r=!1,i=void 0;try{for(var a,o=e.nodes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var c=a.value;c.loc&&t.push(l(c.loc.source,s(c.loc.source,c.loc.start)))}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}else if(e.source&&e.locations){var u=e.source,d=!0,m=!1,f=void 0;try{for(var p,h=e.locations[Symbol.iterator]();!(d=(p=h.next()).done);d=!0){var v=p.value;t.push(l(u,v))}}catch(e){m=!0,f=e}finally{try{d||null==h.return||h.return()}finally{if(m)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}(this)}}});var y=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function k(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}var w=String.prototype.charCodeAt,_=String.prototype.slice;function E(e,t,n,r,i,a,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=a,this.next=null}function S(e){return isNaN(e)?y.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function C(e,t){var n=e.source,r=n.body,i=r.length,a=function(e,t,n){var r=e.length,i=t;for(;i<r;){var a=w.call(e,i);if(9===a||32===a||44===a||65279===a)++i;else if(10===a)++i,++n.line,n.lineStart=i;else{if(13!==a)break;10===w.call(e,i+1)?i+=2:++i,++n.line,n.lineStart=i}}return i}(r,t.end,e),o=e.line,c=1+a-e.lineStart;if(a>=i)return new E(y.EOF,i,i,o,c,t);var s=w.call(r,a);switch(s){case 33:return new E(y.BANG,a,a+1,o,c,t);case 35:return function(e,t,n,r,i){var a,o=e.body,c=t;do{a=w.call(o,++c)}while(null!==a&&(a>31||9===a));return new E(y.COMMENT,t,c,n,r,i,_.call(o,t+1,c))}(n,a,o,c,t);case 36:return new E(y.DOLLAR,a,a+1,o,c,t);case 38:return new E(y.AMP,a,a+1,o,c,t);case 40:return new E(y.PAREN_L,a,a+1,o,c,t);case 41:return new E(y.PAREN_R,a,a+1,o,c,t);case 46:if(46===w.call(r,a+1)&&46===w.call(r,a+2))return new E(y.SPREAD,a,a+3,o,c,t);break;case 58:return new E(y.COLON,a,a+1,o,c,t);case 61:return new E(y.EQUALS,a,a+1,o,c,t);case 64:return new E(y.AT,a,a+1,o,c,t);case 91:return new E(y.BRACKET_L,a,a+1,o,c,t);case 93:return new E(y.BRACKET_R,a,a+1,o,c,t);case 123:return new E(y.BRACE_L,a,a+1,o,c,t);case 124:return new E(y.PIPE,a,a+1,o,c,t);case 125:return new E(y.BRACE_R,a,a+1,o,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,r,i){var a=e.body,o=a.length,c=t+1,s=0;for(;c!==o&&null!==(s=w.call(a,c))&&(95===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122);)++c;return new E(y.NAME,t,c,n,r,i,_.call(a,t,c))}(n,a,o,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,a){var o=e.body,c=n,s=t,l=!1;45===c&&(c=w.call(o,++s));if(48===c){if((c=w.call(o,++s))>=48&&c<=57)throw m(e,s,"Invalid number, unexpected digit after 0: ".concat(S(c),"."))}else s=x(e,s,c),c=w.call(o,s);46===c&&(l=!0,c=w.call(o,++s),s=x(e,s,c),c=w.call(o,s));69!==c&&101!==c||(l=!0,43!==(c=w.call(o,++s))&&45!==c||(c=w.call(o,++s)),s=x(e,s,c));return new E(l?y.FLOAT:y.INT,t,s,r,i,a,_.call(o,t,s))}(n,a,s,o,c,t);case 34:return 34===w.call(r,a+1)&&34===w.call(r,a+2)?function(e,t,n,r,i,a){var o=e.body,c=t+3,s=c,l=0,u="";for(;c<o.length&&null!==(l=w.call(o,c));){if(34===l&&34===w.call(o,c+1)&&34===w.call(o,c+2))return u+=_.call(o,s,c),new E(y.BLOCK_STRING,t,c+3,n,r,i,f(u));if(l<32&&9!==l&&10!==l&&13!==l)throw m(e,c,"Invalid character within String: ".concat(S(l),"."));10===l?(++c,++a.line,a.lineStart=c):13===l?(10===w.call(o,c+1)?c+=2:++c,++a.line,a.lineStart=c):92===l&&34===w.call(o,c+1)&&34===w.call(o,c+2)&&34===w.call(o,c+3)?(u+=_.call(o,s,c)+'"""',s=c+=4):++c}throw m(e,c,"Unterminated string.")}(n,a,o,c,t,e):function(e,t,n,r,i){var a=e.body,o=t+1,c=o,s=0,l="";for(;o<a.length&&null!==(s=w.call(a,o))&&10!==s&&13!==s;){if(34===s)return l+=_.call(a,c,o),new E(y.STRING,t,o+1,n,r,i,l);if(s<32&&9!==s)throw m(e,o,"Invalid character within String: ".concat(S(s),"."));if(++o,92===s){switch(l+=_.call(a,c,o-1),s=w.call(a,o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var u=N(w.call(a,o+1),w.call(a,o+2),w.call(a,o+3),w.call(a,o+4));if(u<0)throw m(e,o,"Invalid character escape sequence: "+"\\u".concat(a.slice(o+1,o+5),"."));l+=String.fromCharCode(u),o+=4;break;default:throw m(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(s),"."))}c=++o}}throw m(e,o,"Unterminated string.")}(n,a,o,c,t)}throw m(n,a,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(S(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(S(e),".")}(s))}function x(e,t,n){var r=e.body,i=t,a=n;if(a>=48&&a<=57){do{a=w.call(r,++i)}while(a>=48&&a<=57);return i}throw m(e,i,"Invalid number, expected digit but got: ".concat(S(a),"."))}function N(e,t,n,r){return T(e)<<12|T(t)<<8|T(n)<<4|T(r)}function T(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}a(E,(function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}));var O=n("/jXB"),I=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function R(e,t){var n="string"==typeof e?new c(e):e;if(!(n instanceof c))throw new TypeError("Must provide Source. Received: ".concat(Object(r.a)(n)));return function(e){var t=e.token;return{kind:O.a.DOCUMENT,definitions:xe(e,y.SOF,j,y.EOF),loc:ge(e,t)}}(v(n,t||{}))}function D(e,t){var n=v("string"==typeof e?new c(e):e,t||{});we(n,y.SOF);var r=Q(n,!1);return we(n,y.EOF),r}function P(e,t){var n=v("string"==typeof e?new c(e):e,t||{});we(n,y.SOF);var r=te(n);return we(n,y.EOF),r}function F(e){var t=we(e,y.NAME);return{kind:O.a.NAME,value:t.value,loc:ge(e,t)}}function j(e){if(ye(e,y.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return A(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return re(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===y.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"schema");var n=Z(e,!0),r=ye(e,y.BRACE_L)?xe(e,y.BRACE_L,oe,y.BRACE_R):[];if(0===n.length&&0===r.length)throw Se(e);return{kind:O.a.SCHEMA_EXTENSION,directives:n,operationTypes:r,loc:ge(e,t)}}(e);case"scalar":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"scalar");var n=F(e),r=Z(e,!0);if(0===r.length)throw Se(e);return{kind:O.a.SCALAR_TYPE_EXTENSION,name:n,directives:r,loc:ge(e,t)}}(e);case"type":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"type");var n=F(e),r=ce(e),i=Z(e,!0),a=se(e);if(0===r.length&&0===i.length&&0===a.length)throw Se(e);return{kind:O.a.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:a,loc:ge(e,t)}}(e);case"interface":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"interface");var n=F(e),r=Z(e,!0),i=se(e);if(0===r.length&&0===i.length)throw Se(e);return{kind:O.a.INTERFACE_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:ge(e,t)}}(e);case"union":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"union");var n=F(e),r=Z(e,!0),i=me(e);if(0===r.length&&0===i.length)throw Se(e);return{kind:O.a.UNION_TYPE_EXTENSION,name:n,directives:r,types:i,loc:ge(e,t)}}(e);case"enum":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"enum");var n=F(e),r=Z(e,!0),i=fe(e);if(0===r.length&&0===i.length)throw Se(e);return{kind:O.a.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i,loc:ge(e,t)}}(e);case"input":return function(e){var t=e.token;Ee(e,"extend"),Ee(e,"input");var n=F(e),r=Z(e,!0),i=he(e);if(0===r.length&&0===i.length)throw Se(e);return{kind:O.a.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i,loc:ge(e,t)}}(e)}throw Se(e,t)}(e)}else{if(ye(e,y.BRACE_L))return A(e);if(ie(e))return re(e)}throw Se(e)}function A(e){if(ye(e,y.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return M(e);case"fragment":return function(e){var t=e.token;if(Ee(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:O.a.FRAGMENT_DEFINITION,name:J(e),variableDefinitions:V(e),typeCondition:(Ee(e,"on"),ne(e)),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,t)};return{kind:O.a.FRAGMENT_DEFINITION,name:J(e),typeCondition:(Ee(e,"on"),ne(e)),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,t)}}(e)}else if(ye(e,y.BRACE_L))return M(e);throw Se(e)}function M(e){var t=e.token;if(ye(e,y.BRACE_L))return{kind:O.a.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:q(e),loc:ge(e,t)};var n,r=L(e);return ye(e,y.NAME)&&(n=F(e)),{kind:O.a.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:V(e),directives:Z(e,!1),selectionSet:q(e),loc:ge(e,t)}}function L(e){var t=we(e,y.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Se(e,t)}function V(e){return ye(e,y.PAREN_L)?xe(e,y.PAREN_L,U,y.PAREN_R):[]}function U(e){var t=e.token;return{kind:O.a.VARIABLE_DEFINITION,variable:B(e),type:(we(e,y.COLON),te(e)),defaultValue:ke(e,y.EQUALS)?Q(e,!0):void 0,directives:Z(e,!0),loc:ge(e,t)}}function B(e){var t=e.token;return we(e,y.DOLLAR),{kind:O.a.VARIABLE,name:F(e),loc:ge(e,t)}}function q(e){var t=e.token;return{kind:O.a.SELECTION_SET,selections:xe(e,y.BRACE_L,W,y.BRACE_R),loc:ge(e,t)}}function W(e){return ye(e,y.SPREAD)?function(e){var t=e.token;we(e,y.SPREAD);var n=_e(e,"on");if(!n&&ye(e,y.NAME))return{kind:O.a.FRAGMENT_SPREAD,name:J(e),directives:Z(e,!1),loc:ge(e,t)};return{kind:O.a.INLINE_FRAGMENT,typeCondition:n?ne(e):void 0,directives:Z(e,!1),selectionSet:q(e),loc:ge(e,t)}}(e):function(e){var t,n,r=e.token,i=F(e);ke(e,y.COLON)?(t=i,n=F(e)):n=i;return{kind:O.a.FIELD,alias:t,name:n,arguments:z(e,!1),directives:Z(e,!1),selectionSet:ye(e,y.BRACE_L)?q(e):void 0,loc:ge(e,r)}}(e)}function z(e,t){var n=t?H:G;return ye(e,y.PAREN_L)?xe(e,y.PAREN_L,n,y.PAREN_R):[]}function G(e){var t=e.token;return{kind:O.a.ARGUMENT,name:F(e),value:(we(e,y.COLON),Q(e,!1)),loc:ge(e,t)}}function H(e){var t=e.token;return{kind:O.a.ARGUMENT,name:F(e),value:(we(e,y.COLON),$(e)),loc:ge(e,t)}}function J(e){if("on"===e.token.value)throw Se(e);return F(e)}function Q(e,t){var n=e.token;switch(n.kind){case y.BRACKET_L:return function(e,t){var n=e.token,r=t?$:Y;return{kind:O.a.LIST,values:Ce(e,y.BRACKET_L,r,y.BRACKET_R),loc:ge(e,n)}}(e,t);case y.BRACE_L:return function(e,t){var n=e.token;we(e,y.BRACE_L);var r=[];for(;!ke(e,y.BRACE_R);)r.push(X(e,t));return{kind:O.a.OBJECT,fields:r,loc:ge(e,n)}}(e,t);case y.INT:return e.advance(),{kind:O.a.INT,value:n.value,loc:ge(e,n)};case y.FLOAT:return e.advance(),{kind:O.a.FLOAT,value:n.value,loc:ge(e,n)};case y.STRING:case y.BLOCK_STRING:return K(e);case y.NAME:return"true"===n.value||"false"===n.value?(e.advance(),{kind:O.a.BOOLEAN,value:"true"===n.value,loc:ge(e,n)}):"null"===n.value?(e.advance(),{kind:O.a.NULL,loc:ge(e,n)}):(e.advance(),{kind:O.a.ENUM,value:n.value,loc:ge(e,n)});case y.DOLLAR:if(!t)return B(e)}throw Se(e)}function K(e){var t=e.token;return e.advance(),{kind:O.a.STRING,value:t.value,block:t.kind===y.BLOCK_STRING,loc:ge(e,t)}}function $(e){return Q(e,!0)}function Y(e){return Q(e,!1)}function X(e,t){var n=e.token;return{kind:O.a.OBJECT_FIELD,name:F(e),value:(we(e,y.COLON),Q(e,t)),loc:ge(e,n)}}function Z(e,t){for(var n=[];ye(e,y.AT);)n.push(ee(e,t));return n}function ee(e,t){var n=e.token;return we(e,y.AT),{kind:O.a.DIRECTIVE,name:F(e),arguments:z(e,t),loc:ge(e,n)}}function te(e){var t,n=e.token;return ke(e,y.BRACKET_L)?(t=te(e),we(e,y.BRACKET_R),t={kind:O.a.LIST_TYPE,type:t,loc:ge(e,n)}):t=ne(e),ke(e,y.BANG)?{kind:O.a.NON_NULL_TYPE,type:t,loc:ge(e,n)}:t}function ne(e){var t=e.token;return{kind:O.a.NAMED_TYPE,name:F(e),loc:ge(e,t)}}function re(e){var t=ie(e)?e.lookahead():e.token;if(t.kind===y.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Ee(e,"schema");var n=Z(e,!0),r=xe(e,y.BRACE_L,oe,y.BRACE_R);return{kind:O.a.SCHEMA_DEFINITION,directives:n,operationTypes:r,loc:ge(e,t)}}(e);case"scalar":return function(e){var t=e.token,n=ae(e);Ee(e,"scalar");var r=F(e),i=Z(e,!0);return{kind:O.a.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i,loc:ge(e,t)}}(e);case"type":return function(e){var t=e.token,n=ae(e);Ee(e,"type");var r=F(e),i=ce(e),a=Z(e,!0),o=se(e);return{kind:O.a.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:a,fields:o,loc:ge(e,t)}}(e);case"interface":return function(e){var t=e.token,n=ae(e);Ee(e,"interface");var r=F(e),i=Z(e,!0),a=se(e);return{kind:O.a.INTERFACE_TYPE_DEFINITION,description:n,name:r,directives:i,fields:a,loc:ge(e,t)}}(e);case"union":return function(e){var t=e.token,n=ae(e);Ee(e,"union");var r=F(e),i=Z(e,!0),a=me(e);return{kind:O.a.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:a,loc:ge(e,t)}}(e);case"enum":return function(e){var t=e.token,n=ae(e);Ee(e,"enum");var r=F(e),i=Z(e,!0),a=fe(e);return{kind:O.a.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:a,loc:ge(e,t)}}(e);case"input":return function(e){var t=e.token,n=ae(e);Ee(e,"input");var r=F(e),i=Z(e,!0),a=he(e);return{kind:O.a.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:a,loc:ge(e,t)}}(e);case"directive":return function(e){var t=e.token,n=ae(e);Ee(e,"directive"),we(e,y.AT);var r=F(e),i=ue(e);Ee(e,"on");var a=function(e){ke(e,y.PIPE);var t=[];do{t.push(ve(e))}while(ke(e,y.PIPE));return t}(e);return{kind:O.a.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,locations:a,loc:ge(e,t)}}(e)}throw Se(e,t)}function ie(e){return ye(e,y.STRING)||ye(e,y.BLOCK_STRING)}function ae(e){if(ie(e))return K(e)}function oe(e){var t=e.token,n=L(e);we(e,y.COLON);var r=ne(e);return{kind:O.a.OPERATION_TYPE_DEFINITION,operation:n,type:r,loc:ge(e,t)}}function ce(e){var t=[];if(_e(e,"implements")){ke(e,y.AMP);do{t.push(ne(e))}while(ke(e,y.AMP)||e.options.allowLegacySDLImplementsInterfaces&&ye(e,y.NAME))}return t}function se(e){return e.options.allowLegacySDLEmptyFields&&ye(e,y.BRACE_L)&&e.lookahead().kind===y.BRACE_R?(e.advance(),e.advance(),[]):ye(e,y.BRACE_L)?xe(e,y.BRACE_L,le,y.BRACE_R):[]}function le(e){var t=e.token,n=ae(e),r=F(e),i=ue(e);we(e,y.COLON);var a=te(e),o=Z(e,!0);return{kind:O.a.FIELD_DEFINITION,description:n,name:r,arguments:i,type:a,directives:o,loc:ge(e,t)}}function ue(e){return ye(e,y.PAREN_L)?xe(e,y.PAREN_L,de,y.PAREN_R):[]}function de(e){var t=e.token,n=ae(e),r=F(e);we(e,y.COLON);var i,a=te(e);ke(e,y.EQUALS)&&(i=$(e));var o=Z(e,!0);return{kind:O.a.INPUT_VALUE_DEFINITION,description:n,name:r,type:a,defaultValue:i,directives:o,loc:ge(e,t)}}function me(e){var t=[];if(ke(e,y.EQUALS)){ke(e,y.PIPE);do{t.push(ne(e))}while(ke(e,y.PIPE))}return t}function fe(e){return ye(e,y.BRACE_L)?xe(e,y.BRACE_L,pe,y.BRACE_R):[]}function pe(e){var t=e.token,n=ae(e),r=F(e),i=Z(e,!0);return{kind:O.a.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i,loc:ge(e,t)}}function he(e){return ye(e,y.BRACE_L)?xe(e,y.BRACE_L,de,y.BRACE_R):[]}function ve(e){var t=e.token,n=F(e);if(I.hasOwnProperty(n.value))return n;throw Se(e,t)}function ge(e,t){if(!e.options.noLocation)return new be(t,e.lastToken,e.source)}function be(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}function ye(e,t){return e.token.kind===t}function ke(e,t){return e.token.kind===t&&(e.advance(),!0)}function we(e,t){var n=e.token;if(n.kind===t)return e.advance(),n;throw m(e.source,n.start,"Expected ".concat(t,", found ").concat(k(n)))}function _e(e,t){var n=e.token;return n.kind===y.NAME&&n.value===t&&(e.advance(),!0)}function Ee(e,t){if(!_e(e,t))throw m(e.source,e.token.start,'Expected "'.concat(t,'", found ').concat(k(e.token)))}function Se(e,t){var n=t||e.token;return m(e.source,n.start,"Unexpected ".concat(k(n)))}function Ce(e,t,n,r){we(e,t);for(var i=[];!ke(e,r);)i.push(n(e));return i}function xe(e,t,n,r){we(e,t);for(var i=[n(e)];!ke(e,r);)i.push(n(e));return i}a(be,(function(){return{start:this.start,end:this.end}}))},"ET+7":function(e,t,n){},EXwI:function(e,t,n){},EoSf:function(e,t,n){e.exports=n.p+"img/video-player/luna-body-63fa23ddfce161c56a483deef3e40f98.svg"},EsTn:function(e,t,n){e.exports=n.p+"img/notifications/notifications_always_allow-eafad1e116af063dcd7b9acbafee4fbc.gif"},Euk2:function(e,t,n){},EvSo:function(e,t,n){},FGiv:function(e,t){var n=1e3,r=6e4,i=60*r,a=24*i,o=7*a,c=365.25*a;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*c;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return s(e,t,a,"day");if(t>=i)return s(e,t,i,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},FcDb:function(e,t,n){e.exports=n.p+"img/video-player/down@2x-18bca9fff9e1dd8eaf5cd14f6783c0f1.png"},FiwZ:function(e,t,n){},FuO9:function(e,t,n){},GODc:function(e,t,n){var r=n("UB5X");e.exports=function(e){return r(e)&&e!=+e}},GRyb:function(e,t,n){e.exports=n.p+"img/video-player/nervous@3x-122c8c7c4c47290d7987c75a27328eaa.png"},GVJq:function(e,t,n){},GXb1:function(e,t,n){},GqRZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"InviteUsersToOrganization"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inviteData"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"InviteOrgUserData"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"organizationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inviteSource"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"organizationMembership"},name:{kind:"Name",value:"inviteUsersToOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"inviteData"},value:{kind:"Variable",name:{kind:"Name",value:"inviteData"}}},{kind:"Argument",name:{kind:"Name",value:"organizationId"},value:{kind:"Variable",name:{kind:"Name",value:"organizationId"}}},{kind:"Argument",name:{kind:"Name",value:"inviteSource"},value:{kind:"Variable",name:{kind:"Name",value:"inviteSource"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317}};n.loc.source={body:"mutation InviteUsersToOrganization(\n  $inviteData: [InviteOrgUserData]!\n  $organizationId: ID!\n  $inviteSource: String\n) {\n  organizationMembership: inviteUsersToOrganization(\n    inviteData: $inviteData\n    organizationId: $organizationId\n    inviteSource: $inviteSource\n  ) {\n    email\n    status\n    success\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.InviteUsersToOrganization=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"InviteUsersToOrganization")},GtOj:function(e,t,n){},HE6t:function(e,t,n){},HFJL:function(e,t,n){},HSN7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CompleteUploadVideoAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"completeUploadVideoAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upload_complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:255}};n.loc.source={body:"mutation CompleteUploadVideoAttachment($attachmentId: ID!) {\n  completeUploadVideoAttachment(id: $attachmentId) {\n    id\n    owner_id\n    video_id\n    video_timestamp\n    type\n    name\n    s3_id\n    upload_complete\n    mime\n    url\n    download_url\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CompleteUploadVideoAttachment=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CompleteUploadVideoAttachment")},Hh6F:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/create-folders-c54e096c47a016fe58009282da2b7722.png"},HkiG:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("oEZn"),i=n("IPhx"),a=n("NOtv")("strtok3:ReadStreamTokenizer");class o extends r.AbstractTokenizer{constructor(e,t){super(t),this.streamReader=new i.StreamReader(e)}async getFileInfo(){return this.fileInfo}async readBuffer(e,t){let n=0,r=e.length;if(t){if(Number.isInteger(t.length)?r=t.length:r-=t.offset||0,t.position){const n=t.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` can be less than `tokenizer.position`")}t.offset&&(n=t.offset)}if(0===r)return 0;const a=await this.streamReader.read(e,n,r);if(this.position+=a,(!t||!t.mayBeLess)&&a<r)throw new i.EndOfStreamError;return a}async peekBuffer(t,n){let r,a=0,o=t.length;if(n&&(n.offset&&(a=n.offset),Number.isInteger(n.length)?o=n.length:o-=n.offset||0,n.position)){const i=n.position-this.position;if(i>0){const c=e.alloc(o+i);return r=await this.peekBuffer(c,{mayBeLess:n.mayBeLess}),c.copy(t,a,i),r-i}if(i<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r=await this.streamReader.peek(t,a,o),(!n||!n.mayBeLess)&&r<o)throw new i.EndOfStreamError;return r}async ignore(t){a(`ignore ${this.position}...${this.position+t-1}`);const n=Math.min(1e6,t),r=e.alloc(n);let i=0;for(;i<t;){const e=t-i,a=await this.readBuffer(r,{length:Math.min(n,e)});if(a<0)return a;i+=a}return i}}t.ReadStreamTokenizer=o}).call(this,n("tjlA").Buffer)},Hqix:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(c){for(var s in c){var l=c[s];if((0,o.default)(l))c[s]=e(l);else if(Array.isArray(l)){for(var u=[],d=0,m=l.length;d<m;++d){var f=(0,i.default)(n,s,l[d],c,t);(0,a.default)(u,f||l[d])}u.length>0&&(c[s]=u)}else{var p=(0,i.default)(n,s,l,c,t);p&&(c[s]=p),c=(0,r.default)(t,s,c)}}return c}};var r=c(n("djh3")),i=c(n("Pp8E")),a=c(n("taqO")),o=c(n("YPYO"));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},HvAN:function(e,t,n){e.exports=n.p+"img/icons/right-arrow-grey-7c9aa717254cf560d4a96d6edd6215ad.svg"},I2Ha:function(e,t,n){e.exports=n.p+"img/video-player/joy-507651fe2c4509dd88e2e202df8fff2f.png"},I55H:function(e,t,n){},IEDO:function(e,t,n){e.exports=n.p+"img/video-player/wow@2x-6a4a15491430e2d8dbe59e95cb9b4c3e.png"},INCh:function(e,t,n){e.exports={sticky:"viewer-insights_sticky_27a",viewerInfo:"viewer-insights_viewerInfo_1uT",viewsMetadata:"viewer-insights_viewsMetadata_u-4",card:"viewer-insights_card_oA3",partial:"viewer-insights_partial_3kw",disabled:"viewer-insights_disabled_1Qj",slideableContainer:"viewer-insights_slideableContainer_1BV",slideable:"viewer-insights_slideable_2qj",detailsHeader:"viewer-insights_detailsHeader__0R",eventItem:"viewer-insights_eventItem_3SY",isClickable:"viewer-insights_isClickable_28X",infoLink:"viewer-insights_infoLink_1dM",infoIcon:"viewer-insights_infoIcon_1MD",containerBox:"viewer-insights_containerBox_1qT",shrinked:"viewer-insights_shrinked_3fL"}},IPhx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9lTW"),i=n("813Z");var a=n("813Z");t.EndOfStreamError=a.EndOfStreamError;class o{constructor(){this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}t.StreamReader=class{constructor(e){if(this.s=e,this.endOfStream=!1,this.peekQueue=[],!e.read||!e.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new i.EndOfStreamError)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(e,t,n){const r=await this.read(e,t,n);return this.peekQueue.push(e.slice(t,t+r)),r}async read(e,t,n){if(0===n)return 0;if(0===this.peekQueue.length&&this.endOfStream)throw new i.EndOfStreamError;let r=n,a=0;for(;this.peekQueue.length>0&&r>0;){const n=this.peekQueue.pop(),i=Math.min(n.length,r);n.copy(e,t+a,0,i),a+=i,r-=i,i<n.length&&this.peekQueue.push(n.slice(i))}for(;r>0&&!this.endOfStream;){const n=Math.min(r,1048576),i=await this._read(e,t+a,n);if(a+=i,i<n)break;r-=i}return a}async _read(e,t,n){r.ok(!this.request,"Concurrent read operation?");const i=this.s.read(n);return i?(i.copy(e,t),i.length):(this.request={buffer:e,offset:t,length:n,deferred:new o},this.s.once("readable",()=>{this.tryRead()}),this.request.deferred.promise.then(e=>(this.request=null,e),e=>{throw this.request=null,e}))}tryRead(){const e=this.s.read(this.request.length);e?(e.copy(this.request.buffer,this.request.offset),this.request.deferred.resolve(e.length)):this.s.once("readable",()=>{this.tryRead()})}reject(e){this.endOfStream=!0,this.request&&(this.request.deferred.reject(e),this.request=null)}}},IcKz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("HkiG"),i=n("N3/w");var a=n("IPhx");t.EndOfStreamError=a.EndOfStreamError,t.fromStream=function(e,t){return t=t||{},new r.ReadStreamTokenizer(e,t)},t.fromBuffer=function(e,t){return new i.BufferTokenizer(e,t)}},IcNW:function(e,t,n){"use strict";n("ma9I"),n("oVuX"),n("2B1R"),n("rB9j"),n("EnZy");var r=n("J4zp"),i=n.n(r),a=n("q4mm"),o=n("+QRC"),c=n.n(o),s=n("q1tI"),l=n.n(s),u=n("Vg22"),d=n("sDAx"),m=n("OR2W"),f=n.n(m);t.a=function(e){var t=e.fromModal,n=e.deleteLinkHandler,r=void 0===n?null:n,o=Object(s.useState)(null),m=i()(o,2),p=m[0],h=m[1],v=Object(u.useSelector)((function(e){return e.share_video})).shareVideoAliases,g=function(e){var t="".concat(d.A,"/a/").concat(e.split("-").join(""));c()(t,{format:"text/plain"}),h(e),setTimeout((function(){h(null)}),3e3)};return v.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(a.List,{columns:["1fr","auto"],gap:"medium"},v.map((function(e){var n=e.id,i=e.email;return l.a.createElement(a.ListRow,{padding:t?"small":"xsmall",key:n},l.a.createElement(a.Text,{hasEllipsis:!0},i),l.a.createElement("div",{className:f.a.emailActions},!t&&p==n&&l.a.createElement(a.TextButton,{icon:l.a.createElement(a.SvgLink,null),size:"small"},"Link copied!"),!t&&p!==n&&l.a.createElement(a.TextButton,{icon:l.a.createElement(a.SvgLink,null),size:"small",onClick:function(){return g(n)},altText:"Delete",className:f.a.deleteBtn},"Copy Link"),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(a.Text,{isInline:!0,onClick:function(){return g(n)}},p===n?"Link copied!":"Copy Link"),l.a.createElement(a.IconButton,{size:"small",icon:l.a.createElement(a.SvgTrash,null),altText:"Delete",className:f.a.deleteBtn,onClick:function(){r({id:n,email:i})}}))))})))):null}},IdNv:function(e,t,n){e.exports={showMoveModal:"move-modal_showMoveModal_UQo",moveModalContainer:"move-modal_moveModalContainer_b4Z",moveModal:"move-modal_moveModal_EOa",grid:"move-modal_grid_2_M",moveNewFolderInputWrap:"move-modal_moveNewFolderInputWrap_2lA",moveNewFolderInputShown:"move-modal_moveNewFolderInputShown_DOs",moveNewFolderInput:"move-modal_moveNewFolderInput_2J3",hierarchyGridWrap:"move-modal_hierarchyGridWrap_2xT",moveModalLoading:"move-modal_moveModalLoading_bST",moveModalNoContent:"move-modal_moveModalNoContent_1tY",moveModalNoSharedContent:"move-modal_moveModalNoSharedContent_1ab"}},Idcn:function(e,t,n){},Ifoo:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/install-chrome-extension-rebrand-83d00896b0dd0e6a68dbfff4df3c11d2.png"},"Ii/r":function(e,t,n){},"Il/S":function(e,t,n){"use strict";n("ma9I"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("q4mm"),b=n("TSYQ"),y=n.n(b),k=n("q1tI"),w=n.n(k),_=n("AGlj"),E=n("sDAx"),S=n("CtBj"),C=n("NgEs"),x=n("bHCq"),N=n.n(x);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var O=function(e){u()(n,e);var t=T(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{resultText:null}),v()(s()(e),"copy",(function(){var t;e.copyTimeout&&(window.clearTimeout(e.copyTimeout),e.copyTimeout=null),t=C.a(e.inputElement)?"Link Copied!":"Error! :-(",e.setState({resultText:t}),e.copyTimeout=window.setTimeout((function(){e.setState({resultText:null}),e.copyTimeout=null}),2e3),e.trackEvent(_.Cc)})),e}return o()(n,[{key:"trackEvent",value:function(e){S.h(e,{video_id:this.props.video.id})}},{key:"render",value:function(){var e=this,t=this.state.resultText,n=this.props,r=n.copyText,i=n.width,a=n.withTopMargin,o=i?{width:i}:void 0;return w.a.createElement("div",{className:y()(N.a.linkAndButtons,t?N.a.copyLinkActivated:""),style:o},w.a.createElement("input",{className:N.a.input,ref:function(t){return e.inputElement=t},readOnly:!0,value:"".concat(E.A).concat(window.location.pathname)}),w.a.createElement("div",{className:"relative"+(a?" mt:xsmall":"")},w.a.createElement(g.Button,{icon:t?w.a.createElement(g.SvgCheck,null):w.a.createElement(g.SvgLink,null),onClick:this.copy,hasFullWidth:Boolean(i),variant:"primary"},t||r)))}}]),n}(k.PureComponent);v()(O,"defaultProps",{copyText:"Copy Link",video:{},withLinkActionDot:!1,withTopMargin:!0,className:""}),t.a=O},"J/TS":function(e,t,n){e.exports={mainNav:"navigation_mainNav_V5u",navBarIsCollapsed:"navigation_navBarIsCollapsed_1SS",itemLink:"navigation_itemLink_21O",mainNavMenu:"navigation_mainNavMenu_1v8",workspaceSelector:"navigation_workspaceSelector_2NQ",active:"navigation_active_3sW",menuItemNested:"navigation_menuItemNested_2G1",itemLabel:"navigation_itemLabel_2sB",nestedMenuItemsGroup:"navigation_nestedMenuItemsGroup_3s_",nestedMenuDropdown:"navigation_nestedMenuDropdown_6uV",nestedMenuItem:"navigation_nestedMenuItem_34F",menuItem:"navigation_menuItem_2Q6",hasExpandedItems:"navigation_hasExpandedItems_1RQ",logoSection:"navigation_logoSection_1Er",toggleButtonSection:"navigation_toggleButtonSection_3WD",symbolLogoSection:"navigation_symbolLogoSection_bwl",fullLogoSection:"navigation_fullLogoSection_cgn",itemIconSection:"navigation_itemIconSection_35D",workspaceSelectorSection:"navigation_workspaceSelectorSection_Ooe",navBarIsOpenMobile:"navigation_navBarIsOpenMobile_2ci",inviteButtonSection:"navigation_inviteButtonSection_1G1",collapsedNavBarItemLabel:"navigation_collapsedNavBarItemLabel_3Op",hasTransition:"navigation_hasTransition_wFH",upsellSection:"navigation_upsellSection_Ihd",menuSectionTitle:"navigation_menuSectionTitle_2xH"}},J348:function(e,t,n){},J8qf:function(e,t,n){e.exports={uploadProgressLoadingPanel:"progress-bar_uploadProgressLoadingPanel_3Yz",uploadProgressContainer:"progress-bar_uploadProgressContainer_z_F","loading-appear":"progress-bar_loading-appear_3Tw",uploadProgressBar:"progress-bar_uploadProgressBar_2hZ",uploadProgressCheck:"progress-bar_uploadProgressCheck_3ZB",screenReaderOnly:"progress-bar_screenReaderOnly_n6O",isCompleted:"progress-bar_isCompleted_2xG","loading-shrink":"progress-bar_loading-shrink_N9R","progress-checkbox-bounce":"progress-bar_progress-checkbox-bounce_Q5F"}},JD84:function(e,t,n){var r=n("SKAX");e.exports=function(e,t,n,i){return r(e,(function(e,r,a){t(i,e,n(e),a)})),i}},JMyD:function(e,t,n){},JTui:function(e,t,n){},Ja2Y:function(e,t,n){},JaTb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetWorkspaceMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"getWorkspaceMembers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member_role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"member_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"invited"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"invitee_email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"org_role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:433}};n.loc.source={body:"query GetWorkspaceMembers($workspaceId: ID!) {\n  users: getWorkspaceMembers(workspaceId: $workspaceId) {\n    accepted {\n      member_role\n      member_status\n      user {\n        id\n        email\n        first_name\n        last_name\n        createdAt\n        avatars {\n          thumb\n        }\n      }\n    }\n    invited {\n      id\n      organization_id\n      invitee_email\n      org_role\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetWorkspaceMembers=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetWorkspaceMembers")},K4CI:function(e,t,n){e.exports={dashboardOnboardingCardContainer:"dashboard-onboarding-cards_dashboardOnboardingCardContainer_3A2",dashboardOnboardingCardActions:"dashboard-onboarding-cards_dashboardOnboardingCardActions_1WP",dashboardOnboardingCardFullWidthButton:"dashboard-onboarding-cards_dashboardOnboardingCardFullWidthButton_nF9",dashboardOnboardingCardClose:"dashboard-onboarding-cards_dashboardOnboardingCardClose_4Up",dashboardIntoCardHeader:"dashboard-onboarding-cards_dashboardIntoCardHeader_22Q",dashboardOnboardingCard:"dashboard-onboarding-cards_dashboardOnboardingCard_2nd",dashboardIntroDismissButtonWrapper:"dashboard-onboarding-cards_dashboardIntroDismissButtonWrapper_F3J",dashboardDismissButtonWrapper:"dashboard-onboarding-cards_dashboardDismissButtonWrapper_1cE",dashboardOnboardingCardCompact:"dashboard-onboarding-cards_dashboardOnboardingCardCompact_U1V",dashboardOnboardingFullCardCenterpiece:"dashboard-onboarding-cards_dashboardOnboardingFullCardCenterpiece_34K",dashboardOnboardingCardCompletionOverlay:"dashboard-onboarding-cards_dashboardOnboardingCardCompletionOverlay_28H",dashboardOnboardingCardCompletionContent:"dashboard-onboarding-cards_dashboardOnboardingCardCompletionContent_3bE",dashboardOnboardingCardCompletionCompactContent:"dashboard-onboarding-cards_dashboardOnboardingCardCompletionCompactContent_1bC",dashboardOnboardingCompactCardImage:"dashboard-onboarding-cards_dashboardOnboardingCompactCardImage_3VC",dashboardOnboardingCardCompletionFade:"dashboard-onboarding-cards_dashboardOnboardingCardCompletionFade_3as",cardFadeOut:"dashboard-onboarding-cards_cardFadeOut_2rE"}},KWg3:function(e,t,n){},KclW:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUserFavorites"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFavorites"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entity_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"folder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allow_search_engine_indexing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permitted_viewers_only"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments_email_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_emojis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loom_branded_player"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"show_analytics_to_viewer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distinct"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"current_user_is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_protected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"needs_password"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"do_not_show_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1512}};n.loc.source={body:"query GetUserFavorites($userId: ID!) {\n  userFavorites(userId: $userId) {\n    id\n    entity_type\n    folder {\n      id\n      name\n      favorite\n      shared\n      description\n      isUserFavorite\n      owner {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n        email\n      }\n      workspace\n      createdAt\n      updatedAt\n      collaborators {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n      }\n    }\n    video {\n      id\n      s3_id\n      name\n      allow_search_engine_indexing\n      permitted_viewers_only\n      active_status\n      cta {\n        url\n        mods\n        text\n        enabled\n      }\n      comments_email_enabled\n      comments_enabled\n      use_emojis\n      use_gif\n      loom_branded_player\n      download_enabled\n      show_analytics_to_viewer\n      complete\n      archived\n      defaultThumbnails {\n        default\n        static\n      }\n      processing_information {\n        trim_id\n      }\n      video_properties {\n        width\n        height\n        duration\n      }\n      views {\n        total\n        distinct\n      }\n      current_user_is_owner\n      is_protected\n      needs_password\n      do_not_show_comments\n      isUserFavorite\n      owner {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n        email\n      }\n      workspace\n      createdAt\n      updatedAt\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetUserFavorites=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetUserFavorites")},Kl37:function(e,t,n){"use strict";n.d(t,"b",(function(){return Y})),n.d(t,"c",(function(){return X})),n.d(t,"a",(function(){return Z})),n.d(t,"f",(function(){return ee})),n.d(t,"k",(function(){return te})),n.d(t,"g",(function(){return ne})),n.d(t,"e",(function(){return re})),n.d(t,"d",(function(){return ie})),n.d(t,"h",(function(){return ae})),n.d(t,"i",(function(){return oe})),n.d(t,"j",(function(){return ce})),n.d(t,"l",(function(){return se}));n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("2B1R"),n("qePV"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("JfAA"),n("FZtP");var r=n("RIqP"),i=n.n(r),a=n("lSNA"),o=n.n(a),c=n("LpSC"),s=n.n(c),l=n("BkRI"),u=n.n(l),d=n("J2m7"),m=n.n(d),f=n("Y+p1"),p=n.n(f),h=n("JZM8"),v=n.n(h),g=n("xweI"),b=n.n(g),y=n("qPyV"),k=n.n(y),w=n("Wt1U"),_=n.n(w),E=n("0X1P"),S=n("LRsK"),C=n("iDef"),x=function(){return{type:C.E}},N=function(){return{type:C.ib}},T=function(e){return{type:C.Vd,trimRange:e}},O=function(e){return{type:C.if,trimBound:e}},I=function(e){return{type:C.jf,trimRange:e}},R=function(e){return{type:C.Ef,originalRanges:e}},D=function(e){return{type:C.Gf,redoStack:e}},P=function(e){return{type:C.Hf,undoStack:e}},F=n("8aGn"),j=n("8N09"),A=n("AGlj"),M=n("zixt"),L=n("CvgE"),V=n("DauL"),U=n("sh0B"),B=n("MnkA"),q=n("CtBj"),W=n("kZ0K"),z=n("/CCh");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=new Error("unknown trim operation");function Q(e){var t=e.trimRange,n=e.type;switch(n){case U.a:return Z(t,!0);case U.f:return ee(t.id,!0);case U.n:return te(t,!0);default:return W.d(J,"unkown trim operation ".concat(n)),{}}}function K(e,t){var n=e.trimRange,r=e.type;switch(r){case U.a:return{type:U.f,trimRange:n};case U.f:return{type:U.a,trimRange:n};case U.n:return{type:U.n,trimRange:t};default:return W.d(J,"unkown trim operation ".concat(r)),{}}}function $(e){return b()(e,(function(e){return e.from}))}var Y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){n(Object(F.t)(!1));var i=e.map((function(e){return v()(e,"from","to")})),a=e.map((function(e,t){var n=H({},e);return null==n.id&&(n.id=Number(new Date)+t),n}));t&&window.top.postMessage({type:L.x,operation:U.b,trimRanges:a},"*"),n(R(i)),n(se(a)),n(x());var o=r().video_player,c=o.current_time,s=o.duration,l=o.video,u=o.volume,d=s;null!=l.video_properties.duration&&(d=l.video_properties.duration);var m=Object(z.b)(1e3*c,e);return n(Object(B.m)(!0)).then((function(){var e=m/1e3;return n(Object(F.b)(e)),e<d&&n(Object(F.g)()),new Promise((function(e){var t=window.setInterval((function(){r().video_player.has_started&&(window.clearInterval(t),e())}),50)}))})).then((function(){n(Object(F.f)())})).then((function(){return n(Object(F.k)(u))}))}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){t&&window.top.postMessage({type:L.x,operation:U.c,updatedVideo:e},"*"),n(N());var i=r().video_player.current_time,a=r().trimming.trim_ranges;null!=e?(n(Object(F.x)(0)),n(Object(B.i)(e))):(n(Object(F.x)(Object(z.a)(1e3*i,a)/1e3)),n(Object(B.m)()))}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,a){var o=a().trimming,c=o.trim_ranges,s=o.undo_stack,l=H({},e);t||null!=e.id||(l.id=Number(new Date));var d=$([].concat(i()(u()(c)),[l]));if(!t){var m=[].concat(i()(u()(s)),[K({type:U.a,trimRange:l})]);r(P(m)),r(D([])),n&&window.top.postMessage({type:L.x,operation:U.a,trimRange:l},"*")}r(se(d))}},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,a){var o=a().trimming,c=o.current_trim_range,s=o.trim_ranges,l=o.undo_stack,d=m()(s,(function(t){return t.id===e}));if(null!=d){var f=$(u()(_()(s,d)));if(!t){var p=[].concat(i()(u()(l)),[K({type:U.f,trimRange:d})]);r(P(p)),r(D([])),n&&window.top.postMessage({type:L.x,operation:U.f,id:e},"*")}r(se(f)),null!=c&&c.id!==e&&r(ae(c))}}},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,a){var o=a().trimming,c=o.trim_ranges,s=o.undo_stack,l=m()(c,(function(t){return t.id===e.id}));if(null!=l){var d=$([].concat(i()(u()(_()(c,l))),[e]));if(!t){var f=[].concat(i()(u()(s)),[K({type:U.n},l)]);r(P(f)),r(D([])),n&&window.top.postMessage({type:L.x,operation:U.n,trimRange:e},"*")}r(se(d))}}},ne=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n().trimming,a=r.redo_stack,o=r.trim_ranges,c=r.undo_stack,s=u()(c),l=s.pop();t(Q(l)),t(P(s));var d=m()(o,(function(e){return e.id===l.trimRange.id})),f=K(l,d),p=[].concat(i()(u()(a)),[f]);t(D(p)),e&&window.top.postMessage({type:L.x,operation:U.j},"*")}},re=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n().trimming,a=r.redo_stack,o=r.trim_ranges,c=r.undo_stack,s=u()(a),l=s.pop();t(Q(l)),t(D(s));var d=m()(o,(function(e){return e.id===l.trimRange.id})),f=K(l,d),p=[].concat(i()(u()(c)),[f]);t(P(p)),e&&window.top.postMessage({type:L.x,operation:U.e},"*")}},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(n,r){var i=r().trimming.trim_ranges,a=e.id,c=e.video_properties,l=(void 0===c?{}:c).duration,u=Object(z.h)(l,i),d="".concat(1," second");if(u<1)return window.alert("Woops! You can't publish a video that's less than "+"".concat(d," long."));var m=JSON.stringify({processing_information:{trim_ranges:i.map((function(e){return v()(e,"from","to")}))}});return s()("/v1/videos/".concat(a),{credentials:"include",headers:o()({},M.b,V.e),method:"PATCH",body:m}).then((function(e){if(e.status>=400)throw new Error("Oops! Error trimming video - HTTP response: ".concat(e.status));return e.json()})).then((function(e){return n(Object(S.d)(e)),n(X(e))})).then((function(){i.length>0&&q.h(A.ud,Object(z.g)(e,i,l)),t()})).catch((function(e){W.d(e,"error in trim video creator"),n(Object(E.b)(j.a,e.toString()))}))}},ae=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){return t&&window.top.postMessage({type:L.x,operation:U.k,trimRange:e},"*"),n(T(e))}},oe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){return t&&window.top.postMessage({type:L.x,operation:U.l,trimBound:e},"*"),n(O(e))}},ce=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){return t&&window.top.postMessage({type:L.x,operation:U.m,trimRange:e},"*"),n(I(e))}},se=function(e){return function(t,n){var r=n().trimming.original_ranges,i=k()(e,"id"),a=i.map((function(e){return v()(e,"from","to")}));t(function(e){return{type:C.Df,newChanges:e}}(!p()(a,r))),t(function(e){return{type:C.Ff,trimRanges:e}}(i))}}},"L+Z4":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PlaySegment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"segment"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VideoPlaySegmentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateVideoPlaySegment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"segment"},value:{kind:"Variable",name:{kind:"Name",value:"segment"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoPlaySegmentMutationRes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"mutation PlaySegment($segment: VideoPlaySegmentInput!) {\n  updateVideoPlaySegment(segment: $segment) {\n    ... on VideoPlaySegmentMutationRes {\n      id\n    }\n    ... on GenericError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.PlaySegment=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PlaySegment")},L1ue:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BulkDeleteVideos"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bulkDeleteVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoIds"},value:{kind:"Variable",name:{kind:"Name",value:"videoIds"}}}],directives:[]}]}}],loc:{start:0,end:88}};n.loc.source={body:"mutation BulkDeleteVideos($videoIds: [ID]!) {\n  bulkDeleteVideos(videoIds: $videoIds)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.BulkDeleteVideos=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"BulkDeleteVideos")},L2ys:function(e,t,n){"use strict";n.r(t),n.d(t,"QueryDocumentKeys",(function(){return i})),n.d(t,"BREAK",(function(){return a})),n.d(t,"visit",(function(){return o})),n.d(t,"visitInParallel",(function(){return s})),n.d(t,"visitWithTypeInfo",(function(){return l})),n.d(t,"getVisitFn",(function(){return u}));var r=n("rWdj"),i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},a={};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=void 0,s=Array.isArray(e),l=[e],d=-1,m=[],f=void 0,p=void 0,h=void 0,v=[],g=[],b=e;do{var y=++d===l.length,k=y&&0!==m.length;if(y){if(p=0===g.length?void 0:v[v.length-1],f=h,h=g.pop(),k){if(s)f=f.slice();else{for(var w={},_=Object.keys(f),E=0;E<_.length;E++){var S=_[E];w[S]=f[S]}f=w}for(var C=0,x=0;x<m.length;x++){var N=m[x][0],T=m[x][1];s&&(N-=C),s&&null===T?(f.splice(N,1),C++):f[N]=T}}d=o.index,l=o.keys,m=o.edits,s=o.inArray,o=o.prev}else{if(p=h?s?d:l[d]:void 0,null==(f=h?h[p]:b))continue;h&&v.push(p)}var O=void 0;if(!Array.isArray(f)){if(!c(f))throw new Error("Invalid AST Node: "+Object(r.a)(f));var I=u(t,f.kind,y);if(I){if((O=I.call(t,f,p,h,v,g))===a)break;if(!1===O){if(!y){v.pop();continue}}else if(void 0!==O&&(m.push([p,O]),!y)){if(!c(O)){v.pop();continue}f=O}}}void 0===O&&k&&m.push([p,f]),y?v.pop():(o={inArray:s,index:d,keys:l,edits:m,prev:o},l=(s=Array.isArray(f))?f:n[f.kind]||[],d=-1,m=[],h&&g.push(h),h=f)}while(void 0!==o);return 0!==m.length&&(b=m[m.length-1][1]),b}function c(e){return Boolean(e&&"string"==typeof e.kind)}function s(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(!t[r]){var i=u(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===a)t[r]=a;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(t[r])t[r]===n&&(t[r]=null);else{var i=u(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===a)t[r]=a;else if(void 0!==o&&!1!==o)return o}}}}}function l(e,t){return{enter:function(n){e.enter(n);var r=u(t,n.kind,!1);if(r){var i=r.apply(t,arguments);return void 0!==i&&(e.leave(n),c(i)&&e.enter(i)),i}},leave:function(n){var r,i=u(t,n.kind,!0);return i&&(r=i.apply(t,arguments)),e.leave(n),r}}}function u(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[t];if("function"==typeof o)return o}}}},L4fJ:function(e,t,n){e.exports={topLevelWrapper:"top-level-grid-cell_topLevelWrapper_OyB",cellWrapper:"top-level-grid-cell_cellWrapper_1Nw",gridCell:"top-level-grid-cell_gridCell_3ZA",selectable:"top-level-grid-cell_selectable_qqn",selected:"top-level-grid-cell_selected_2tV","folder-header":"top-level-grid-cell_folder-header_2PT","top-level-cell":"top-level-grid-cell_top-level-cell_15s"}},LIGj:function(e,t,n){"use strict";n("ma9I"),n("sMBO");var r=n("q4mm"),i=n("wd/R"),a=n.n(i),o=n("q1tI"),c=n.n(o),s=n("yfXj"),l=n("w+SR"),u=n("ukgg"),d=n("h7Cg");n("rJ0v");t.a=function(e){var t=e.currentUserIsOwner,n=e.date,i=e.name,o=e.user,m=e.userAvatarSrc,f=e.video,p=void 0===f?{}:f,h=e.videoIsSharedWithUser,v=e.videoIsTeamShared,g=p.views;return c.a.createElement("div",{className:"owner-info-and-move"},c.a.createElement("div",{className:"owner-info"},c.a.createElement(d.a,{avatarSrc:m,name:i,avatarSize:6}),c.a.createElement("div",{className:"by-date"},c.a.createElement("div",{className:"by"},c.a.createElement("span",{className:"name"},i)),c.a.createElement("div",{className:"date"},a()(n).format("LL"),g&&!t&&!v&&!h&&c.a.createElement(r.Tooltip,{content:"\n                  ".concat(g.total," Total View").concat("1"===g.total?"":"s",",\n                  ").concat(g.distinct," Unique").concat("1"===g.distinct?"":"s"),placement:"bottomCenter",triggerOffset:6},c.a.createElement("div",{className:"analytics-icon"}))))),o&&c.a.createElement(u.a,{query:"(min-width: ".concat(s.g,"px) and (max-width: ").concat(s.e,"px)")},c.a.createElement(l.a,{className:"ml:auto relative",currentUserIsOwner:t,user:o,video:p})))}},LWK2:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n("peh1"),i=function(e){return e.share_video},a=Object(r.createSelector)(i,(function(e){return e.video})),o=(Object(r.createSelector)(i,(function(e){return e.current_user_is_owner})),Object(r.createSelector)(i,(function(e){return e.video_is_team_shared}))),c=Object(r.createSelector)(a,(function(e){return e.use_emojis})),s=(Object(r.createSelector)(a,(function(e){return e.views})),Object(r.createSelector)(i,(function(e){var t;return Boolean(e.current_user_is_owner||e.video_is_team_shared||(null===(t=e.video)||void 0===t?void 0:t.collaboratePermissions.write))})))},Lr2h:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/install-desktop-app-rebrand-6ade02435cb1d4d790eed941981d0023.png"},Lsvr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Search"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchQuery"},value:{kind:"Variable",name:{kind:"Name",value:"searchQuery"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"folder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:190}};n.loc.source={body:"query Search($searchQuery: String!) {\n    search(searchQuery: $searchQuery) {\n        id\n        name\n        url\n        createdAt\n        thumbnail\n        folder\n        duration\n    }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.Search=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"Search")},LtnD:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAuth0Connection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAuth0Connection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domains"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idpType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signInUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cert"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signingCert"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loomSsoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"audienceUriPrefix"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:293}};n.loc.source={body:"query GetAuth0Connection(\n  $orgId: String!\n) {\n  getAuth0Connection(\n    orgId: $orgId\n  ) {\n    enabled,\n    name,\n    domains { \n      name,\n      status,\n      type\n    },\n    idpType,\n    defaultRole,\n    signInUrl,\n    cert,\n    signingCert, \n    loomSsoUrl,\n    audienceUriPrefix\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetAuth0Connection=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetAuth0Connection")},MAmL:function(e,t,n){"use strict";var r=/[A-Z]/g,i=/^ms-/,a={};e.exports=function(e){return e in a?a[e]:a[e]=e.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}},MJUs:function(e,t,n){},MMAA:function(e,t,n){e.exports={topLeft:"action-dot_topLeft_xg2",topRight:"action-dot_topRight_25d",outsideLeftCenter:"action-dot_outsideLeftCenter_2ey",container:"action-dot_container_2ff",dot:"action-dot_dot_LeL",ring:"action-dot_ring_1aU",pulsing:"action-dot_pulsing_1Kn"}},MfIn:function(e,t,n){},Mgwk:function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=78)}([function(e,t,n){"use strict";n.r(t),n.d(t,"h",(function(){return c})),n.d(t,"createElement",(function(){return c})),n.d(t,"cloneElement",(function(){return d})),n.d(t,"createRef",(function(){return L})),n.d(t,"Component",(function(){return A})),n.d(t,"render",(function(){return M})),n.d(t,"rerender",(function(){return h})),n.d(t,"options",(function(){return i}));var r=function(){},i={},a=[],o=[];function c(e,t){var n,c,s,l,u=o;for(l=arguments.length;l-- >2;)a.push(arguments[l]);for(t&&null!=t.children&&(a.length||a.push(t.children),delete t.children);a.length;)if((c=a.pop())&&void 0!==c.pop)for(l=c.length;l--;)a.push(c[l]);else"boolean"==typeof c&&(c=null),(s="function"!=typeof e)&&(null==c?c="":"number"==typeof c?c=String(c):"string"!=typeof c&&(s=!1)),s&&n?u[u.length-1]+=c:u===o?u=[c]:u.push(c),n=s;var d=new r;return d.nodeName=e,d.children=u,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==i.vnode&&i.vnode(d),d}function s(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){e&&("function"==typeof e?e(t):e.current=t)}var u="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function d(e,t){return c(e.nodeName,s(s({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var m=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,f=[];function p(e){!e._dirty&&(e._dirty=!0)&&1==f.push(e)&&(i.debounceRendering||u)(h)}function h(){for(var e;e=f.pop();)e._dirty&&F(e)}function v(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&g(e,t.nodeName):n||e._componentConstructor===t.nodeName}function g(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function b(e){var t=s({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function k(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)l(n,null),l(r,e);else if("class"!==t||i)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"==typeof r[a]&&!1===m.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,w,o):e.removeEventListener(t,w,o),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var c=i&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(c?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function w(e){return this._listeners[e.type](i.event&&i.event(e)||e)}var _=[],E=0,S=!1,C=!1;function x(){for(var e;e=_.shift();)i.afterMount&&i.afterMount(e),e.componentDidMount&&e.componentDidMount()}function N(e,t,n,r,i,a){E++||(S=null!=i&&void 0!==i.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var o=function e(t,n,r,i,a){var o=t,c=S;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||a)?t.nodeValue!=n&&(t.nodeValue=n):(o=document.createTextNode(n),t&&(t.parentNode&&t.parentNode.replaceChild(o,t),T(t,!0))),o.__preactattr_=!0,o;var s,l,u=n.nodeName;if("function"==typeof u)return function(e,t,n,r){for(var i=e&&e._component,a=i,o=e,c=i&&e._componentConstructor===t.nodeName,s=c,l=b(t);i&&!s&&(i=i._parentComponent);)s=i.constructor===t.nodeName;return i&&s&&(!r||i._component)?(P(i,l,3,n,r),e=i.base):(a&&!c&&(j(a),e=o=null),i=R(t.nodeName,l,n),e&&!i.nextBase&&(i.nextBase=e,o=null),P(i,l,1,n,r),e=i.base,o&&e!==o&&(o._component=null,T(o,!1))),e}(t,n,r,i);if(S="svg"===u||"foreignObject"!==u&&S,u=String(u),(!t||!g(t,u))&&(s=u,(l=S?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,o=l,t)){for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(o,t),T(t,!0)}var d=o.firstChild,m=o.__preactattr_,f=n.children;if(null==m){m=o.__preactattr_={};for(var p=o.attributes,h=p.length;h--;)m[p[h].name]=p[h].value}return!C&&f&&1===f.length&&"string"==typeof f[0]&&null!=d&&void 0!==d.splitText&&null==d.nextSibling?d.nodeValue!=f[0]&&(d.nodeValue=f[0]):(f&&f.length||null!=d)&&function(t,n,r,i,a){var o,c,s,l,u,d=t.childNodes,m=[],f={},p=0,h=0,g=d.length,b=0,k=n?n.length:0;if(0!==g)for(var w=0;w<g;w++){var _=d[w],E=_.__preactattr_;null!=(S=k&&E?_._component?_._component.__key:E.key:null)?(p++,f[S]=_):(E||(void 0!==_.splitText?!a||_.nodeValue.trim():a))&&(m[b++]=_)}if(0!==k)for(w=0;w<k;w++){var S;if(u=null,null!=(S=(l=n[w]).key))p&&void 0!==f[S]&&(u=f[S],f[S]=void 0,p--);else if(h<b)for(o=h;o<b;o++)if(void 0!==m[o]&&v(c=m[o],l,a)){u=c,m[o]=void 0,o===b-1&&b--,o===h&&h++;break}u=e(u,l,r,i),s=d[w],u&&u!==t&&u!==s&&(null==s?t.appendChild(u):u===s.nextSibling?y(s):t.insertBefore(u,s))}if(p)for(var w in f)void 0!==f[w]&&T(f[w],!1);for(;h<=b;)void 0!==(u=m[b--])&&T(u,!1)}(o,f,r,i,C||null!=m.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||k(e,r,n[r],n[r]=void 0,S);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||k(e,r,n[r],n[r]=t[r],S)}(o,n.attributes,m),S=c,o}(e,t,n,r,a);return i&&o.parentNode!==i&&i.appendChild(o),--E||(C=!1,a||x()),o}function T(e,t){var n=e._component;n?j(n):(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||y(e),O(e))}function O(e){for(e=e.lastChild;e;){var t=e.previousSibling;T(e,!0),e=t}}var I=[];function R(e,t,n){var r,i=I.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),A.call(r,t,n)):((r=new A(t,n)).constructor=e,r.render=D);i--;)if(I[i].constructor===e)return r.nextBase=I[i].nextBase,I.splice(i,1),r;return r}function D(e,t,n){return this.constructor(e,n)}function P(e,t,n,r,a){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&e.base?p(e):F(e,1,a)),l(e.__ref,e))}function F(e,t,n,r){if(!e._disable){var a,o,c,l=e.props,u=e.state,d=e.context,m=e.prevProps||l,f=e.prevState||u,p=e.prevContext||d,h=e.base,v=e.nextBase,g=h||v,y=e._component,k=!1,w=p;if(e.constructor.getDerivedStateFromProps&&(u=s(s({},u),e.constructor.getDerivedStateFromProps(l,u)),e.state=u),h&&(e.props=m,e.state=f,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(l,u,d)?k=!0:e.componentWillUpdate&&e.componentWillUpdate(l,u,d),e.props=l,e.state=u,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!k){a=e.render(l,u,d),e.getChildContext&&(d=s(s({},d),e.getChildContext())),h&&e.getSnapshotBeforeUpdate&&(w=e.getSnapshotBeforeUpdate(m,f));var S,C,O=a&&a.nodeName;if("function"==typeof O){var I=b(a);(o=y)&&o.constructor===O&&I.key==o.__key?P(o,I,1,d,!1):(S=o,e._component=o=R(O,I,d),o.nextBase=o.nextBase||v,o._parentComponent=e,P(o,I,0,d,!1),F(o,1,n,!0)),C=o.base}else c=g,(S=y)&&(c=e._component=null),(g||1===t)&&(c&&(c._component=null),C=N(c,a,d,n||!h,g&&g.parentNode,!0));if(g&&C!==g&&o!==y){var D=g.parentNode;D&&C!==D&&(D.replaceChild(C,g),S||(g._component=null,T(g,!1)))}if(S&&j(S),e.base=C,C&&!r){for(var A=e,M=e;M=M._parentComponent;)(A=M).base=C;C._component=A,C._componentConstructor=A.constructor}}for(!h||n?_.push(e):k||(e.componentDidUpdate&&e.componentDidUpdate(m,f,w),i.afterUpdate&&i.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);E||r||x()}}function j(e){i.beforeUnmount&&i.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?j(n):t&&(null!=t.__preactattr_&&l(t.__preactattr_.ref,null),e.nextBase=t,y(t),I.push(e),O(t)),l(e.__ref,null)}function A(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function M(e,t,n){return N(n,e,{},!1,t,!1)}function L(){return{}}s(A.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=s(s({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),p(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),F(this,2)},render:function(){}});var V={h:c,createElement:c,cloneElement:d,createRef:L,Component:A,render:M,rerender:h,options:i};t.default=V},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(21))},function(e,t,n){var r=n(1),i=n(54),a=n(5),o=n(55),c=n(61),s=n(111),l=i("wks"),u=r.Symbol,d=s?u:u&&u.withoutSetter||o;e.exports=function(e){return a(l,e)||(c&&a(u,e)?l[e]=u[e]:l[e]=d("Symbol."+e)),l[e]}},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return c})),n.d(t,"DOM",(function(){return O})),n.d(t,"Children",(function(){return N})),n.d(t,"render",(function(){return y})),n.d(t,"hydrate",(function(){return y})),n.d(t,"createClass",(function(){return B})),n.d(t,"createPortal",(function(){return E})),n.d(t,"createFactory",(function(){return T})),n.d(t,"createElement",(function(){return D})),n.d(t,"cloneElement",(function(){return F})),n.d(t,"isValidElement",(function(){return j})),n.d(t,"findDOMNode",(function(){return V})),n.d(t,"unmountComponentAtNode",(function(){return S})),n.d(t,"Component",(function(){return Q})),n.d(t,"PureComponent",(function(){return K})),n.d(t,"unstable_renderSubtreeIntoContainer",(function(){return w})),n.d(t,"unstable_batchedUpdates",(function(){return $})),n.d(t,"__spread",(function(){return M}));var r=n(20),i=n.n(r);n.d(t,"PropTypes",(function(){return i.a}));var a=n(0);n.d(t,"createRef",(function(){return a.createRef}));var o=n(25);n.d(t,"createContext",(function(){return o.createContext}));var c="15.1.0",s="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),l="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,u="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",d={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},m=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,f={},p=!1;try{p=!1}catch(e){}function h(){return null}var v=Object(a.h)("a",null).constructor;v.prototype.$$typeof=l,v.prototype.preactCompatUpgraded=!1,v.prototype.preactCompatNormalized=!1,Object.defineProperty(v.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(v.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var g=a.options.event;a.options.event=function(e){return g&&(e=g(e)),e.persist=Object,e.nativeEvent=e,e};var b=a.options.vnode;function y(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var i=t.childNodes.length;i--;)t.childNodes[i]!==r&&t.removeChild(t.childNodes[i]);var o=Object(a.render)(e,t,r);return t&&(t._preactCompatRendered=o&&(o._component||{base:o})),"function"==typeof n&&n(),o&&o._component||o}a.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=null==e.attributes?{}:M({},e.attributes);"function"==typeof t?(!0===t[u]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||P(e),function(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&M(e.attributes,t.defaultProps),n&&M(e.attributes,n)}(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),function(e,t){var n,r,i;if(t){for(i in t)if(n=m.test(i))break;if(n)for(i in r=e.attributes={},t)t.hasOwnProperty(i)&&(r[m.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i])}}(e,n))}b&&b(e)};var k=function(){};function w(e,t,n,r){var i=y(Object(a.h)(k,{context:e.context},t),n),o=i._component||i.base;return r&&r.call(o,i),o}function _(e){w(this,e.vnode,e.container)}function E(e,t){return Object(a.h)(_,{vnode:e,container:t})}function S(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e||(Object(a.render)(Object(a.h)(h),e,t),0))}k.prototype.getChildContext=function(){return this.props.context},k.prototype.render=function(e){return e.children[0]};var C,x=[],N={map:function(e,t,n){return null==e?null:(e=N.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=N.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(1!==(e=N.toArray(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:x.concat(e)}};function T(e){return D.bind(null,e)}for(var O={},I=s.length;I--;)O[s[I]]=T(s[I]);function R(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?R(r):r&&"object"==typeof r&&!j(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=D(r.type||r.nodeName,r.props||r.attributes,r.children))}}function D(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return R(e,2),P(a.h.apply(void 0,e))}function P(e){var t;e.preactCompatNormalized=!0,function(e){var t=e.attributes||(e.attributes={});A.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",A)}(e),"function"!=typeof(t=e.nodeName)||t.prototype&&t.prototype.render||(e.nodeName=function(e){var t,n=e[u];return n?!0===n?e:n:(n=B({displayName:(t=e).displayName||t.name,render:function(){return t(this.props,this.context)}}),Object.defineProperty(n,u,{configurable:!0,value:!0}),n.displayName=e.displayName,n.propTypes=e.propTypes,n.defaultProps=e.defaultProps,Object.defineProperty(e,u,{configurable:!0,value:n}),n)}(e.nodeName));var n,r,i=e.attributes.ref,a=i&&typeof i;return!C||"string"!==a&&"number"!==a||(e.attributes.ref=(n=i,(r=C)._refProxies[n]||(r._refProxies[n]=function(e){r&&r.refs&&(r.refs[n]=e,null===e&&(delete r._refProxies[n],r=null))}))),function(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var i in n)r[i.toLowerCase()]=i;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var a=r.oninput||"oninput";n[a]||(n[a]=W([n[a],n[r.onchange]]),delete n[r.onchange])}}}(e),e}function F(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!j(e))return e;var i=e.attributes||e.props,o=Object(a.h)(e.nodeName||e.type,M({},i),e.children||i&&i.children),c=[o,t];return n&&n.length?c.push(n):t&&t.children&&c.push(t.children),P(a.cloneElement.apply(void 0,c))}function j(e){return e&&(e instanceof v||e.$$typeof===l)}var A={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};function M(e,t){for(var n=arguments,r=1,i=void 0;r<arguments.length;r++)if(i=n[r])for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);return e}function L(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function V(e){return e&&(e.base||1===e.nodeType&&e)||null}function U(){}function B(e){function t(e,t){!function(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||d.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}(this),Q.call(this,e,t,f),z.call(this,e,t)}return(e=M({constructor:t},e)).mixins&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=W(t[n].concat(e[n]||x),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}(e,function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&"function"==typeof r[i]&&(t[i]||(t[i]=[])).push(r[i])}return t}(e.mixins)),e.statics&&M(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps.call(t)),U.prototype=Q.prototype,t.prototype=M(new U,e),t.displayName=e.displayName||"Component",t}function q(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function W(e,t){return function(){for(var n,r=arguments,i=this,a=0;a<e.length;a++){var o=q(i,e[a],r);if(t&&null!=o)for(var c in n||(n={}),o)o.hasOwnProperty(c)&&(n[c]=o[c]);else void 0!==o&&(n=o)}return n}}function z(e,t){G.call(this,e,t),this.componentWillReceiveProps=W([G,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=W([G,H,this.render||"render",J])}function G(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof v)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),p){var r="function"==typeof this?this:this.constructor,a=this.propTypes||r.propTypes,o=this.displayName||r.name;a&&i.a.checkPropTypes(a,e,"prop",o)}}}function H(e){C=this}function J(){C===this&&(C=null)}function Q(e,t,n){a.Component.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==f&&z.call(this,e,t)}function K(e,t){Q.call(this,e,t)}function $(e){e()}M(Q.prototype=new a.Component,{constructor:Q,isReactComponent:{},replaceState:function(e,t){for(var n in this.setState(e,t),this.state)n in e||delete this.state[n]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),U.prototype=Q.prototype,K.prototype=new U,K.prototype.isPureReactComponent=!0,K.prototype.shouldComponentUpdate=function(e,t){return L(this.props,e)||L(this.state,t)};var Y={version:c,DOM:O,PropTypes:i.a,Children:N,render:y,hydrate:y,createClass:B,createContext:o.createContext,createPortal:E,createFactory:T,createElement:D,cloneElement:F,createRef:a.createRef,isValidElement:j,findDOMNode:V,unmountComponentAtNode:S,Component:Q,PureComponent:K,unstable_renderSubtreeIntoContainer:w,unstable_batchedUpdates:$,__spread:M};t.default=Y},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(4);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){e.exports=n(88)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redirectToUrl=t.omit=t.noop=t.applyIOSIframeResizeHack=t.applyIOSFooterHack=t.debounce=t.fixSafariScroll=t.isElementInViewport=t.ensureMetaViewport=t.replaceExistingKeys=t.appendParamsToUrl=t.updateQueryStringParameter=t.broadcastMessage=t.callIfEmbedIdMatches=t.checkEmbedId=void 0;var r=o(n(82)),i=n(27),a=o(n(46));function o(e){return e&&e.__esModule?e:{default:e}}var c=t.checkEmbedId=function(e,t){return t.detail&&t.detail.embedId===e};t.callIfEmbedIdMatches=function(e,t){return function(n){c(t,n)&&e(n)}},t.broadcastMessage=function(e,t){t.data.embedId===e&&(0,a.default)(t)},t.updateQueryStringParameter=function(e,t,n){var r=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=-1!==n.indexOf("?")?"&":"?";return n.match(r)?n.replace(r,"$1"+e+"="+t+"$2"):n+i+e+"="+t},t.appendParamsToUrl=function(e,t){var n=[],i=(0,r.default)(e,!0),a=i.query,o=i.origin,c=i.pathname.replace(/\/$/,""),s=Object.assign({},a,t);return Object.keys(s).forEach((function(e){n.push(encodeURIComponent(e)+"="+encodeURIComponent(s[e]))})),""+o+c+"?"+n.join("&")},t.replaceExistingKeys=function(e,t){return Object.keys(t).reduce((function(n,r){var i=t[r];return null!=i&&null!=e[r]&&!1!==e[r]&&(n[i]=e[r]),n}),{})},t.ensureMetaViewport=function(){if(document.querySelector){var e=document.querySelector("meta[name=viewport]"),t="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0";if(e)e.setAttribute("content",t);else{var n=document.createElement("meta");n.content=t,n.name="viewport",document.head.appendChild(n)}}},t.isElementInViewport=function(e){if(window.top!==window)return!1;var t=e.getBoundingClientRect(),n=.2*t.height,r=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;return t.top>=-n&&t.left>=-n&&t.bottom<=i+n&&t.right<=r+n},t.fixSafariScroll=function(e){!(0,i.isMobile)(navigator.userAgent)&&(0,i.isSafari)(navigator.userAgent)&&e.addEventListener("load",(function(){return setTimeout((function(){var t=window.getComputedStyle(e).height;return e.setAttribute("height",e.offsetHeight+1+"px"),setTimeout((function(){e.setAttribute("height",t)}),1)}),1e3)}))},t.debounce=function(e,t,n){var r=void 0;return function(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];var c=function(){r=null,e.call.apply(e,[n].concat(a))};clearTimeout(r),r=setTimeout(c,t)}},t.applyIOSFooterHack=function(e){(0,i.isIOSDevice)(navigator.userAgent)&&(e.setAttribute("scrolling","no"),e.style.height="1px",e.style.minHeight="100%")},t.applyIOSIframeResizeHack=function(e){(0,i.isIOSDevice)(navigator.userAgent)&&(e.style.maxHeight="100%",e.style.maxWidth="100%",e.style.minHeight="100%",e.style.minWidth="100%",e.style.width=0)},t.noop=function(){return null},t.omit=function(e,t){return t[e],function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,[e])},t.redirectToUrl=function(e){var t=e.detail.url;try{var n=document.createElement("a");n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(e){}}},function(e,t,n){var r=n(1),i=n(29).f,a=n(12),o=n(15),c=n(34),s=n(101),l=n(59);e.exports=function(e,t){var n,u,d,m,f,p=e.target,h=e.global,v=e.stat;if(n=h?r:v?r[p]||c(p,{}):(r[p]||{}).prototype)for(u in t){if(m=t[u],d=e.noTargetGet?(f=i(n,u))&&f.value:n[u],!l(h?u:p+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof m==typeof d)continue;s(m,d)}(e.sham||d&&d.sham)&&a(m,"sham",!0),o(n,u,m,e)}}},function(e,t,n){var r=n(8),i=n(14),a=n(30);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(8),i=n(52),a=n(7),o=n(51),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1),i=n(12),a=n(5),o=n(34),c=n(35),s=n(24),l=s.get,u=s.enforce,d=String(String).split("String");(e.exports=function(e,t,n,c){var s=!!c&&!!c.unsafe,l=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(s?!m&&e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)):l?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||c(this)}))},function(e,t,n){var r=n(56),i=n(1),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(80)()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.keyframes=t.injectGlobal=t.css=void 0;var r=o(n(3)),i=o(n(141)),a=o(n(142));function o(e){return e&&e.__esModule?e:{default:e}}var c=void 0!==e?e:{},s=(0,i.default)(c);t.css=s.css,t.injectGlobal=s.injectGlobal,t.keyframes=s.keyframes,t.default=(0,a.default)(s,r.default)}).call(this,n(21))},function(e,t,n){var r=n(31),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t,n){var r,i,a,o=n(100),c=n(1),s=n(6),l=n(12),u=n(5),d=n(36),m=n(37),f=c.WeakMap;if(o){var p=new f,h=p.get,v=p.has,g=p.set;r=function(e,t){return g.call(p,e,t),t},i=function(e){return h.call(p,e)||{}},a=function(e){return v.call(p,e)}}else{var b=d("state");m[b]=!0,r=function(e,t){return l(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},a=function(e){return u(e,b)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){!function(e,t){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i={register:function(e){console.warn("Consumer used without a Provider")},unregister:function(e){},val:function(e){}};function a(e){var t=e.children;return{child:1===t.length?t[0]:null,children:t}}function o(e){return a(e).child||"render"in e&&e.render}var c=1073741823,s=function(){return c},l=0;function u(e,n){var u="_preactContextProvider-"+l++;return{Provider:function(e){function i(t){var r=e.call(this,t)||this;return r.t=function(e,t){var n=[],r=e,i=function(e){return 0|t(r,e)};return{register:function(e){n.push(e),e(r,i(r))},unregister:function(e){n=n.filter((function(t){return t!==e}))},val:function(e){if(void 0===e||e==r)return r;var t=i(e);return r=e,n.forEach((function(n){return n(e,t)})),r}}}(t.value,n||s),r}return r(i,e),i.prototype.getChildContext=function(){var e;return(e={})[u]=this.t,e},i.prototype.componentDidUpdate=function(){this.t.val(this.props.value)},i.prototype.render=function(){var e=a(this.props),n=e.child,r=e.children;return n||t.h("span",null,r)},i}(t.Component),Consumer:function(t){function n(n,r){var i=t.call(this,n,r)||this;return i.i=function(e,t){var n=i.props.unstable_observedBits,r=null==n?c:n;0!=((r|=0)&t)&&i.setState({value:e})},i.state={value:i.u().val()||e},i}return r(n,t),n.prototype.componentDidMount=function(){this.u().register(this.i)},n.prototype.shouldComponentUpdate=function(e,t){return this.state.value!==t.value||o(this.props)!==o(e)},n.prototype.componentWillUnmount=function(){this.u().unregister(this.i)},n.prototype.componentDidUpdate=function(e,t,n){var r=n[u];r!==this.context[u]&&((r||i).unregister(this.i),this.componentDidMount())},n.prototype.render=function(){var e="render"in this.props&&this.props.render,t=o(this.props);if(e&&e!==t&&console.warn("Both children and a render function are defined. Children will be used"),"function"==typeof t)return t(this.state.value);console.warn("Consumer is expecting a function as one and only child but didn't find any")},n.prototype.u=function(){return this.context[u]||i},n}(t.Component)}}var d=u;e.default=u,e.createContext=d,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScreenBig=function(){return window.screen.width>=1024&&window.screen.height>=768},t.isMobile=function(e){return/mobile|tablet|android/i.test(e.toLowerCase())},t.isSafari=function(e){return/^((?!chrome|android).)*safari/i.test(e.toLowerCase())},t.isIOSDevice=function(e){return/ip(hone|od|ad)/i.test(e.toLowerCase())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=u(a),c=u(n(9)),s=n(10),l=u(n(91));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.iframeRef=null,n.handleLoad=n.handleLoad.bind(n),n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return e.src!==this.props.src}},{key:"getRef",value:function(e){this.iframeRef=e}},{key:"handleLoad",value:function(){var e=this;this.iframeRef.style.height=this.iframeRef.offsetHeight+1+"px",setTimeout((function(){e.iframeRef.style.height="",(0,s.applyIOSFooterHack)(e.iframeRef),(0,s.applyIOSIframeResizeHack)(e.iframeRef),e.props.onLoad&&e.props.onLoad(e.iframeRef)}),1)}},{key:"render",value:function(){var e=this.props,t=e.style,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["style"]);return o.default.createElement("iframe",r({},n,{allow:l.default,"data-qa":"iframe",frameBorder:"0",height:"100%",onLoad:this.handleLoad,ref:this.getRef,src:this.props.src,style:r({border:0},t),width:"100%"}))}}]),t}(a.Component);d.propTypes={src:c.default.string.isRequired,onLoad:c.default.func,style:c.default.object},t.default=d},function(e,t,n){var r=n(8),i=n(50),a=n(30),o=n(23),c=n(51),s=n(5),l=n(52),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=c(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(4),i=n(13),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(1),i=n(6),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(1),i=n(12);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(53),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(54),i=n(55),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(39),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r={};r[n(2)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(14).f,i=n(5),a=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(18),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(85)),i=o(n(86)),a=o(n(87));function o(e){return e&&e.__esModule?e:{default:e}}var c=/(\.typeform)\.(com|io)$/;t.default=function(e){if(!function(e){var t=new RegExp("^(?:f|ht)tp(?:s)?://([^/]+)","im"),n=e.origin.match(t);if(!(n&&n.length>1))return!1;var r=n[1].toString();return!!c.test(r)}(e=e.originalEvent||e))return!1;(0,a.default)(e.data)?window.location.href=e.data:(0,i.default)(e.data)&&e.data.hasOwnProperty("type")?window.dispatchEvent(new r.default(e.data.type,{detail:e.data})):window.dispatchEvent(new r.default(e.data))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return Math.random().toString(36).substr(2,5)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POPUP_MODES=t.DRAWER_RIGHT=t.DRAWER=t.POPUP=t.DEFAULT_AUTOCLOSE_TIMEOUT=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),c=h(o),s=h(n(9)),l=h(n(90)),u=h(n(22)),d=h(n(28)),m=h(n(92)),f=n(10),p=h(n(94));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=t.DEFAULT_AUTOCLOSE_TIMEOUT=5,b=t.POPUP="popup",y=t.DRAWER="drawer_left",k=t.DRAWER_RIGHT="drawer_right",w=(t.POPUP_MODES=(v(r={},b,"popup-blank"),v(r,y,"popup-classic"),v(r,k,"popup-drawer"),r),(0,u.default)("div",{target:"e1o3ysfi0"})("visibility:",(function(e){return e.open?"visible":"hidden"}),";opacity:",(function(e){return e.open?1:0}),";position:",(function(e){return e.isContained?"absolute":"fixed"}),";max-width:100%;z-index:10001;")),_=(0,u.default)("div",{target:"e1o3ysfi1"})("visibility:",(function(e){return e.appearing?"hidden":"visible"}),";opacity:",(function(e){return e.appearing?0:1}),";transition:opacity 200ms ease,visibility 0s linear ",(function(e){return e.appearing?"200ms":"0s"}),";background:rgba(0,0,0,0.85);position:",(function(e){return e.isContained?"absolute":"fixed"}),";overflow:",(function(e){return e.isContained?"hidden":"auto"}),";left:0;top:0;right:0;bottom:0;z-index:10001;min-height:100%;"),E=(0,u.default)(w,{target:"e1o3ysfi2"})("width:",(function(e){return e.isContained?"calc(100% - 80px)":"calc(100vw - 80px)"}),";height:",(function(e){return e.isContained?"calc(100% - 80px)":"calc(100vh - 80px)"}),";top:40px;left:40px;transition:all 300ms ease-out;"),S=(0,u.default)(w,{target:"e1o3ysfi3"})("transition:all 400ms ease-out;width:",(function(e){return e.width}),"px;height:100%;top:0;"),C=(0,u.default)(S,{target:"e1o3ysfi4"})("left:",(function(e){return e.open?0:-(e.width-30)}),"px;"),x=(0,u.default)(S,{target:"e1o3ysfi5"})("right:",(function(e){return e.open?0:-(e.width-30)}),"px;"),N=(0,u.default)("img",{target:"e1o3ysfi6"})("position:absolute;padding:8px;cursor:pointer;width:initial;max-width:initial;"),T=(0,u.default)(N,{target:"e1o3ysfi7"})("top:-34px;right:-34px;"),O=(0,u.default)(N,{target:"e1o3ysfi8"})("top:12px;right:-38px;"),I=(0,u.default)(N,{target:"e1o3ysfi9"})("top:12px;left:-38px;right:auto;"),R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={frameAnimate:!1,iframeLoaded:!1,popupAnimate:!0,transitionEnded:!1},n.handleMessage=n.handleMessage.bind(n),n.handleKeyDown=(0,f.callIfEmbedIdMatches)(n.handleKeyDown.bind(n),n.props.embedId),n.handleAutoClose=(0,f.callIfEmbedIdMatches)(n.handleAutoClose.bind(n),n.props.embedId),n.handleClose=(0,f.callIfEmbedIdMatches)(n.handleClose.bind(n),n.props.embedId),n.handleFormSubmit=(0,f.callIfEmbedIdMatches)(n.handleFormSubmit.bind(n),n.props.embedId),n.handleIframeLoad=n.handleIframeLoad.bind(n),n.handleAnimateBeforeClose=n.handleAnimateBeforeClose.bind(n),n.handleTransitionEnd=n.handleTransitionEnd.bind(n),n.setWrapperRef=n.setWrapperRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",this.handleMessage),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("form-close",this.handleClose),window.addEventListener("form-submit",this.handleFormSubmit),window.addEventListener("embed-auto-close-popup",this.handleAutoClose),window.addEventListener("redirect-after-submit",f.redirectToUrl),window.addEventListener("thank-you-screen-redirect",f.redirectToUrl),setTimeout((function(){e.setState({popupAnimate:!1})}),100)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("form-close",this.handleClose),window.removeEventListener("form-submit",this.handleFormSubmit),window.removeEventListener("embed-auto-close-popup",this.handleAutoClose),window.removeEventListener("redirect-after-submit",f.redirectToUrl),window.removeEventListener("thank-you-screen-redirect",f.redirectToUrl)}},{key:"setWrapperRef",value:function(e){this.wrapper=e}},{key:"getWrapperComponent",value:function(e){return e===k?x:e===y?C:E}},{key:"getCloseImage",value:function(e){return e===k?I:e===y?O:T}},{key:"handleIframeLoad",value:function(e){var t=this;this.setState({iframeLoaded:!0},(function(){setTimeout((function(){t.setState({frameAnimate:!0}),e&&e.contentWindow&&e.contentWindow.focus()}),500)}))}},{key:"handleAnimateBeforeClose",value:function(){var e=this;this.setState({frameAnimate:!1,popupAnimate:!1},(function(){setTimeout((function(){e.setState({popupAnimate:!0},(function(){setTimeout(e.props.onClose,400)}))}),400)}))}},{key:"handleClose",value:function(){this.handleAnimateBeforeClose()}},{key:"handleKeyDown",value:function(e){"Escape"!==e.code&&27!==e.which||this.handleAnimateBeforeClose()}},{key:"handleMessage",value:function(e){(0,f.broadcastMessage)(this.props.embedId,e)}},{key:"handleAutoClose",value:function(e){var t=this,n=e.detail.isProPlus||e.detail.canSetAutocloseDelay,r=this.props.options,i=r.isAutoCloseEnabled,a=r.autoClose;i&&setTimeout((function(){t.handleAnimateBeforeClose()}),1e3*(n?a:g))}},{key:"handleTransitionEnd",value:function(e){e.target===this.wrapper&&this.setState({transitionEnded:this.state.frameAnimate})}},{key:"handleFormSubmit",value:function(){this.props.options.onSubmit&&this.props.options.onSubmit()}},{key:"render",value:function(){var e=null,t=this.props,n=t.embedId,r=t.options,a=t.url,o=r.drawerWidth,s=r.hideScrollbars,u=r.isContained,h=r.mode;s&&(e={width:"calc(100% + "+(0,l.default)()+"px)"}),h===b&&(e=i({},e,{WebkitMaskImage:"-webkit-radial-gradient(circle, white, black)",WebkitTransform:"translateZ(0)"}));var v=(0,f.updateQueryStringParameter)("typeform-embed-id",n,a),g=this.getWrapperComponent(h),y=this.getCloseImage(h);return c.default.createElement(_,{appearing:this.state.popupAnimate,isContained:u},c.default.createElement(m.default,{stopped:this.state.iframeLoaded}),c.default.createElement(g,{"data-qa":"popup-mode-"+h,innerRef:this.setWrapperRef,isContained:u,mode:h,onTransitionEnd:this.handleTransitionEnd,open:this.state.frameAnimate,width:o},this.state.iframeLoaded&&c.default.createElement(y,{alt:"close-typeform","data-qa":"popup-close-button",mode:h,onClick:this.handleAnimateBeforeClose,src:p.default}),c.default.createElement(d.default,{onLoad:this.handleIframeLoad,src:v,style:e})))}}]),t}(o.Component);R.propTypes={embedId:s.default.string,height:s.default.number,onClose:s.default.func,options:s.default.object.isRequired,url:s.default.string.isRequired,width:s.default.number},t.default=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=f(i),o=f(n(9)),c=n(22),s=f(c),l=f(n(95)),u=f(n(28)),d=n(10),m=n(48);function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.default)("div",{target:"e4550h40"})("visibility:",(function(e){return e.open?"visible":"hidden"}),";opacity:",(function(e){return e.open?1:0}),";background-color:",(function(e){return e.backgroundColor}),";position:fixed !important;z-index:10001;left:0 !important;right:0 !important;top:0 !important;bottom:0 !important;overflow:hidden !important;height:100%;transition:all 400ms ease ",(function(e){return e.openDelay}),"s;");(0,c.injectGlobal)(".__typeform-embed-mobile-modal-open{overflow:hidden !important;position:fixed !important;top:0 !important;left:0 !important;right:0 !important;bottom:0 !important;}");var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={backgroundColor:e.backgroundColor,buttonColor:e.buttonColor},n.handleMessage=n.handleMessage.bind(n),n.handleAutoClose=(0,d.callIfEmbedIdMatches)(n.handleAutoClose.bind(n),n.props.embedId),n.handleFormSubmit=(0,d.callIfEmbedIdMatches)(n.handleFormSubmit.bind(n),n.props.embedId),n.handleFormTheme=(0,d.callIfEmbedIdMatches)(n.handleFormTheme.bind(n),n.props.embedId),n.handleClose=n.handleClose.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage),window.addEventListener("embed-auto-close-popup",this.handleAutoClose),window.addEventListener("form-submit",this.handleFormSubmit),window.addEventListener("form-theme",this.handleFormTheme),window.addEventListener("redirect-after-submit",d.redirectToUrl),window.addEventListener("thank-you-screen-redirect",d.redirectToUrl),this.props.open&&this.open()}},{key:"componentDidUpdate",value:function(e){!e.open&&this.props.open&&this.open(),e.backgroundColor===this.props.backgroundColor&&e.buttonColor===this.props.buttonColor||this.setState({backgroundColor:this.props.backgroundColor,buttonColor:this.props.buttonColor})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.removeEventListener("embed-auto-close-popup",this.handleAutoClose),window.removeEventListener("form-submit",this.handleFormSubmit),window.removeEventListener("form-theme",this.handleFormTheme),window.removeEventListener("redirect-after-submit",d.redirectToUrl),window.removeEventListener("thank-you-screen-redirect",d.redirectToUrl),document.body.classList.remove("__typeform-embed-mobile-modal-open")}},{key:"handleMessage",value:function(e){(0,d.broadcastMessage)(this.props.embedId,e)}},{key:"handleAutoClose",value:function(e){var t=this,n=e.detail.isProPlus||e.detail.canSetAutocloseDelay,r=this.props,i=r.isAutoCloseEnabled,a=r.autoClose,o=void 0===a?m.DEFAULT_AUTOCLOSE_TIMEOUT:a,c=1e3*(n?o:m.DEFAULT_AUTOCLOSE_TIMEOUT);i&&setTimeout((function(){t.handleClose()}),c)}},{key:"handleFormSubmit",value:function(){this.props.onSubmit&&this.props.onSubmit()}},{key:"handleFormTheme",value:function(e){var t=(e.detail||{}).theme;this.setState({backgroundColor:t.backgroundColor,buttonColor:t.color})}},{key:"open",value:function(){var e=this;setTimeout((function(){e.originalBodyScrollTop=window.document.body.scrollTop,document.body.classList.add("__typeform-embed-mobile-modal-open")}),1e3*this.props.openDelay+500)}},{key:"handleClose",value:function(){var e=this;document.body.classList.remove("__typeform-embed-mobile-modal-open"),setTimeout((function(){window.document.body.scrollTop=e.originalBodyScrollTop}),40),this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){var e=this.props,t=e.embedId,n=e.url,r=e.open,i=this.state,o=i.backgroundColor,c=i.buttonColor,s=(0,d.updateQueryStringParameter)("typeform-embed-id",t,n);return a.default.createElement(p,{backgroundColor:o,"data-qa":"mobile-modal",open:r,openDelay:this.props.openDelay},r&&a.default.createElement(u.default,{src:s}),a.default.createElement(l.default,{color:c,dataQa:"close-button-mobile",onClick:this.handleClose}))}}]),t}(i.Component);h.propTypes={url:o.default.string,open:o.default.bool,isAutoCloseEnabled:o.default.bool,backgroundColor:o.default.string,buttonColor:o.default.string,buttonText:o.default.string,onClose:o.default.func,onSubmit:o.default.func,autoClose:o.default.number,openDelay:o.default.number,embedId:o.default.string},h.defaultProps={open:!1,openDelay:0,autoClose:null,backgroundColor:"transparent",buttonColor:"#FFF"},t.default=h},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(8),i=n(4),a=n(33);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),i=n(34),a=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},function(e,t,n){var r=n(17),i=n(53);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(1);e.exports=r},function(e,t,n){var r=n(5),i=n(23),a=n(104).indexOf,o=n(37);e.exports=function(e,t){var n,c=i(e),s=0,l=[];for(n in c)!r(o,n)&&r(c,n)&&l.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~a(l,n)||l.push(n));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(4),i=/#|\.prototype\./,a=function(e,t){var n=c[o(e)];return n==l||n!=s&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(57),i=n(40);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(4);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(2),i=n(63),a=n(14),o=r("unscopables"),c=Array.prototype;null==c[o]&&a.f(c,o,{configurable:!0,value:i(null)}),e.exports=function(e){c[o][e]=!0}},function(e,t,n){var r,i=n(7),a=n(112),o=n(40),c=n(37),s=n(64),l=n(33),u=n(36)("IE_PROTO"),d=function(){},m=function(e){return"<script>"+e+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=r?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=l("iframe")).style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete f.prototype[o[n]];return f()};c[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=f(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(16);e.exports=r("document","documentElement")},function(e,t,n){var r=n(43),i=n(13),a=n(2)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r=n(11),i=n(121),a=n(68),o=n(123),c=n(44),s=n(12),l=n(15),u=n(2),d=n(17),m=n(19),f=n(67),p=f.IteratorPrototype,h=f.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g=function(){return this};e.exports=function(e,t,n,u,f,b,y){i(n,t,u);var k,w,_,E=function(e){if(e===f&&T)return T;if(!h&&e in x)return x[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",C=!1,x=e.prototype,N=x[v]||x["@@iterator"]||f&&x[f],T=!h&&N||E(f),O="Array"==t&&x.entries||N;if(O&&(k=a(O.call(new e)),p!==Object.prototype&&k.next&&(d||a(k)===p||(o?o(k,p):"function"!=typeof k[v]&&s(k,v,g)),c(k,S,!0,!0),d&&(m[S]=g))),"values"==f&&N&&"values"!==N.name&&(C=!0,T=function(){return N.call(this)}),d&&!y||x[v]===T||s(x,v,T),m[t]=T,f)if(w={values:E("values"),keys:b?T:E("keys"),entries:E("entries")},y)for(_ in w)!h&&!C&&_ in x||l(x,_,w[_]);else r({target:t,proto:!0,forced:h||C},w);return w}},function(e,t,n){"use strict";var r,i,a,o=n(68),c=n(12),s=n(5),l=n(2),u=n(17),d=l("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):m=!0),null==r&&(r={}),u||s(r,d)||c(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},function(e,t,n){var r=n(5),i=n(41),a=n(36),o=n(122),c=a("IE_PROTO"),s=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var r=n(1);e.exports=r.Promise},function(e,t,n){var r=n(7),i=n(132),a=n(38),o=n(42),c=n(133),s=n(134),l=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,u,d){var m,f,p,h,v,g,b,y=o(t,n,u?2:1);if(d)m=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(i(f)){for(p=0,h=a(e.length);h>p;p++)if((v=u?y(r(b=e[p])[0],b[1]):y(e[p]))&&v instanceof l)return v;return new l(!1)}m=f.call(e)}for(g=m.next;!(b=g.call(m)).done;)if("object"==typeof(v=s(m,y,b.value,u))&&v&&v instanceof l)return v;return new l(!1)}).stop=function(e){return new l(!0,e)}},function(e,t,n){var r=n(7),i=n(18),a=n(2)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(1),c=n(4),s=n(13),l=n(42),u=n(64),d=n(33),m=n(73),f=o.location,p=o.setImmediate,h=o.clearImmediate,v=o.process,g=o.MessageChannel,b=o.Dispatch,y=0,k={},w=function(e){if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}},_=function(e){return function(){w(e)}},E=function(e){w(e.data)},S=function(e){o.postMessage(e+"",f.protocol+"//"+f.host)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return k[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},h=function(e){delete k[e]},"process"==s(v)?r=function(e){v.nextTick(_(e))}:b&&b.now?r=function(e){b.now(_(e))}:g&&!m?(a=(i=new g).port2,i.port1.onmessage=E,r=l(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||c(S)?r="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(_(e),0)}:(r=S,o.addEventListener("message",E,!1))),e.exports={set:p,clear:h}},function(e,t,n){var r=n(74);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(16);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(7),i=n(6),a=n(45);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,c,s,l,u,d){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeFullScreen=t.makeWidget=t.makePopup=void 0;var r=o(n(79)),i=o(n(96)),a=o(n(98));function o(e){return e&&e.__esModule?e:{default:e}}n(99),n(107),n(114),n(116),t.makePopup=r.default,t.makeWidget=i.default,t.makeFullScreen=a.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=(0,c.default)();if(t=r({},f,t,{isAutoCloseEnabled:void 0!==t.autoClose,embedType:l.POPUP_MODES[t.mode],embedId:n}),!Number.isSafeInteger(t.drawerWidth))throw new Error("Whoops! You provided an invalid 'drawerWidth' option: \""+t.drawerWidth+'". It must be a number.');var m=document.createElement("div");t.isContained=void 0!==t.container,t.container=t.container||document.body,t.container.appendChild(m);var h={open:function(){!function(e,t,n,r){var c=n.autoClose,l=n.buttonText,m=n.embedId,f=n.isAutoCloseEnabled,h=n.onSubmit,v=(0,o.appendParamsToUrl)(e,(0,o.replaceExistingKeys)(n,p));!(0,s.isMobile)(navigator.userAgent)&&(0,s.isScreenBig)()?(0,a.render)(i.default.createElement(u.default,{embedId:m,onClose:r,options:n,url:v}),t):((0,o.ensureMetaViewport)(),(0,a.render)(i.default.createElement(d.default,{autoClose:c,buttonText:l,embedId:m,isAutoCloseEnabled:f,onClose:r,onSubmit:h,open:!0,url:v}),t))}(e,m,t,this.close)},close:function(){window.postMessage({type:"form-closed",embedId:n},"*"),(0,a.unmountComponentAtNode)(m)}};return t.autoOpen&&h.open(),h};var i=m(n(3)),a=n(3),o=n(10),c=m(n(47)),s=n(27),l=n(48),u=m(l),d=m(n(49));function m(e){return e&&e.__esModule?e:{default:e}}var f={mode:l.POPUP,autoOpen:!1,isModalOpen:!1,autoClose:l.DEFAULT_AUTOCLOSE_TIMEOUT,hideFooter:!1,hideHeaders:!1,hideScrollbars:!1,disableTracking:!1,drawerWidth:800,onSubmit:o.noop},p={embedType:"typeform-embed",hideFooter:"embed-hide-footer",hideHeaders:"embed-hide-headers",disableTracking:"disable-tracking"}},function(e,t,n){"use strict";var r=n(81);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var r=n(83),i=n(84),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function s(e){return(e||"").toString().replace(c,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new f(unescape(e.pathname),{});else if("string"===o)for(n in i=new f(e,{}),u)delete i[n];else if("object"===o){for(n in e)n in u||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function m(e){e=s(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(e=s(e),!(this instanceof f))return new f(e,t,n);var a,o,c,u,p,h,v=l.slice(),g=typeof t,b=this,y=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=d(t),a=!(o=m(e||"")).protocol&&!o.slashes,b.slashes=o.slashes||a&&t.slashes,b.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(v[3]=[/(.*)/,"pathname"]);y<v.length;y++)"function"!=typeof(u=v[y])?(c=u[0],h=u[1],c!=c?b[h]=e:"string"==typeof c?~(p=e.indexOf(c))&&("number"==typeof u[2]?(b[h]=e.slice(0,p),e=e.slice(p+u[2])):(b[h]=e.slice(p),e=e.slice(0,p))):(p=c.exec(e))&&(b[h]=p[1],e=e.slice(0,p.index)),b[h]=b[h]||a&&u[3]&&t[h]||"",u[4]&&(b[h]=b[h].toLowerCase())):e=u(e);n&&(b.query=n(b.query)),a&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(b.pathname,t.pathname)),r(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(u=b.auth.split(":"),b.username=u[0]||"",b.password=u[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}f.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";a[e]=t.charAt(0)!==o?o+t:t}else a[e]=t;break;default:a[e]=t}for(var c=0;c<l.length;c++){var s=l[c];s[4]&&(a[s[1]]=a[s[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},f.extractProtocol=m,f.location=d,f.trimLeft=s,f.qs=i,e.exports=f}).call(this,n(21))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,a=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;a.push(i+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=i(t[1]),o=i(t[2]);null===a||null===o||a in r||(r[a]=o)}return r}},function(e,t,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,n(21))},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(n);if(!t)return!1;var a=t[1];return!!a&&!(!r.test(a)&&!i.test(a))};var n=/^(?:\w+:)?\/\/(\S+)$/,r=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,i=/^[^\s\.]+\.\S{2,}$/},function(e,t,n){"use strict";var r=n(89);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r;(function(){"use strict";var n,i;i=null,n=function(e){var t,n;return null==e&&(e=!1),null==i||e?"loading"===document.readyState?null:(t=document.createElement("div"),n=document.createElement("div"),t.style.width=n.style.width=t.style.height=n.style.height="100px",t.style.overflow="scroll",n.style.overflow="hidden",document.body.appendChild(t),document.body.appendChild(n),i=Math.abs(t.scrollHeight-n.scrollHeight),document.body.removeChild(t),document.body.removeChild(n),i):i},void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="camera; microphone; autoplay; encrypted-media;"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=l(a),c=l(n(9)),s=l(n(93));function l(e){return e&&e.__esModule?e:{default:e}}var u={lines:16,length:3,width:3,radius:14,color:"#FFFFFF",speed:2.1,trail:60,shadow:!1,hwaccel:!1,top:"50%",left:"50%",position:"absolute",zIndex:999},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getRef=n.getRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.instantiateSpinner(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.config.color!==this.props.config.color?(this.spinner.stop(),this.instantiateSpinner(e)):!0!==e.stopped||this.props.stopped?e.stopped||!0!==this.props.stopped||this.spinner.spin(this.container):this.spinner.stop()}},{key:"componentWillUnmount",value:function(){this.spinner.stop()}},{key:"getRef",value:function(e){this.container=e}},{key:"instantiateSpinner",value:function(e){this.spinner=new s.default(r({},u,e.config)),e.stopped||this.spinner.spin(this.container)}},{key:"render",value:function(){return o.default.createElement("div",{ref:this.getRef})}}]),t}(a.Component);d.propTypes={config:c.default.object,stopped:c.default.bool,className:c.default.string,style:c.default.object},d.defaultProps={config:u,className:"",style:{}},t.default=d},function(e,t,n){var r,i,a;a=function(){"use strict";var e,t,n=["webkit","Moz","ms","O"],r={};function i(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function a(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(n,i,a,o){var c=["opacity",i,~~(100*n),a,o].join("-"),s=.01+a/o*100,l=Math.max(1-(1-n)/i*(100-s),n),u=e.substring(0,e.indexOf("Animation")).toLowerCase(),d=u&&"-"+u+"-"||"";return r[c]||(t.insertRule("@"+d+"keyframes "+c+"{0%{opacity:"+l+"}"+s+"%{opacity:"+n+"}"+(s+.01)+"%{opacity:1}"+(s+i)%100+"%{opacity:"+n+"}100%{opacity:"+l+"}}",t.cssRules.length),r[c]=1),c}function c(e,t){var r,i,a=e.style;if(void 0!==a[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(i=0;i<n.length;i++)if(void 0!==a[r=n[i]+t])return r}function s(e,t){for(var n in t)e.style[c(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function u(e,t){return"string"==typeof e?e:e[t%e.length]}var d,m={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function f(e){this.opts=l(e||{},f.defaults,m)}if(f.defaults={},l(f.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,a=n.el=i(null,{className:r.className});if(s(a,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!e){var o,c=0,l=(r.lines-1)*(1-r.direction)/2,u=r.fps,d=u/r.speed,m=(1-r.opacity)/(d*r.trail/100),f=d/r.lines;!function e(){c++;for(var t=0;t<r.lines;t++)o=Math.max(1-(c+(r.lines-t)*f)%d*m,r.opacity),n.opacity(a,t*r.direction+l,o,r);n.timeout=n.el&&setTimeout(e,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,n){var r,c=0,l=(n.lines-1)*(1-n.direction)/2;function d(e,t){return s(i(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*c+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(;c<n.lines;c++)r=s(i(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:e&&o(n.opacity,n.trail,l+c*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&a(r,s(d("#000","0 0 4px #000"),{top:"2px"})),a(t,a(r,d(u(n.color,c),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){d=i("style",{type:"text/css"}),a(document.getElementsByTagName("head")[0],d),t=d.sheet||d.styleSheet;var p=s(i("group"),{behavior:"url(#default#VML)"});!c(p,"transform")&&p.adj?function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}t.addRule(".spin-vml","behavior:url(#default#VML)"),f.prototype.lines=function(t,n){var r=n.scale*(n.length+n.width),i=2*n.scale*r;function o(){return s(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+-r}),{width:i,height:i})}var c,l=-(n.width+n.length)*n.scale*2+"px",d=s(o(),{position:"absolute",top:l,left:l});function m(t,i,c){a(d,a(s(o(),{rotation:360/n.lines*t+"deg",left:~~i}),a(s(e("roundrect",{arcsize:n.corners}),{width:r,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:c}),e("fill",{color:u(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}if(n.shadow)for(c=1;c<=n.lines;c++)m(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=n.lines;c++)m(c);return a(t,d)},f.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=(i=(i=i.childNodes[t+r])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():e=c(p,"animation")}return f},e.exports?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t){e.exports="data:image/gif;base64,R0lGODlhEQARAIAAAODn7P///yH5BAEHAAEALAAAAAARABEAAAIqBIKpab3v3EMyVHWtWZluf0za0XFNKDJfCq5i5JpomdUxqKLQVmInqyoAADs="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),i=c(n(9)),a=n(22),o=c(a);function c(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)("div",{target:"e1m9xwad0"})("position:absolute;z-index:1001;top:0;right:0;font-size:20px;font-family:sans-serif;width:50px;height:50px;"),l=(0,a.css)("border-radius:0;display:block;height:2px;width:25px;position:absolute;right:6px;top:6px;"),u=(0,o.default)("span",{target:"e1m9xwad1"})(l," background-color:",(function(e){return e.backgroundColor}),";transform:translate(0,13px) rotate3d(0,0,1,-135deg);"),d=(0,o.default)("span",{target:"e1m9xwad2"})(l," background-color:",(function(e){return e.backgroundColor}),";transform:translate(0,13px) rotate3d(0,0,1,-45deg);"),m=function(e){var t=e.color,n=e.onClick,i=e.dataQa;return r.default.createElement(s,{"data-qa":i,onClick:n},r.default.createElement(u,{backgroundColor:t}),r.default.createElement(d,{backgroundColor:t}))};m.propTypes={color:i.default.string,dataQa:i.default.string,onClick:i.default.func},t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){n=r({},u,n);var l=(0,c.isMobile)(navigator.userAgent),m=(0,o.replaceExistingKeys)(n,d);l&&(m=r({},(0,o.omit)("embed-opacity",m),{"add-placeholder-ws":!0}));var f=(0,o.appendParamsToUrl)(t,m);(0,a.render)(i.default.createElement(s.default,{enabledFullscreen:l,options:n,url:f}),e)};var i=l(n(3)),a=n(3),o=n(10),c=n(27),s=l(n(97));function l(e){return e&&e.__esModule?e:{default:e}}var u={mode:"embed-widget",hideFooter:!1,hideHeaders:!1,hideScrollbars:!1,disableTracking:!1,onSubmit:o.noop},d={mode:"typeform-embed",hideFooter:"embed-hide-footer",hideHeaders:"embed-hide-headers",opacity:"embed-opacity",disableTracking:"disable-tracking"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),a=f(i),o=f(n(9)),c=n(22),s=f(c),l=n(10),u=f(n(47)),d=f(n(28)),m=f(n(49));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,s.default)("div",{target:"e12baen60"})("height:100%;position:relative;"),h=(0,c.keyframes)("10%{opacity:1;}25%{top:0;left:0;width:100%;height:100%;opacity:1;}70%{top:0;left:0;width:100%;height:100%;opacity:1;}100%{top:0;left:0;width:100%;height:100%;opacity:0;}"),v=(0,c.keyframes)("100%{opacity:0;}75%{opacity:1;}25%{opacity:1;}0%{opacity:0;}"),g=(0,s.default)("div",{target:"e12baen61"})("position:fixed;top:",(function(e){return e.top}),"px;left:",(function(e){return e.left}),"px;height:",(function(e){return e.height?e.height+"px":"100%"}),";width:",(function(e){return e.width?e.width+"px":"100%"}),";animation:",(function(e){return e.open?h:v})," 1.5s ease;visibility:",(function(e){return e.visible?"visible":"hidden"}),";background:",(function(e){return e.backgroundColor}),";opacity:0;pointer-events:none;"),b=(0,s.default)("div",{target:"e12baen62"})("height:100%;width:100%;overflow:hidden;background:",(function(e){return e.backgroundColor}),";"),y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.embedId=(0,u.default)(),n.mobileEmbedId=(0,u.default)(),n.state={isFormReady:!1,isIframeFocused:!1,isFullscreen:!1,buttonColor:"black",backgroundColor:"transparent"},n.handleMessage=n.handleMessage.bind(n),n.handleFormReady=(0,l.callIfEmbedIdMatches)(n.handleFormReady.bind(n),n.embedId),n.handleFormSubmit=(0,l.callIfEmbedIdMatches)(n.handleFormSubmit.bind(n),n.embedId),n.handleFormTheme=(0,l.callIfEmbedIdMatches)(n.handleFormTheme.bind(n),n.embedId),n.goFullScreen=(0,l.callIfEmbedIdMatches)(n.goFullScreen.bind(n),n.embedId),n.focusIframe=n.focusIframe.bind(n),n.handleClose=n.handleClose.bind(n),n.reloadIframe=n.reloadIframe.bind(n),n.debouncedScroll=(0,l.debounce)(n.focusIframe,200,n),n.setIframeRef=n.setIframeRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage),window.addEventListener("form-ready",this.handleFormReady),window.addEventListener("scroll",this.debouncedScroll),window.addEventListener("form-submit",this.handleFormSubmit),window.addEventListener("form-theme",this.handleFormTheme),window.addEventListener("welcome-screen-hidden",this.goFullScreen),window.addEventListener("redirect-after-submit",l.redirectToUrl),window.addEventListener("thank-you-screen-redirect",l.redirectToUrl)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage),window.removeEventListener("form-ready",this.handleFormReady),window.removeEventListener("scroll",this.debouncedScroll),window.removeEventListener("form-submit",this.handleFormSubmit),window.removeEventListener("form-theme",this.handleFormTheme),window.removeEventListener("welcome-screen-hidden",this.goFullScreen),window.removeEventListener("redirect-after-submit",l.redirectToUrl),window.removeEventListener("thank-you-screen-redirect",l.redirectToUrl)}},{key:"setIframeRef",value:function(e){this.iframe=e}},{key:"goFullScreen",value:function(){this.props.enabledFullscreen&&(this.setState({isFullscreen:!0}),setTimeout(this.reloadIframe,3e3))}},{key:"handleClose",value:function(){this.setState({isFullscreen:!1})}},{key:"handleFormReady",value:function(){var e=this;this.setState({isFormReady:!0},(function(){e.focusIframe()}))}},{key:"handleFormTheme",value:function(e){var t=(e.detail||{}).theme;this.setState({backgroundColor:t.backgroundColor,buttonColor:t.color})}},{key:"handleMessage",value:function(e){(0,l.broadcastMessage)(this.embedId,e)}},{key:"handleFormSubmit",value:function(){this.props.options.onSubmit&&this.props.options.onSubmit()}},{key:"reloadIframe",value:function(){this.iframe.iframeRef.src=this.iframe.iframeRef.src}},{key:"focusIframe",value:function(){if(!this.props.enabledFullscreen){var e=this.iframe.iframeRef;if(e&&e.contentWindow){var t=(0,l.isElementInViewport)(e);this.state.isFormReady&&!this.state.isIframeFocused&&t&&null!=e.contentWindow&&(e.contentWindow.postMessage("embed-focus","*"),this.setState({isIframeFocused:!0}))}}}},{key:"render",value:function(){var e=this.state,t=e.isFullscreen,n=e.backgroundColor,r=e.buttonColor,i=e.isFormReady,o=this.props,c=o.enabledFullscreen,s=o.options,u=o.url,f=this.iframe&&this.iframe.iframeRef.getBoundingClientRect(),h=(0,l.updateQueryStringParameter)("typeform-embed-id",this.embedId,u);c&&(h=(0,l.updateQueryStringParameter)("disable-tracking","true",h));var v=(0,l.updateQueryStringParameter)("typeform-welcome","0",u);return a.default.createElement(p,null,a.default.createElement(b,{backgroundColor:c?n:"transparent"},a.default.createElement(d.default,{frameBorder:"0",height:"100%",ref:this.setIframeRef,src:h,width:"100%"})),c&&a.default.createElement(g,{backgroundColor:n,bottom:f&&f.bottom,height:f&&f.height,left:f&&f.left,open:t,right:f&&f.right,top:f&&f.top,visible:i,width:f&&f.width}),c&&a.default.createElement(m.default,{backgroundColor:n,buttonColor:r,embedId:this.mobileEmbedId,onClose:this.handleClose,onSubmit:s.onSubmit,open:t,openDelay:.3,url:v}))}}]),t}(i.Component);y.propTypes={url:o.default.string,options:o.default.object.isRequired,enabledFullscreen:o.default.bool,embedId:o.default.string},y.defaultProps={options:{},enabledFullscreen:!1},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){n=r({},c,n),e.src=(0,a.appendParamsToUrl)(t,(0,a.replaceExistingKeys)(n,s)),(0,a.ensureMetaViewport)(),e.onload=function(){setTimeout((function(){e.style.height="",(0,a.applyIOSFooterHack)(e),(0,a.applyIOSIframeResizeHack)(e)}),1),e.contentWindow.focus()},window.addEventListener("message",o.default),window.addEventListener("form-submit",(function(){n.onSubmit()})),window.addEventListener("redirect-after-submit",a.redirectToUrl),window.addEventListener("thank-you-screen-redirect",a.redirectToUrl)};var i,a=n(10),o=(i=n(46))&&i.__esModule?i:{default:i},c={mode:"embed-fullpage",disableTracking:!1,onSubmit:a.noop},s={mode:"typeform-embed",disableTracking:"disable-tracking"}},function(e,t,n){var r=n(11),i=n(106);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(1),i=n(35),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},function(e,t,n){var r=n(5),i=n(102),a=n(29),o=n(14);e.exports=function(e,t){for(var n=i(t),c=o.f,s=a.f,l=0;l<n.length;l++){var u=n[l];r(e,u)||c(e,u,s(t,u))}}},function(e,t,n){var r=n(16),i=n(103),a=n(58),o=n(7);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(57),i=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(23),i=n(38),a=n(105),o=function(e){return function(t,n,o){var c,s=r(t),l=i(s.length),u=a(o,l);if(e&&n!=n){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(39),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t,n){"use strict";var r=n(8),i=n(4),a=n(60),o=n(58),c=n(50),s=n(41),l=n(31),u=Object.assign,d=Object.defineProperty;e.exports=!u||i((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||"abcdefghijklmnopqrst"!=a(u({},t)).join("")}))?function(e,t){for(var n=s(e),i=arguments.length,u=1,d=o.f,m=c.f;i>u;)for(var f,p=l(arguments[u++]),h=d?a(p).concat(d(p)):a(p),v=h.length,g=0;v>g;)f=h[g++],r&&!m.call(p,f)||(n[f]=p[f]);return n}:u},function(e,t,n){"use strict";var r=n(11),i=n(108).find,a=n(62),o=n(113),c=!0,s=o("find");"find"in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},function(e,t,n){var r=n(42),i=n(31),a=n(41),o=n(38),c=n(109),s=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,m=5==e||d;return function(f,p,h,v){for(var g,b,y=a(f),k=i(y),w=r(p,h,3),_=o(k.length),E=0,S=v||c,C=t?S(f,_):n?S(f,0):void 0;_>E;E++)if((m||E in k)&&(b=w(g=k[E],E,y),e))if(t)C[E]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:s.call(C,g)}else if(u)return!1;return d?-1:l||u?u:C}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,n){var r=n(6),i=n(110),a=n(2)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(13);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(61);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(8),i=n(14),a=n(7),o=n(60);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),c=r.length,s=0;c>s;)i.f(e,n=r[s++],t[n]);return e}},function(e,t,n){var r=n(8),i=n(4),a=n(5),o=Object.defineProperty,c={},s=function(e){throw e};e.exports=function(e,t){if(a(c,e))return c[e];t||(t={});var n=[][e],l=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:s,d=a(t,1)?t[1]:void 0;return c[e]=!!n&&!i((function(){if(l&&!r)return!0;var e={length:-1};l?o(e,1,{enumerable:!0,get:s}):e[1]=1,n.call(e,u,d)}))}},function(e,t,n){var r=n(11),i=n(115),a=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,n){var r=n(6),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(117),n(119),n(125),n(128),n(139),n(140);var r=n(56);e.exports=r.Promise},function(e,t,n){var r=n(43),i=n(15),a=n(118);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var r=n(43),i=n(65);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r=n(120).charAt,i=n(24),a=n(66),o=i.set,c=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(39),i=n(32),a=function(e){return function(t,n){var a,o,c=String(i(t)),s=r(n),l=c.length;return s<0||s>=l?e?"":void 0:(a=c.charCodeAt(s))<55296||a>56319||s+1===l||(o=c.charCodeAt(s+1))<56320||o>57343?e?c.charAt(s):a:e?c.slice(s,s+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var r=n(67).IteratorPrototype,i=n(63),a=n(30),o=n(44),c=n(19),s=function(){return this};e.exports=function(e,t,n){var l=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,l,!1,!0),c[l]=s,e}},function(e,t,n){var r=n(4);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(7),i=n(124);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(1),i=n(126),a=n(127),o=n(12),c=n(2),s=c("iterator"),l=c("toStringTag"),u=a.values;for(var d in i){var m=r[d],f=m&&m.prototype;if(f){if(f[s]!==u)try{o(f,s,u)}catch(e){f[s]=u}if(f[l]||o(f,l,d),i[d])for(var p in a)if(f[p]!==a[p])try{o(f,p,a[p])}catch(e){f[p]=a[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(23),i=n(62),a=n(19),o=n(24),c=n(66),s=o.set,l=o.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){s(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r,i,a,o,c=n(11),s=n(17),l=n(1),u=n(16),d=n(69),m=n(15),f=n(129),p=n(44),h=n(130),v=n(6),g=n(18),b=n(131),y=n(13),k=n(35),w=n(70),_=n(135),E=n(71),S=n(72).set,C=n(136),x=n(75),N=n(137),T=n(45),O=n(76),I=n(24),R=n(59),D=n(2),P=n(138),F=D("species"),j="Promise",A=I.get,M=I.set,L=I.getterFor(j),V=d,U=l.TypeError,B=l.document,q=l.process,W=u("fetch"),z=T.f,G=z,H="process"==y(q),J=!!(B&&B.createEvent&&l.dispatchEvent),Q=R(j,(function(){if(k(V)===String(V)){if(66===P)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}if(s&&!V.prototype.finally)return!0;if(P>=51&&/native code/.test(V))return!1;var e=V.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[F]=t,!(e.then((function(){}))instanceof t)})),K=Q||!_((function(e){V.all(e).catch((function(){}))})),$=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},Y=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;C((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var c,s,l,u=r[o++],d=a?u.ok:u.fail,m=u.resolve,f=u.reject,p=u.domain;try{d?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?c=i:(p&&p.enter(),c=d(i),p&&(p.exit(),l=!0)),c===u.promise?f(U("Promise-chain cycle")):(s=$(c))?s.call(c,m,f):m(c)):f(i)}catch(e){p&&!l&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},X=function(e,t,n){var r,i;J?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):"unhandledrejection"===e&&N("Unhandled promise rejection",n)},Z=function(e,t){S.call(l,(function(){var n,r=t.value;if(ee(t)&&(n=O((function(){H?q.emit("unhandledRejection",r,e):X("unhandledrejection",e,r)})),t.rejection=H||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){S.call(l,(function(){H?q.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Y(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw U("Promise can't be resolved itself");var i=$(n);i?C((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,Y(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};Q&&(V=function(e){b(this,V,j),g(e),r.call(this);var t=A(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){M(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V.prototype,{then:function(e,t){var n=L(this),r=z(E(this,V));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=H?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Y(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},T.f=z=function(e){return e===V||e===a?new i(e):G(e)},s||"function"!=typeof d||(o=d.prototype.then,m(d.prototype,"then",(function(e,t){var n=this;return new V((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof W&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(V,W.apply(l,arguments))}}))),c({global:!0,wrap:!0,forced:Q},{Promise:V}),p(V,j,!1,!0),h(j),a=u(j),c({target:j,stat:!0,forced:Q},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),c({target:j,stat:!0,forced:s||Q},{resolve:function(e){return x(s&&this===a?V:this,e)}}),c({target:j,stat:!0,forced:K},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,a=O((function(){var n=g(t.resolve),a=[],o=0,c=1;w(e,(function(e){var s=o++,l=!1;a.push(void 0),c++,n.call(t,e).then((function(e){l||(l=!0,a[s]=e,--c||r(a))}),i)})),--c||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=O((function(){var i=g(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(15);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(16),i=n(14),a=n(2),o=n(8),c=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(2),i=n(19),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(65),i=n(19),a=n(2)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(7);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r,i,a,o,c,s,l,u,d=n(1),m=n(29).f,f=n(13),p=n(72).set,h=n(73),v=d.MutationObserver||d.WebKitMutationObserver,g=d.process,b=d.Promise,y="process"==f(g),k=m(d,"queueMicrotask"),w=k&&k.value;w||(r=function(){var e,t;for(y&&(e=g.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},y?o=function(){g.nextTick(r)}:v&&!h?(c=!0,s=document.createTextNode(""),new v(r).observe(s,{characterData:!0}),o=function(){s.data=c=!c}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,o=function(){u.call(l,r)}):o=function(){p.call(d,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(1);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){var r,i,a=n(1),o=n(74),c=a.process,s=c&&c.versions,l=s&&s.v8;l?i=(r=l.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(11),i=n(18),a=n(45),o=n(76),c=n(70);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,s=n.reject,l=o((function(){var n=i(t.resolve),a=[],o=0,s=1;c(e,(function(e){var i=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[i]={status:"fulfilled",value:e},--s||r(a))}),(function(e){c||(c=!0,a[i]={status:"rejected",reason:e},--s||r(a))}))})),--s||r(a)}));return l.error&&s(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(11),i=n(17),a=n(69),o=n(4),c=n(16),s=n(71),l=n(75),u=n(15);r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,c("Promise")),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then((function(){return n}))}:e,n?function(n){return l(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof a||a.prototype.finally||u(a.prototype,"finally",c("Promise").prototype.finally)},function(e,t,n){"use strict";n.r(t);var r=n(26),i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var c=0;for(e=0===o?"":e[0]+" ";c<a;++c)t[c]=n(e,t[c],r).trim();break;default:var s=c=0;for(t=[];c<a;++c)for(var l=0;l<o;++l)t[s++]=n(e[l]+" ",i[c],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(h,"$1"+e.trim());case 58:return e.trim()+t.replace(h,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(h,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var o=e+";",c=2*t+3*n+4*a;if(944===c){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===O||2===O&&i(s,1)?"-webkit-"+s+s:s}if(0===O||2===O&&!i(o,1))return o;switch(c){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(C,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return m.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(y,"tb");break;case 232:s=o.replace(y,"tb-rl");break;case 220:s=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,c=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<c?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+o}return o}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(E,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function o(e,t,n,r,i,a,o,c,l,u){for(var d,m=0,f=t;m<D;++m)switch(d=R[m].call(s,e,f,n,r,i,a,o,c,l,u)){case void 0:case!1:case!0:case null:break;default:f=d}if(f!==t)return f}function c(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!=typeof e?O=1:(O=2,P=e):O=0),c}function s(e,n){var c=e;if(33>c.charCodeAt(0)&&(c=c.trim()),c=[c],0<D){var s=o(-1,n,c,c,N,x,0,0,0,0);void 0!==s&&"string"==typeof s&&(n=s)}var d=function e(n,c,s,d,m){for(var f,p,h,y,w,_=0,E=0,S=0,C=0,R=0,P=0,j=h=f=0,A=0,M=0,L=0,V=0,U=s.length,B=U-1,q="",W="",z="",G="";A<U;){if(p=s.charCodeAt(A),A===B&&0!==E+C+S+_&&(0!==E&&(p=47===E?10:47),C=S=_=0,U++,B++),0===E+C+S+_){if(A===B&&(0<M&&(q=q.replace(u,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=s.charAt(A)}p=59}switch(p){case 123:for(f=(q=q.trim()).charCodeAt(0),h=1,V=++A;A<U;){switch(p=s.charCodeAt(A)){case 123:h++;break;case 125:h--;break;case 47:switch(p=s.charCodeAt(A+1)){case 42:case 47:e:{for(j=A+1;j<B;++j)switch(s.charCodeAt(j)){case 47:if(42===p&&42===s.charCodeAt(j-1)&&A+2!==j){A=j+1;break e}break;case 10:if(47===p){A=j+1;break e}}A=j}}break;case 91:p++;case 40:p++;case 34:case 39:for(;A++<B&&s.charCodeAt(A)!==p;);}if(0===h)break;A++}switch(h=s.substring(V,A),0===f&&(f=(q=q.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<M&&(q=q.replace(u,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:M=c;break;default:M=I}if(V=(h=e(c,M,h,p,m+1)).length,0<D&&(w=o(3,h,M=t(I,q,L),c,N,x,V,p,m,d),q=M.join(""),void 0!==w&&0===(V=(h=w.trim()).length)&&(p=0,h="")),0<V)switch(p){case 115:q=q.replace(k,a);case 100:case 109:case 45:h=q+"{"+h+"}";break;case 107:h=(q=q.replace(v,"$1 $2"))+"{"+h+"}",h=1===O||2===O&&i("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=q+h,112===d&&(W+=h,h="")}else h="";break;default:h=e(c,t(c,q,L),h,d,m+1)}z+=h,h=L=M=j=f=0,q="",p=s.charCodeAt(++A);break;case 125:case 59:if(1<(V=(q=(0<M?q.replace(u,""):q).trim()).length))switch(0===j&&(f=q.charCodeAt(0),45===f||96<f&&123>f)&&(V=(q=q.replace(" ",":")).length),0<D&&void 0!==(w=o(1,q,c,n,N,x,W.length,d,m,d))&&0===(V=(q=w.trim()).length)&&(q="\0\0"),f=q.charCodeAt(0),p=q.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){G+=q+s.charAt(A);break}default:58!==q.charCodeAt(V-1)&&(W+=r(q,f,p,q.charCodeAt(2)))}L=M=j=f=0,q="",p=s.charCodeAt(++A)}}switch(p){case 13:case 10:47===E?E=0:0===1+f&&107!==d&&0<q.length&&(M=1,q+="\0"),0<D*F&&o(0,q,c,n,N,x,W.length,d,m,d),x=1,N++;break;case 59:case 125:if(0===E+C+S+_){x++;break}default:switch(x++,y=s.charAt(A),p){case 9:case 32:if(0===C+_+E)switch(R){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===C+E+_&&(M=L=1,y="\f"+y);break;case 108:if(0===C+E+_+T&&0<j)switch(A-j){case 2:112===R&&58===s.charCodeAt(A-3)&&(T=R);case 8:111===P&&(T=P)}break;case 58:0===C+E+_&&(j=A);break;case 44:0===E+S+C+_&&(M=1,y+="\r");break;case 34:case 39:0===E&&(C=C===p?0:0===C?p:C);break;case 91:0===C+E+S&&_++;break;case 93:0===C+E+S&&_--;break;case 41:0===C+E+_&&S--;break;case 40:if(0===C+E+_){if(0===f)switch(2*R+3*P){case 533:break;default:f=1}S++}break;case 64:0===E+S+C+_+j+h&&(h=1);break;case 42:case 47:if(!(0<C+_+S))switch(E){case 0:switch(2*p+3*s.charCodeAt(A+1)){case 235:E=47;break;case 220:V=A,E=42}break;case 42:47===p&&42===R&&V+2!==A&&(33===s.charCodeAt(V+2)&&(W+=s.substring(V,A+1)),y="",E=0)}}0===E&&(q+=y)}P=R,R=p,A++}if(0<(V=W.length)){if(M=c,0<D&&void 0!==(w=o(2,W,M,n,N,x,V,d,m,d))&&0===(W=w).length)return G+W+z;if(W=M.join(",")+"{"+W+"}",0!=O*T){switch(2!==O||i(W,2)||(T=0),T){case 111:W=W.replace(b,":-moz-$1")+W;break;case 112:W=W.replace(g,"::-webkit-input-$1")+W.replace(g,"::-moz-$1")+W.replace(g,":-ms-input-$1")+W}T=0}}return G+W+z}(I,c,n,0,0);return 0<D&&void 0!==(s=o(-2,d,c,c,N,x,d.length,0,0,0))&&(d=s),T=0,x=N=1,d}var l=/^\0+/g,u=/[\0\r\f]/g,d=/: */g,m=/zoo|gra/,f=/([,: ])(transform)/g,p=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,x=1,N=1,T=0,O=1,I=[],R=[],D=0,P=null,F=0;return s.use=function e(t){switch(t){case void 0:case null:D=R.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:R[D++]=t;break;case Boolean:F=0|!!t}}return e},s.set=c,void 0!==e&&c(e),s},o=n(77),c=n.n(o),s=/[A-Z]|^ms/g,l=Object(r.a)((function(e){return e.replace(s,"-$&").toLowerCase()})),u=function(e,t){return null==t||"boolean"==typeof t?"":1===i[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},d=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"function":o=e([a()]);break;case"object":if(Array.isArray(a))o=e(a);else for(var c in o="",a)a[c]&&c&&(o&&(o+=" "),o+=c);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i},m="undefined"!=typeof document;function f(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var p=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=f(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else{var r=f(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(f(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.default=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,i=t.key||"css",o=c()((function(e){n+=e,m&&f.insert(e,v)}));void 0!==t.prefix&&(r={prefix:t.prefix});var s={registered:{},inserted:{},nonce:t.nonce,key:i},f=new p(t);m&&f.inject();var h=new a(r);h.use(t.stylisPlugins)(o);var v="";function g(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":return void 0!==e.__emotion_styles?e.toString():g.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return w.call(this,e);default:var n=s.registered[e];return!1===t&&void 0!==n?n:e}}var b,y,k=new WeakMap;function w(e){if(k.has(e))return k.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=g.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==s.registered[e[n]]?t+=n+"{"+s.registered[e[n]]+"}":t+=l(n)+":"+u(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===s.registered[e[n][0]]?e[n].forEach((function(e){t+=l(n)+":"+u(n,e)+";"})):t+=n+"{"+g.call(this,e[n],!1)+"}"}),this),k.set(e,t),t}var _=/label:\s*([^\s;\n{]+)\s*;/g,E=function(e,t){return function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)}(e+t)+t},S=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=g.call(this,e,!1)):n+=e[0];for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.forEach((function(r,i){n+=g.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[i+1]&&(n+=e[i+1])}),this),y=n,n=n.replace(_,(function(e,t){return r+="-"+t,""})),b=E(n,r),n};function C(e,t){void 0===s.inserted[b]&&(n="",h(e,t),s.inserted[b]=n)}var x=function(){var e=S.apply(this,arguments),t=i+"-"+b;return void 0===s.registered[t]&&(s.registered[t]=y),C("."+t,e),t};function N(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==s.registered[t]?e.push(t):n+=t+" "})),n}function T(e,t){var n=[],r=N(n,e);return n.length<2?e:r+x(n,t)}function O(e){s.inserted[e]=!0}if(m){var I=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(I,(function(e){f.tags[0].parentNode.insertBefore(e,f.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(O)}))}var R={flush:function(){m&&(f.flush(),f.inject()),s.inserted={},s.registered={}},hydrate:function(e){e.forEach(O)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(d(t))},merge:T,getRegisteredStyles:N,injectGlobal:function(){var e=S.apply(this,arguments);C("",e)},keyframes:function(){var e=S.apply(this,arguments),t="animation-"+b;return C("","@keyframes "+t+"{"+e+"}"),t},css:x,sheet:f,caches:s};return e.__SECRET_EMOTION__=R,R}},function(e,t,n){"use strict";n.r(t);var r=n(9),i=n.n(r),a=n(26),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class)|(on[A-Z].*)|((data|aria|x)-.*))$/i,c=Object(a.a)(o.test.bind(o));function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l,u="__EMOTION_THEMING__",d=((l={})[u]=i.a.object,l);function m(e){this.setState({theme:e})}var f=c,p=function(e){return"theme"!==e&&"innerRef"!==e},h=function(){return!0},v=function(e,t){for(var n=2,r=arguments.length;n<r;n++){var i=arguments[n],a=void 0;for(a in i)e(a)&&(t[a]=i[a])}return t};t.default=function(e,t){var n=function(r,i){var a,o,c,l;void 0!==i&&(a=i.e,o=i.label,c=i.target,l=r.__emotion_forwardProp&&i.shouldForwardProp?function(e){return r.__emotion_forwardProp(e)&&i.shouldForwardProp(e)}:i.shouldForwardProp);var g=r.__emotion_real===r,b=void 0===a&&g&&r.__emotion_base||r;return"function"!=typeof l&&(l="string"==typeof b&&b.charAt(0)===b.charAt(0).toLowerCase()?f:p),function(){var f=arguments,p=g&&void 0!==r.__emotion_styles?r.__emotion_styles.slice(0):[];if(void 0!==o&&p.push("label:"+o+";"),void 0===a)if(null==f[0]||void 0===f[0].raw)p.push.apply(p,f);else{p.push(f[0][0]);for(var y=f.length,k=1;k<y;k++)p.push(f[k],f[0][k])}var w=function(n){function r(){return n.apply(this,arguments)||this}s(r,n);var i=r.prototype;return i.componentWillMount=function(){void 0!==this.context[u]&&(this.unsubscribe=this.context[u].subscribe(m.bind(this)))},i.componentWillUnmount=function(){void 0!==this.unsubscribe&&this.context[u].unsubscribe(this.unsubscribe)},i.render=function(){var n=this.props,r=this.state;this.mergedProps=v(h,{},n,{theme:null!==r&&r.theme||n.theme||{}});var i="",o=[];return n.className&&(i+=void 0===a?e.getRegisteredStyles(o,n.className):n.className+" "),i+=void 0===a?e.css.apply(this,p.concat(o)):a,void 0!==c&&(i+=" "+c),t.createElement(b,v(l,{},n,{className:i,ref:n.innerRef}))},r}(t.Component);return w.displayName=void 0!==o?o:"Styled("+("string"==typeof b?b:b.displayName||b.name||"Component")+")",void 0!==r.defaultProps&&(w.defaultProps=r.defaultProps),w.contextTypes=d,w.__emotion_styles=p,w.__emotion_base=b,w.__emotion_real=w,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+c}}),w.withComponent=function(e,t){return n(e,void 0!==t?v(h,{},i,t):i).apply(void 0,p)},w}};return n}}])},Mn35:function(e,t,n){var r=n("UMY1")((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=r},Mp3S:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("tkto");var r=Object.keys({blue:["#C3F5DB","#C9ECFF","#F8F8F8","#FFC86E","#47525D","#80D2FF","#42ACE6","#42ACE6","#80D2FF"],green:["#C3F5DB","#BBEED4","#F8F8F8","#FFC86E","#47525D","#4AE193","#31C87A","#31C87A","#4AE193"],purple:["#C3F5DB","#CBD3FB","#F8F8F8","#FFC86E","#47525D","#8597F5","#516BF0","#516BF0","#8597F5"],red:["#C3F5DB","#FECFCF","#F8F8F8","#FFC86E","#47525D","#FE8E90","#E45556","#E45556","#FE8E90"],yellow:["#C3F5DB","#FFE4D0","#F8F8F8","#FFC86E","#47525D","#FFC192","#E69559","#E69559","#FFC192"]}),i=function(e){return r[e%r.length]},a=function(e){return e%4+1}},MyXz:function(e,t,n){e.exports=n.p+"img/notifications/chat-eab61eedc1d01f5a8d488f04725dfe8f.svg"},Mzxa:function(e,t,n){},N13F:function(e,t,n){},"N3/w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("IPhx");t.BufferTokenizer=class{constructor(e,t){this.buffer=e,this.position=0,this.fileInfo=t||{},this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` can be less than `tokenizer.position`");this.position=t.position}return this.peekBuffer(e,t).then(e=>(this.position+=e,e))}async peekBuffer(e,t){let n=0,i=e.length,a=this.position;if(t){if(t.position){if(t.position<this.position)throw new Error("`options.position` can be less than `tokenizer.position`");a=t.position}Number.isInteger(t.length)?i=t.length:i-=t.offset||0,t.offset&&(n=t.offset)}if(0===i)return Promise.resolve(0);a=a||this.position,i||(i=e.length);const o=Math.min(this.buffer.length-a,i);if(t&&t.mayBeLess||!(o<i))return this.buffer.copy(e,n,a,a+o),o;throw new r.EndOfStreamError}async readToken(e,t){this.position=t||this.position;try{const t=this.peekToken(e,this.position);return this.position+=e.len,t}catch(e){throw this.position+=this.buffer.length-t,e}}async peekToken(e,t=this.position){if(this.buffer.length-t<e.len)throw new r.EndOfStreamError;return e.get(this.buffer,t)}async readNumber(e){return this.readToken(e)}async peekNumber(e){return this.peekToken(e)}async ignore(e){const t=Math.min(this.buffer.length-this.position,e);return this.position+=t,t}async close(){}}},NBNt:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));n("ma9I"),n("TeQF"),n("2B1R"),n("ToJy");var r=n("RIqP"),i=n.n(r),a=function(e,t){var n=e.start;return 100*(e.end-n)/t},o=function(e,t,n){return a({start:e.end,end:t.start},n)},c=function(e,t){return 100*e/t+"%"},s=function(e){var t=e.plays,n=e.replays,r=e.skips,c=e.duration,s=void 0===c?0:c;if(!t)return[];var l=function(e,t){return e.map((function(e){return{start:e.start,end:e.end,type:t}}))};return[].concat(i()(l(t,"played")),i()(l(r,"skipped"))).sort((function(e,t){return e.start-t.start})).map((function(e){for(var t=a(e,s),r=[],i=e.end-e.start,c=e.start,l=function(e,t){var n=e.start,r=e.end;return t.filter((function(e){return e.start>=n&&e.end<=r}))}(e,n).sort((function(e,t){return e.start-t.start})),u=0;u<=l.length;u++){var d="replayed",m=l[u-1]||{start:c,end:c},f=l[u]||{start:m.end,end:i};if(m){var p=o(m,f,i);p&&r.push({width:p,type:"filler"})}var h=a(f,i);if(!l[u]){if(f.start>f.end)continue;d="filler"}r.push({width:h,type:d,start:f.start})}return{width:t,type:e.type,start:e.start,replayBlocks:r}}))},l=function(e){return isNaN(e)?"n/a":"".concat(Math.round(e),"%")}},NOtv:function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n("lv48")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(a=i))})),e.splice(a,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,n("8oxB"))},NSnw:function(e,t,n){"use strict";n("ma9I"),n("07d7"),n("5s+n"),n("SuFq"),n("JfAA");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),f=n("7W2i"),p=n.n(f),h=n("a1gu"),v=n.n(h),g=n("Nsbk"),b=n.n(g),y=n("lSNA"),k=n.n(y),w=n("q4mm"),_=n("q1tI"),E=n.n(_),S=n("Vg22"),C=n("kZ0K"),x=n("uONY"),N=n.n(x),T=n("sDAx"),O=n("wv65"),I=n("zixt"),R=n("COVm"),D=n("rpm1"),P=n("6c1L"),F=n("PXdq");n("iGRo");function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var A=function(e){var t=e.redirect,n=e.isMainVideoOnSharePage,r=e.videoId,i=n?"Public viewing has been disabled by the video owner. Login to view or request access.":"Log in on ".concat(T.x," for access"),a=n?E.a.createElement(_.Fragment,null,E.a.createElement(P.a,{onClicked:function(){window.location=Object(D.b)(t,"Please Login to view this video",T.A+T.u)},capitalize:!1,buttonType:"rp-primary-2",value:"Login"}),E.a.createElement(w.Spacer,{top:"medium"},E.a.createElement(w.Link,{href:"".concat(T.u,"?signup=1")},"Create an Account"))):E.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"".concat(T.A,"/share/").concat(r)},E.a.createElement(P.a,{capitalize:!1,buttonType:"rp-primary-3",value:"Go to Video"}));return E.a.createElement(_.Fragment,null,E.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),E.a.createElement("div",{className:"loom-permissions-modal-body"},i),a)},M=function(e){var t=e.error,n=e.onClick,r=e.requestSent,i=e.alreadyPinged;return E.a.createElement(_.Fragment,null,!r&&E.a.createElement(_.Fragment,null,E.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),E.a.createElement("div",{className:"loom-permissions-modal-body"},"Public viewing has been disabled by the video owner."),E.a.createElement(P.a,{onClicked:n,capitalize:!1,buttonType:"rp-primary-2",value:"Request access"})),r&&E.a.createElement("div",{className:"loom-permissions-modal-title"},!i&&"Your request has been sent!",i&&"Youre only allowed to request access once a day per video."),t&&E.a.createElement("div",{className:"loom-permissions-modal-title"},t))},L=function(e){var t=e.email,n=e.error,r=e.onClick,i=e.requestSent;return E.a.createElement(_.Fragment,null,!i&&E.a.createElement(_.Fragment,null,E.a.createElement("div",{className:"loom-permissions-modal-title"},"You need permission to view this video"),E.a.createElement("div",{className:"loom-permissions-modal-body"},"Public viewing has been disabled by the video owner. Verify your email (",t,") to view."),E.a.createElement(P.a,{onClicked:r,capitalize:!1,buttonType:"rp-primary-2",value:"Resend Verify Email"})),i&&E.a.createElement("div",{className:"loom-permissions-modal-title"},"Your verification email was sent!"),n&&E.a.createElement("div",{className:"loom-permissions-modal-title"},n))},V=function(e){p()(n,e);var t=j(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),k()(m()(e),"state",{showSignup:!1,requestSent:!1,alreadyPinged:!1}),k()(m()(e),"getRedirectString",(function(e){return"".concat(T.A,"/share/").concat(e)})),k()(m()(e),"showSignupModal",(function(){return e.setState({showSignup:!0})})),k()(m()(e),"pingVideoOwnerForAccess",o()(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({error:null}),n=e.props.videoId,t.next=5,fetch("/v1/videos/".concat(n,"/access_ping"),{credentials:"include",method:"POST"});case 5:if((r=t.sent).status!==I.e){t.next=11;break}return e.setState({alreadyPinged:!0,requestSent:!0}),t.abrupt("return");case 11:if(!(r.status>=400)){t.next=13;break}throw new Error("Error checking password - HTTP response: ".concat(r.status));case 13:e.setState({requestSent:!0}),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),C.d(t.t0,"error requesting access for your video"),e.setState({error:"There was an error requesting access for your video"});case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))),k()(m()(e),"sendEmailVerificationEmail",o()(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({error:null}),n=Object(O.getGraphQLClient)(),r=e.props.email,t.next=6,n.mutate({mutation:N.a,variables:{email:r}});case 6:e.setState({requestSent:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),C.d(t.t0,"error sending email verification email"),e.setState({error:"There was an error sending your email verification email"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.error,r=e.videoId,i=e.isLoggedIn,a=e.loggedInChecked,o=e.isMainVideoOnSharePage,c=e.userHasEmailVerification,s=this.state,l=s.requestSent,u=s.alreadyPinged;return a?E.a.createElement("div",{className:"loom-video-permission-modal-wrapper"},E.a.createElement(F.a,{show:!0,showClose:!1,dark:!0,className:"loom-video-modal"},!i&&E.a.createElement(A,{redirect:this.getRedirectString(r),isMainVideoOnSharePage:o,videoId:r}),i&&!c&&E.a.createElement(L,{email:t,error:n,onClick:this.sendEmailVerificationEmail,requestSent:l}),i&&c&&E.a.createElement(M,{error:n,onClick:this.pingVideoOwnerForAccess,requestSent:l,alreadyPinged:u}))):null}}]),n}(_.Component);t.a=Object(S.connect)((function(e){var t=e.user,n=t.current,r=t.is_logged_in,i=t.is_logged_in_checked,a=e.video_player,o=a.isMainVideoOnSharePage,c=a.video.id,s=n&&n.status===R.a;return{email:n&&n.email,videoId:c,isLoggedIn:r,loggedInChecked:i,isMainVideoOnSharePage:o,userHasEmailVerification:s}}),null)(V)},NZQk:function(e,t,n){},Nb8r:function(e,t,n){e.exports=n.p+"img/input-error-49cbcb9f999c530895459ee30e992f1e.svg"},NhRX:function(e,t,n){},Nrs4:function(e,t,n){e.exports=n.p+"img/illustrations/mail-08a471ace850b8bf622e23416e60c54c.svg"},O1Nu:function(e,t,n){},OLsu:function(e,t,n){},OR2W:function(e,t,n){e.exports={emailActions:"salesforce-email-list_emailActions_3_O",deleteBtn:"salesforce-email-list_deleteBtn_vly"}},Ocv5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateOrUpdateAuth0ScimApplication"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrUpdateAuth0ScimApplication"},arguments:[{kind:"Argument",name:{kind:"Name",value:"enabled"},value:{kind:"Variable",name:{kind:"Name",value:"enabled"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clientSecret"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callbacks"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:272}};n.loc.source={body:"mutation CreateOrUpdateAuth0ScimApplication(\n  $enabled: Boolean!\n  $name: String\n  $orgId: String!\n) {\n  createOrUpdateAuth0ScimApplication(\n    enabled: $enabled\n    name: $name\n    orgId: $orgId\n  ) {\n    enabled,\n    clientId, \n    clientSecret,\n    callbacks, \n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CreateOrUpdateAuth0ScimApplication=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CreateOrUpdateAuth0ScimApplication")},OgMr:function(e,t,n){e.exports={loomBadgeWrapper:"loom-badge_loomBadgeWrapper_3JQ",loomBadgeText:"loom-badge_loomBadgeText_3MN",loomBadgeLogo:"loom-badge_loomBadgeLogo_1c8"}},OxxK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSubFolders"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"parentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"organizationId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subFolders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"parentId"},value:{kind:"Variable",name:{kind:"Name",value:"parentId"}}},{kind:"Argument",name:{kind:"Name",value:"organizationId"},value:{kind:"Variable",name:{kind:"Name",value:"organizationId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubFolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalVideos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalSubfolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mostRecentVideo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:475}};n.loc.source={body:"query GetSubFolders($parentId: ID!, $organizationId: ID) {\n  subFolders(parentId: $parentId, organizationId: $organizationId) {\n    id\n    name\n    favorite\n    shared\n    description\n    hasSubFolders\n    totalVideos\n    totalSubfolders\n    isUserFavorite\n    mostRecentVideo {\n      id\n      thumbnails {\n        default\n      }\n      createdAt\n    }\n    owner {\n      first_name\n      last_name\n      avatars {\n        name\n        large\n        thumb\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetSubFolders=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetSubFolders")},PNsc:function(e,t,n){e.exports=n.p+"img/video-player/step-back-five-70e76d6228ace9f57578700facecf753.svg"},PZxD:function(e,t,n){},PdXg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getPendingWorkspaceInvitesForUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"invites"},name:{kind:"Name",value:"getPendingWorkspaceInvitesForUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organization_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:165}};n.loc.source={body:"query getPendingWorkspaceInvitesForUser {\n  invites: getPendingWorkspaceInvitesForUser {\n    id\n    token\n    organization_id\n    workspace {\n      name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.getPendingWorkspaceInvitesForUser=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getPendingWorkspaceInvitesForUser")},Pp8E:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var c=e[a](t,n,r,i);if(c)return c}},e.exports=t.default},Q5cQ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTopLevelSharedEntities"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedWorkspaceTopLevelEntitiesForUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entity_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entity_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"folder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubFolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalVideos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalSubfolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allow_search_engine_indexing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permitted_viewers_only"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mods"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments_email_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_emojis"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loom_branded_player"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"show_analytics_to_viewer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distinct"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"current_user_is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_protected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"needs_password"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"do_not_show_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1731}};n.loc.source={body:"query GetTopLevelSharedEntities {\n  sharedWorkspaceTopLevelEntitiesForUser {\n    id\n    entity_type\n    entity_id\n    folder {\n      id\n      name\n      favorite\n      shared\n      description\n      hasSubFolders\n      totalVideos\n      totalSubfolders\n      isUserFavorite\n      owner {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n        email\n      }\n      collaborators {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n      }\n      createdAt\n      updatedAt\n      workspace\n    }\n    video {\n      id\n      s3_id\n      name\n      allow_search_engine_indexing\n      permitted_viewers_only\n      active_status\n      cta {\n        url\n        mods\n        text\n        enabled\n      }\n      comments_email_enabled\n      comments_enabled\n      use_emojis\n      use_gif\n      loom_branded_player\n      download_enabled\n      show_analytics_to_viewer\n      complete\n      archived\n      defaultThumbnails {\n        default\n        static\n      }\n      processing_information {\n        trim_id\n      }\n      video_properties {\n        width\n        height\n        duration\n      }\n      views {\n        total\n        distinct\n      }\n      current_user_is_owner\n      is_protected\n      needs_password\n      do_not_show_comments\n      isUserFavorite\n      owner {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n        email\n      }\n      collaborators {\n        first_name\n        last_name\n        avatars {\n          name\n          large\n          thumb\n        }\n      }\n      createdAt\n      updatedAt\n      workspace\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetTopLevelSharedEntities=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetTopLevelSharedEntities")},Q7no:function(e,t,n){},"QFP+":function(e,t,n){},QcYm:function(e,t,n){},Qi9L:function(e,t,n){e.exports={shareTitleBar:"title-bar_shareTitleBar_2RQ",shareTitle:"title-bar_shareTitle_1XJ",editable:"title-bar_editable_1Ls",shareTitleBarInput:"title-bar_shareTitleBarInput_23W",hidden:"title-bar_hidden_2Ei",video:"title-bar_video_3SK",empty:"title-bar_empty_1OT","trim-mode-enabled":"title-bar_trim-mode-enabled_2DM"}},QsQQ:function(e,t,n){e.exports={dropdownCard:"workspace-selector_dropdownCard_3IU",currentWorkspaceSection:"workspace-selector_currentWorkspaceSection_3Uu",currentWorkspaceAvatarSection:"workspace-selector_currentWorkspaceAvatarSection_1cX",workspaceItem:"workspace-selector_workspaceItem_3yL",dropdownWrapper:"workspace-selector_dropdownWrapper_3n1",sectionTitle:"workspace-selector_sectionTitle_2RW",workspacesListSection:"workspace-selector_workspacesListSection_3Yc",workspacesActionsSection:"workspace-selector_workspacesActionsSection_3SW",comingSoon:"workspace-selector_comingSoon_21g",workspacesListInvitesSection:"workspace-selector_workspacesListInvitesSection_2es"}},QtHM:function(e,t,n){e.exports=n.p+"img/video-player/fullscreen-ff1f930b3bf0f81ef2988a027bb2d251.svg"},R42F:function(e,t,n){e.exports=n.p+"img/illustrations/drag-to-reposition-7ec1ee61b9df6b7e9794c36aeeb1e97d.svg"},RDSm:function(e,t,n){e.exports=n.p+"img/icons/new/minus-white-8cf55a9e3ede0e0a1aab41aa5af3a050.svg"},RKIb:function(e,t,n){"use strict";var r="function"==typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):void 0;t.a=r},RYOk:function(e,t,n){e.exports={sfdcContainer:"salesforce-share_sfdcContainer_1R4",withBorder:"salesforce-share_withBorder_SLG",sfdcIcon:"salesforce-share_sfdcIcon_1gp",sfdcScrollableContainer:"salesforce-share_sfdcScrollableContainer_3hJ"}},RjTu:function(e,t,n){},RkBW:function(e,t,n){e.exports=n.p+"img/video-player/volume-0-393e9092898279709d6ecd9e5cd230e9.svg"},RmPs:function(e,t,n){e.exports=n.p+"img/illustrations/shared-library-542f8540a429769c0d9be1f6963722b4.svg"},Rqg5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetVideoThumbnails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};n.loc.source={body:"query GetVideoThumbnails($videoId: ID!) {\n  video(id: $videoId) {\n    use_gif\n    thumbnails {\n      default\n      defaultGif\n      defaultGifPlay\n    }\n    defaultThumbnails {\n      default\n      static\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetVideoThumbnails=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetVideoThumbnails")},RwQf:function(e,t,n){},RwwH:function(e,t,n){},"Rz+p":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("MAmL"));e.exports=t.default},SERz:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"a",(function(){return R}));n("ma9I"),n("TeQF"),n("yq1k"),n("2B1R"),n("ToJy"),n("sMBO"),n("qePV");var r=n("pVnL"),i=n.n(r),a=n("QILm"),o=n.n(a),c=n("q4mm"),s=n("TSYQ"),l=n.n(s),u=n("wd/R"),d=n.n(u),m=n("q1tI"),f=n.n(m),p=n("Vg22"),h=n("8aGn"),v=n("sDAx"),g=n("t5t/"),b=n("dwPx"),y=n("vxpg"),k=n("h25W"),w=n("h7Cg"),_=n("vkhE"),E=n.n(_),S=function(e){var t=e.type,n=e.ts,r=e.content,i=e.onClick,a=e.duration,o=f.a.useRef(),c=t+" opaque",s="comment"===t,l={left:Object(y.d)(n,a)};f.a.useLayoutEffect((function(){var e,t=null==o?void 0:o.current,n=null===(e=t.parentElement)||void 0===e?void 0:e.getBoundingClientRect(),r=t.getBoundingClientRect().right-n.right;r>0&&(t.style.transform="translateX(".concat(-1*r,"px)"))}));var u="",d=k.b[r];return s&&(u=r),f.a.createElement("div",{className:c,style:l,title:u,onClick:i,ref:o},d?f.a.createElement("img",{src:d}):null)},C=function(e){var t=e.type,n=e.width,r=e.children,a=void 0===r?null:r,c=o()(e,["type","width","children"]),s={width:n+"%"};return"played"===t&&(s.backgroundColor="#70E5A9"),"replayed"===t&&(s.backgroundColor="#00C1FF"),"filler"===t&&(s.backgroundColor="transparent"),f.a.createElement("div",i()({style:s},c,{className:t}),a&&a)},x=function(e){var t=e.user,n=void 0===t?{}:t,r=e.events,i=void 0===r?[]:r,a=i.filter((function(e){return["comment","reply"].includes(e.type)})),o=i.filter((function(e){return"reaction"===e.type}));return f.a.createElement("article",{className:E.a.viewerInfo},f.a.createElement(T,{avatar:n.avatar,name:n.name,color:n.color,variant:n.variant}),f.a.createElement("div",null,f.a.createElement(O,n),f.a.createElement(c.Distribute,{gap:"medium",alignment:"center"},f.a.createElement(N,{type:"comment",items:a||[]}),f.a.createElement(N,{type:"reaction",items:o||[]}))))},N=function(e){var t=e.type,n=e.items,r=(void 0===n?[]:n).length,i="comment"===t?c.SvgComment:c.SvgSmileAlt;return f.a.createElement(c.Distribute,{alignment:"center",gap:"xsmall"},f.a.createElement(c.Icon,{icon:f.a.createElement(i,null),size:2,color:"bodyDimmed"}),f.a.createElement(c.Text,{color:"bodyDimmed"},r))},T=function(e){var t=e.avatar,n=e.size,r=void 0===n?4:n,i=e.firstName,a=e.name,o=t&&"".concat(v.i,"/").concat(t),c=i||a,s=c!==g.a&&c;return f.a.createElement(w.a,{avatarSize:r,avatarSrc:o,className:o||s?"":"test-anonAvatar",name:s})},O=function(e){return f.a.createElement("div",null,f.a.createElement(c.Text,{fontWeight:"medium",htmlTag:"h3"},e.name))},I=function(e){return f.a.createElement(f.a.Fragment,null,e.views.map((function(e,t){var n=Number(e),r=d()(n).format("MMMM Do, YYYY h:mma");return f.a.createElement(c.Text,{variant:"body",key:t},f.a.createElement("time",null,r))})))},R=function(e){var t=e.events,n=void 0===t?[]:t,r=Object(p.useDispatch)(),i={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!n.length)return null;var a=function(e){return function(){var t=document.querySelector("#".concat(e.type,"-").concat(e.id));t&&(t.classList.remove("highlightedComment"),window.requestAnimationFrame((function(){t.classList.add("highlightedComment"),t.scrollIntoView({behavior:"smooth",block:"center"})})))}},o=function(e){return function(){r(Object(h.i)(e))}};return f.a.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},f.a.createElement("div",{className:"px:small mb:small"},f.a.createElement(c.Text,{fontWeight:"medium"},"Activity")),n.sort(D).map((function(e,t){var n=i[e.type],r=k.b[e.content],c=["comment","reply"].includes(e.type);return f.a.createElement("div",{key:t,className:l()(E.a.eventItem,E.a.isClickable),onClick:c?a(e):o(e.ts)},r&&f.a.createElement("img",{src:r,alt:"".concat(n," ").concat(Object(b.d)(e.ts))}),n,f.a.createElement("time",null,Object(b.d)(e.ts)))})))};function D(e,t){var n=e.ts,r=t.ts;return n>r?1:r>n?-1:0}},SFYy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},SKlP:function(e,t,n){"use strict";var r=n("J4zp"),i=n.n(r),a=n("q4mm"),o=n("q1tI"),c=n.n(o),s=n("Vg22"),l=n("AGlj"),u=n("sDAx"),d=n("V2Ro"),m=n("CtBj"),f=n("XLjq"),p=n.n(f),h=n("xdnN"),v=n("hRRZ"),g=n("p91b"),b=n("Fw3N");t.a=function(e){var t=e.contentType,n=void 0===t?"recording":t,r=c.a.useState(!1),f=i()(r,2),y=f[0],k=f[1],w=Object(g.d)(),_=Object(v.a)(),E=Object(h.a)(),S=Object(s.useSelector)((function(e){return e.checklist.first_video_recording})),C=Object(o.useCallback)((function(){return{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:w.id}}),[w.id]),x=function(){Object(m.h)(l.L,C()),k(!y)};return Object(o.useEffect)((function(){var e,t,n=(null==E||null===(e=E.videos)||void 0===e?void 0:e.total_workspace_videos)+(null==E||null===(t=E.screenshots)||void 0===t?void 0:t.total_workspace_screenshots),r=S&&n>=(null==_?void 0:_.TOTAL_ASSETS);r&&Object(m.h)(l.M,C()),k(r)}),[E,C,S,_]),c.a.createElement(b.a,{names:d.c},c.a.createElement(a.Modal,{isOpen:y,onCloseClick:x,onBackgroundClick:x,maxWidth:55},c.a.createElement("img",{className:"logo accenture",src:p.a}),c.a.createElement(a.Spacer,{bottom:3}),c.a.createElement(a.Text,{fontWeight:"bold",alignment:"center",size:"large"},"Youre over your limit of ",null==_?void 0:_.TOTAL_ASSETS," free videos and screenshots."),c.a.createElement(a.Spacer,{bottom:2}),c.a.createElement(a.Text,{size:"medium",alignment:"center",color:"bodyDimmed"},"This ",n," is on us, but well enforce the limit soon. Upgrading also unlocks unlimited recording time and a toolkit of new features to help get your message across."),c.a.createElement(a.Spacer,{bottom:2}),c.a.createElement(a.Button,{variant:"upgrade",size:"large",icon:c.a.createElement(a.SvgSparkle,null),onClick:function(){Object(m.h)(l.K,C(),(function(){window.location.href=u.J}))}},"Upgrade")))}},SLk9:function(e,t,n){},SQno:function(e,t,n){},STro:function(e,t,n){},SYjR:function(e,t,n){"use strict";n.r(t),n.d(t,"getOperationAST",(function(){return i}));var r=n("/jXB");function i(e,t){for(var n=null,i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.kind===r.a.OPERATION_DEFINITION)if(t){if(a.name&&a.name.value===t)return a}else{if(n)return null;n=a}}return n}},SbR3:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("pVnL")),a=r(n("VbXa")),o=r(n("PJYZ")),c=r(n("oL8k")),s=n("q1tI"),l=r(n("8OQS")),u="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function d(e){cancelAnimationFrame(e.id)}function m(e,t){var n=u();var r={id:requestAnimationFrame((function i(){u()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var f=-1;var p=null;function h(e){if(void 0===e&&(e=!1),null===p||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?p="positive-descending":(t.scrollLeft=1,p=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),p}return p}var v=function(e){var t=e.columnIndex;e.data;return e.rowIndex+":"+t};function g(e){var t,n,r=e.getColumnOffset,l=e.getColumnStartIndexForOffset,u=e.getColumnStopIndexForStartIndex,p=e.getColumnWidth,g=e.getEstimatedTotalHeight,y=e.getEstimatedTotalWidth,k=e.getOffsetForColumnAndAlignment,w=e.getOffsetForRowAndAlignment,_=e.getRowHeight,E=e.getRowOffset,S=e.getRowStartIndexForOffset,C=e.getRowStopIndexForStartIndex,x=e.initInstanceProps,N=e.shouldResetStyleCacheOnItemSizeChange,T=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=x(n.props,o(o(n))),n._resetIsScrollingTimeoutId=null,n._outerRef=void 0,n.state={instance:o(o(n)),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof n.props.initialScrollLeft?n.props.initialScrollLeft:0,scrollTop:"number"==typeof n.props.initialScrollTop?n.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},n._callOnItemsRendered=void 0,n._callOnItemsRendered=c((function(e,t,r,i,a,o,c,s){return n.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:r,overscanRowStopIndex:i,visibleColumnStartIndex:a,visibleColumnStopIndex:o,visibleRowStartIndex:c,visibleRowStopIndex:s})})),n._callOnScroll=void 0,n._callOnScroll=c((function(e,t,r,i,a){return n.props.onScroll({horizontalScrollDirection:r,scrollLeft:e,scrollTop:t,verticalScrollDirection:i,scrollUpdateWasRequested:a})})),n._getItemStyle=void 0,n._getItemStyle=function(e,t){var i,a=n.props,o=a.columnWidth,c=a.direction,s=a.rowHeight,l=n._getItemStyleCache(N&&o,N&&c,N&&s),u=e+":"+t;if(l.hasOwnProperty(u))i=l[u];else{var d=r(n.props,t,n._instanceProps),m="rtl"===c;l[u]=i={position:"absolute",left:m?void 0:d,right:m?d:void 0,top:E(n.props,e,n._instanceProps),height:_(n.props,e,n._instanceProps),width:p(n.props,t,n._instanceProps)}}return i},n._getItemStyleCache=void 0,n._getItemStyleCache=c((function(e,t,n){return{}})),n._onScroll=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.clientWidth,a=t.scrollLeft,o=t.scrollTop,c=t.scrollHeight,s=t.scrollWidth;n.setState((function(e){if(e.scrollLeft===a&&e.scrollTop===o)return null;var t=n.props.direction,l=a;if("rtl"===t)switch(h()){case"negative":l=-a;break;case"positive-descending":l=s-i-a}l=Math.max(0,Math.min(l,s-i));var u=Math.max(0,Math.min(o,c-r));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<a?"forward":"backward",scrollLeft:l,scrollTop:u,verticalScrollDirection:e.scrollTop<o?"forward":"backward",scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&d(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=m(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1)}))},n}a(t,e),t.getDerivedStateFromProps=function(e,t){return b(e,t),T(e),null};var n=t.prototype;return n.scrollTo=function(e){var t=e.scrollLeft,n=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==n&&(n=Math.max(0,n)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===n&&(n=e.scrollTop),e.scrollLeft===t&&e.scrollTop===n?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:n,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<n?"forward":"backward"}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e){var t=e.align,n=void 0===t?"auto":t,r=e.columnIndex,i=e.rowIndex,a=this.props,o=a.columnCount,c=a.height,s=a.rowCount,l=a.width,u=this.state,d=u.scrollLeft,m=u.scrollTop,p=function(e){if(void 0===e&&(e=!1),-1===f||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),f=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return f}();void 0!==r&&(r=Math.max(0,Math.min(r,o-1))),void 0!==i&&(i=Math.max(0,Math.min(i,s-1)));var h=g(this.props,this._instanceProps),v=y(this.props,this._instanceProps)>l?p:0,b=h>c?p:0;this.scrollTo({scrollLeft:void 0!==r?k(this.props,r,n,d,this._instanceProps,b):d,scrollTop:void 0!==i?w(this.props,i,n,m,this._instanceProps,v):m})},n.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,n=e.initialScrollTop;if(null!=this._outerRef){var r=this._outerRef;"number"==typeof t&&(r.scrollLeft=t),"number"==typeof n&&(r.scrollTop=n)}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props.direction,t=this.state,n=t.scrollLeft,r=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("rtl"===e)switch(h()){case"negative":i.scrollLeft=-n;break;case"positive-ascending":i.scrollLeft=n;break;default:var a=i.clientWidth,o=i.scrollWidth;i.scrollLeft=o-a-n}else i.scrollLeft=Math.max(0,n);i.scrollTop=Math.max(0,r)}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&d(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.columnCount,a=e.direction,o=e.height,c=e.innerRef,l=e.innerElementType,u=e.innerTagName,d=e.itemData,m=e.itemKey,f=void 0===m?v:m,p=e.outerElementType,h=e.outerTagName,b=e.rowCount,k=e.style,w=e.useIsScrolling,_=e.width,E=this.state.isScrolling,S=this._getHorizontalRangeToRender(),C=S[0],x=S[1],N=this._getVerticalRangeToRender(),T=N[0],O=N[1],I=[];if(r>0&&b)for(var R=T;R<=O;R++)for(var D=C;D<=x;D++)I.push(s.createElement(t,{columnIndex:D,data:d,isScrolling:w?E:void 0,key:f({columnIndex:D,data:d,rowIndex:R}),rowIndex:R,style:this._getItemStyle(R,D)}));var P=g(this.props,this._instanceProps),F=y(this.props,this._instanceProps);return s.createElement(p||h||"div",{className:n,onScroll:this._onScroll,ref:this._outerRefSetter,style:i({position:"relative",height:o,width:_,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},k)},s.createElement(l||u||"div",{children:I,ref:c,style:{height:P,pointerEvents:E?"none":void 0,width:F}}))},n._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,n=e.onItemsRendered,r=e.onScroll,i=e.rowCount;if("function"==typeof n&&t>0&&i>0){var a=this._getHorizontalRangeToRender(),o=a[0],c=a[1],s=a[2],l=a[3],u=this._getVerticalRangeToRender(),d=u[0],m=u[1],f=u[2],p=u[3];this._callOnItemsRendered(o,c,d,m,s,l,f,p)}if("function"==typeof r){var h=this.state,v=h.horizontalScrollDirection,g=h.scrollLeft,b=h.scrollTop,y=h.scrollUpdateWasRequested,k=h.verticalScrollDirection;this._callOnScroll(g,b,v,k,y)}},n._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanColumnCount,r=e.overscanColumnsCount,i=e.overscanCount,a=e.rowCount,o=this.state,c=o.horizontalScrollDirection,s=o.isScrolling,d=o.scrollLeft,m=n||r||i||1;if(0===t||0===a)return[0,0,0,0];var f=l(this.props,d,this._instanceProps),p=u(this.props,f,d,this._instanceProps),h=s&&"backward"!==c?1:Math.max(1,m),v=s&&"forward"!==c?1:Math.max(1,m);return[Math.max(0,f-h),Math.max(0,Math.min(t-1,p+v)),f,p]},n._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanCount,r=e.overscanRowCount,i=e.overscanRowsCount,a=e.rowCount,o=this.state,c=o.isScrolling,s=o.verticalScrollDirection,l=o.scrollTop,u=r||i||n||1;if(0===t||0===a)return[0,0,0,0];var d=S(this.props,l,this._instanceProps),m=C(this.props,d,l,this._instanceProps),f=c&&"backward"!==s?1:Math.max(1,u),p=c&&"forward"!==s?1:Math.max(1,u);return[Math.max(0,d-f),Math.max(0,Math.min(a-1,m+p)),d,m]},t}(s.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},n}var b=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},y=function(e,t){var n=e.rowCount,r=t.rowMetadataMap,i=t.estimatedRowHeight,a=t.lastMeasuredRowIndex,o=0;if(a>=n&&(a=n-1),a>=0){var c=r[a];o=c.offset+c.size}return o+(n-a-1)*i},k=function(e,t){var n=e.columnCount,r=t.columnMetadataMap,i=t.estimatedColumnWidth,a=t.lastMeasuredColumnIndex,o=0;if(a>=n&&(a=n-1),a>=0){var c=r[a];o=c.offset+c.size}return o+(n-a-1)*i},w=function(e,t,n,r){var i,a,o;if("column"===e?(i=r.columnMetadataMap,a=t.columnWidth,o=r.lastMeasuredColumnIndex):(i=r.rowMetadataMap,a=t.rowHeight,o=r.lastMeasuredRowIndex),n>o){var c=0;if(o>=0){var s=i[o];c=s.offset+s.size}for(var l=o+1;l<=n;l++){var u=a(l);i[l]={offset:c,size:u},c+=u}"column"===e?r.lastMeasuredColumnIndex=n:r.lastMeasuredRowIndex=n}return i[n]},_=function(e,t,n,r){var i,a;return"column"===e?(i=n.columnMetadataMap,a=n.lastMeasuredColumnIndex):(i=n.rowMetadataMap,a=n.lastMeasuredRowIndex),(a>0?i[a].offset:0)>=r?E(e,t,n,a,0,r):S(e,t,n,Math.max(0,a),r)},E=function(e,t,n,r,i,a){for(;i<=r;){var o=i+Math.floor((r-i)/2),c=w(e,t,o,n).offset;if(c===a)return o;c<a?i=o+1:c>a&&(r=o-1)}return i>0?i-1:0},S=function(e,t,n,r,i){for(var a="column"===e?t.columnCount:t.rowCount,o=1;r<a&&w(e,t,r,n).offset<i;)r+=o,o*=2;return E(e,t,n,Math.min(r,a-1),Math.floor(r/2),i)},C=function(e,t,n,r,i,a,o){var c="column"===e?t.width:t.height,s=w(e,t,n,a),l="column"===e?k(t,a):y(t,a),u=Math.max(0,Math.min(l-c,s.offset)),d=Math.max(0,s.offset-c+o+s.size);switch("smart"===r&&(r=i>=d-c&&i<=u+c?"auto":"center"),r){case"start":return u;case"end":return d;case"center":return Math.round(d+(u-d)/2);case"auto":default:return i>=d&&i<=u?i:d>u||i<d?d:u}},x=g({getColumnOffset:function(e,t,n){return w("column",e,t,n).offset},getColumnStartIndexForOffset:function(e,t,n){return _("column",e,n,t)},getColumnStopIndexForStartIndex:function(e,t,n,r){for(var i=e.columnCount,a=e.width,o=w("column",e,t,r),c=n+a,s=o.offset+o.size,l=t;l<i-1&&s<c;)l++,s+=w("column",e,l,r).size;return l},getColumnWidth:function(e,t,n){return n.columnMetadataMap[t].size},getEstimatedTotalHeight:y,getEstimatedTotalWidth:k,getOffsetForColumnAndAlignment:function(e,t,n,r,i,a){return C("column",e,t,n,r,i,a)},getOffsetForRowAndAlignment:function(e,t,n,r,i,a){return C("row",e,t,n,r,i,a)},getRowOffset:function(e,t,n){return w("row",e,t,n).offset},getRowHeight:function(e,t,n){return n.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,n){return _("row",e,n,t)},getRowStopIndexForStartIndex:function(e,t,n,r){for(var i=e.rowCount,a=e.height,o=w("row",e,t,r),c=n+a,s=o.offset+o.size,l=t;l<i-1&&s<c;)l++,s+=w("row",e,l,r).size;return l},initInstanceProps:function(e,t){var n=e,r={columnMetadataMap:{},estimatedColumnWidth:n.estimatedColumnWidth||50,estimatedRowHeight:n.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:n})},t.resetAfterRowIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:n})},t.resetAfterIndices=function(e){var n=e.columnIndex,i=e.rowIndex,a=e.shouldForceUpdate,o=void 0===a||a;"number"==typeof n&&(r.lastMeasuredColumnIndex=Math.min(r.lastMeasuredColumnIndex,n-1)),"number"==typeof i&&(r.lastMeasuredRowIndex=Math.min(r.lastMeasuredRowIndex,i-1)),t._getItemStyleCache(-1),o&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),N=function(e,t){return e};function T(e){var t,n,r=e.getItemOffset,l=e.getEstimatedTotalSize,u=e.getItemSize,f=e.getOffsetForIndexAndAlignment,p=e.getStartIndexForOffset,v=e.getStopIndexForStartIndex,g=e.initInstanceProps,b=e.shouldResetStyleCacheOnItemSizeChange,y=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=g(n.props,o(o(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:o(o(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=c((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=c((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,a=i.direction,o=i.itemSize,c=i.layout,s=n._getItemStyleCache(b&&o,b&&c,b&&a);if(s.hasOwnProperty(e))t=s[e];else{var l=r(n.props,e,n._instanceProps),d=u(n.props,e,n._instanceProps),m="horizontal"===a||"horizontal"===c,f="rtl"===a,p=m?l:0;s[e]=t={position:"absolute",left:f?void 0:p,right:f?p:void 0,top:m?0:l,height:m?"100%":d,width:m?d:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=c((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,a=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,o=i;if("rtl"===t)switch(h()){case"negative":o=-i;break;case"positive-descending":o=a-r-i}return o=Math.max(0,Math.min(o,a-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,a=t.scrollTop;n.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&d(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=m(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}a(t,e),t.getDerivedStateFromProps=function(e,t){return O(e,t),y(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(f(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(h()){case"negative":a.scrollLeft=-i;break;case"positive-ascending":a.scrollLeft=i;break;default:var o=a.clientWidth,c=a.scrollWidth;a.scrollLeft=c-o-i}else a.scrollLeft=i;else a.scrollTop=i}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&d(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,a=e.height,o=e.innerRef,c=e.innerElementType,u=e.innerTagName,d=e.itemCount,m=e.itemData,f=e.itemKey,p=void 0===f?N:f,h=e.layout,v=e.outerElementType,g=e.outerTagName,b=e.style,y=e.useIsScrolling,k=e.width,w=this.state.isScrolling,_="horizontal"===r||"horizontal"===h,E=_?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),C=S[0],x=S[1],T=[];if(d>0)for(var O=C;O<=x;O++)T.push(s.createElement(t,{data:m,key:p(O,m),index:O,isScrolling:y?w:void 0,style:this._getItemStyle(O)}));var I=l(this.props,this._instanceProps);return s.createElement(v||g||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:i({position:"relative",height:a,width:k,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},b)},s.createElement(c||u||"div",{children:T,ref:o,style:{height:_?"100%":I,pointerEvents:w?"none":void 0,width:_?I:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"==typeof this.props.onScroll){var a=this.state,o=a.scrollDirection,c=a.scrollOffset,s=a.scrollUpdateWasRequested;this._callOnScroll(o,c,s)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,a=r.scrollDirection,o=r.scrollOffset;if(0===t)return[0,0,0,0];var c=p(this.props,o,this._instanceProps),s=v(this.props,c,o,this._instanceProps),l=i&&"backward"!==a?1:Math.max(1,n),u=i&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,c-l),Math.max(0,Math.min(t-1,s+u)),c,s]},t}(s.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var O=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},I=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var o=0;if(a>=0){var c=i[a];o=c.offset+c.size}for(var s=a+1;s<=t;s++){var l=r(s);i[s]={offset:o,size:l},o+=l}n.lastMeasuredIndex=t}return i[t]},R=function(e,t,n,r,i){for(;r<=n;){var a=r+Math.floor((n-r)/2),o=I(e,a,t).offset;if(o===i)return a;o<i?r=a+1:o>i&&(n=a-1)}return r>0?r-1:0},D=function(e,t,n,r){for(var i=e.itemCount,a=1;n<i&&I(e,n,t).offset<r;)n+=a,a*=2;return R(e,t,Math.min(n,i-1),Math.floor(n/2),r)},P=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,a=t.lastMeasuredIndex,o=0;if(a>=n&&(a=n-1),a>=0){var c=r[a];o=c.offset+c.size}return o+(n-a-1)*i},F=T({getItemOffset:function(e,t,n){return I(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:P,getOffsetForIndexAndAlignment:function(e,t,n,r,i){var a=e.direction,o=e.height,c=e.layout,s=e.width,l="horizontal"===a||"horizontal"===c?s:o,u=I(e,t,i),d=P(e,i),m=Math.max(0,Math.min(d-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch("smart"===n&&(n=r>=f-l&&r<=m+l?"auto":"center"),n){case"start":return m;case"end":return f;case"center":return Math.round(f+(m-f)/2);case"auto":default:return r>=f&&r<=m?r:r<f?f:m}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?R(e,t,i,0,n):D(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,a=e.height,o=e.itemCount,c=e.layout,s=e.width,l="horizontal"===i||"horizontal"===c?s:a,u=I(e,t,r),d=n+l,m=u.offset+u.size,f=t;f<o-1&&m<d;)f++,m+=I(e,f,r).size;return f},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),j=g({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,n,r,i,a){var o=e.columnCount,c=e.columnWidth,s=e.width,l=Math.max(0,o*c-s),u=Math.min(l,t*c),d=Math.max(0,t*c-s+a+c);switch("smart"===n&&(n=r>=d-s&&r<=u+s?"auto":"center"),n){case"start":return u;case"end":return d;case"center":var m=Math.round(d+(u-d)/2);return m<Math.ceil(s/2)?0:m>l+Math.floor(s/2)?l:m;case"auto":default:return r>=d&&r<=u?r:d>u||r<d?d:u}},getOffsetForRowAndAlignment:function(e,t,n,r,i,a){var o=e.rowHeight,c=e.height,s=e.rowCount,l=Math.max(0,s*o-c),u=Math.min(l,t*o),d=Math.max(0,t*o-c+a+o);switch("smart"===n&&(n=r>=d-c&&r<=u+c?"auto":"center"),n){case"start":return u;case"end":return d;case"center":var m=Math.round(d+(u-d)/2);return m<Math.ceil(c/2)?0:m>l+Math.floor(c/2)?l:m;case"auto":default:return r>=d&&r<=u?r:d>u||r<d?d:u}},getColumnStartIndexForOffset:function(e,t){var n=e.columnWidth,r=e.columnCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getColumnStopIndexForStartIndex:function(e,t,n){var r=e.columnWidth,i=e.columnCount,a=e.width,o=t*r,c=Math.ceil((a+n-o)/r);return Math.max(0,Math.min(i-1,t+c-1))},getRowStartIndexForOffset:function(e,t){var n=e.rowHeight,r=e.rowCount;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getRowStopIndexForStartIndex:function(e,t,n){var r=e.rowHeight,i=e.rowCount,a=e.height,o=t*r,c=Math.ceil((a+n-o)/r);return Math.max(0,Math.min(i-1,t+c-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),A=T({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){var i=e.direction,a=e.height,o=e.itemCount,c=e.itemSize,s=e.layout,l=e.width,u="horizontal"===i||"horizontal"===s?l:a,d=Math.max(0,o*c-u),m=Math.min(d,t*c),f=Math.max(0,t*c-u+c);switch("smart"===n&&(n=r>=f-u&&r<=m+u?"auto":"center"),n){case"start":return m;case"end":return f;case"center":var p=Math.round(f+(m-f)/2);return p<Math.ceil(u/2)?0:p>d+Math.floor(u/2)?d:p;case"auto":default:return r>=f&&r<=m?r:r<f?f:m}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,c=e.layout,s=e.width,l=t*o,u="horizontal"===r||"horizontal"===c?s:i,d=Math.ceil((u+n-l)/o);return Math.max(0,Math.min(a-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function M(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function L(e,t){var n=e.style,r=l(e,["style"]),i=t.style,a=l(t,["style"]);return!M(n,i)&&!M(r,a)}t.VariableSizeGrid=x,t.VariableSizeList=F,t.FixedSizeGrid=j,t.FixedSizeList=A,t.areEqual=L,t.shouldComponentUpdate=function(e,t){return!L(this.props,e)||M(this.state,t)}},Sbmp:function(e,t,n){},SqQd:function(e,t,n){},T9Wy:function(e,t,n){},TGa2:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSharedFoldersOwned"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedFoldersOwned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shared"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubFolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalVideos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalSubfolders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserFavorite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"large"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"workspace"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:482}};n.loc.source={body:"query GetSharedFoldersOwned {\n  sharedFoldersOwned {\n    id\n    name\n    favorite\n    shared\n    description\n    hasSubFolders\n    totalVideos\n    totalSubfolders\n    isUserFavorite\n    owner {\n      first_name\n      last_name\n      avatars {\n        name\n        large\n        thumb\n      }\n      email\n    }\n    updatedAt\n    createdAt\n    collaborators {\n      first_name\n      last_name\n      avatars {\n        name\n        large\n        thumb\n      }\n    }\n    workspace\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetSharedFoldersOwned=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetSharedFoldersOwned")},TJKz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return f}));var r=n("iDef"),i=function(){return{type:r.e}},a=function(e){return{type:r.Le,folders:e}},o=function(e){return{type:r.Me,folder:e}},c=function(e){return{type:r.ge,isFetching:e}},s=function(){return{type:r.lb}},l=function(e){return{type:r.ob,name:e}},u=function(){return{type:r.kb}},d=function(e){return{type:r.nb,folder:e}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:r.Wc,show:e,items:t}},f=function(e){return{type:r.mb,folder:e}}},TUH2:function(e,t,n){"use strict";var r=n("q1tI"),i=n("Vg22"),a=n("Dzm3"),o=n("wv65"),c=n("joSB"),s=n("wB0f"),l=n.n(s);t.a=function(e){var t=Object(r.useMemo)((function(){return Object(o.getGraphQLClientInsights)()}),[]),n=Object(i.useDispatch)(),s=Object(i.useSelector)(c.c);Object(r.useEffect)((function(){s.length||t.query({variables:{videoId:e},query:l.a,fetchPolicy:"no-cache"}).then((function(e){var t=e.data;n(Object(a.a)(t.engagementInsightsSummaryForVideo.viewers))})).catch((function(e){console.error(e)}))}),[n,t,s.length,e])}},Tmf2:function(e,t,n){e.exports=n.p+"img/icons/attachment-upload/success-ce5d291dbc5e20f966ba2fa711657d44.svg"},Tw1l:function(e,t,n){e.exports=n.p+"img/icons/loom-logo-mark-white-3a0d312bc47704fae8b92452b4cdcdfc.svg"},U2OM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAttachmentsForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAttachmentsForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upload_complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:304}};n.loc.source={body:"query GetAttachmentsForVideo($videoId: String!, $password: String) {\n  getAttachmentsForVideo(videoId: $videoId, password: $password) {\n    id\n    owner_id\n    video_id\n    video_timestamp\n    type\n    name\n    s3_id\n    upload_complete\n    mime\n    url\n    download_url\n    owner_id\n    createdAt\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetAttachmentsForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetAttachmentsForVideo")},U5my:function(e,t,n){e.exports=n.p+"img/engagement-insights-no-views-9597bccb78a2dbf031272d1093acd543.svg"},UFwS:function(e,t,n){e.exports=n.p+"img/icons/video-9beaac443aeb0665fe1df6d943390a2a.svg"},UKHi:function(e,t,n){},UKhD:function(e,t,n){e.exports=n.p+"img/video-player/joy@2x-4b58d890de477a646fa87c853395729b.png"},UMY1:function(e,t,n){var r=n("oMRN"),i=n("JD84"),a=n("ut/Y"),o=n("Z0cm");e.exports=function(e,t){return function(n,c){var s=o(n)?r:i,l=t?t():{};return s(n,e,a(c,2),l)}}},UMoO:function(e,t,n){e.exports={divider:"team-invite-modal_divider_1sC",item:"team-invite-modal_item_1PW",inviteListContainer:"team-invite-modal_inviteListContainer_3B0",ghostSelect:"team-invite-modal_ghostSelect_3X1"}},UYIn:function(e,t,n){e.exports={inviteButton:"invite-button_inviteButton_20e",isCompact:"invite-button_isCompact_2JM",inviteButtonContent:"invite-button_inviteButtonContent_mub",inviteButtonContentWithText:"invite-button_inviteButtonContentWithText_2pn",inviteButtonText:"invite-button_inviteButtonText_3xn"}},UaHd:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/share-your-video-befcc4cf4f443646cb9fceea455d7918.png"},Uian:function(e,t,n){},UrWd:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("fbCW"),n("yXV3"),n("Rfxz"),n("sMBO"),n("07d7"),n("SuFq"),n("JfAA");var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),f=n("7W2i"),p=n.n(f),h=n("a1gu"),v=n.n(h),g=n("Nsbk"),b=n.n(g),y=n("lSNA"),k=n.n(y),w=n("q4mm"),_=n("WnLM"),E=n.n(_),S=n("TSYQ"),C=n.n(S),x=n("Jlc5"),N=n.n(x),T=n("E+oP"),O=n.n(T),I=n("imBb"),R=n.n(I),D=n("q1tI"),P=n.n(D),F=n("Vg22"),j=n("TJKz"),A=n("IVYN"),M=n("T/9b"),L=n("BClo"),V=(n("pNMO"),n("x0AG"),n("QWBl"),n("yq1k"),n("4mDm"),n("2B1R"),n("ToJy"),n("5DmW"),n("27RR"),n("tkto"),n("5s+n"),n("JTJg"),n("PKPk"),n("FZtP"),n("3bBZ"),n("RIqP")),U=n.n(V),B=n("J4zp"),q=n.n(B),W=n("LpSC"),z=n.n(W),G=n("0X1P"),H=n("4mtl"),J=n("8N09"),Q=n("XT2K"),K=n("zixt"),$=n("DauL"),Y=n("wv65"),X=n("kZ0K"),Z=n("q3kp"),ee=n.n(Z),te=n("TGa2"),ne=n.n(te),re=n("OxxK"),ie=n.n(re),ae=n("oG2x"),oe=n.n(ae),ce=n("Q5cQ"),se=n.n(ce),le=n("eYhW"),ue=n("t1HX"),de=n("F3pX");function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){return function(){var n=o()(i.a.mark((function n(r,a){var o,c,s,l,u,d,m,f,p,h,v,g,b,y,k,w,_;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=!1,c=[],s=Object(Y.getGraphQLClient)(),n.prev=3,[de.c,de.a,de.e].includes(e)&&(r(Object(j.a)()),r(Object(j.f)(!0))),e!==de.c){n.next=18;break}return r(Object(j.i)({name:Q.w,special_id:Q.B})),n.next=9,Promise.all([s.query({query:ne.a,fetchPolicy:"no-cache"}),s.query({query:se.a,fetchPolicy:"no-cache"})]);case 9:l=n.sent,u=q()(l,2),d=u[0],m=u[1],f=m.data.sharedWorkspaceTopLevelEntitiesForUser.filter((function(e){return e.entity_type===L.b})).map((function(e){var t=e.folder;return{id:t.id,name:t.name,hasSubFolders:t.hasSubFolders,isTopLevel:!0}})),p=d.data.sharedFoldersOwned.map((function(e){return{id:e.id,name:e.name,hasSubFolders:e.hasSubFolders,isTopLevel:!0}})),c=[].concat(U()(f),U()(p)).sort((function(e,t){return e.name.localeCompare(t.name)})),n.next=39;break;case 18:if(e!==de.a){n.next=26;break}return o=!0,n.next=22,s.query({query:ee.a});case 22:h=n.sent,v=h.data,e=v.myVideosFolder.id,r(Object(j.i)(v.myVideosFolder));case 26:if(e!==de.e){n.next=34;break}return o=!0,n.next=30,s.query({query:oe.a,variables:{organizationId:t}});case 30:g=n.sent,b=g.data,e=b.teamVideosFolder.id,r(Object(j.i)(b.teamVideosFolder));case 34:return n.next=36,s.query({query:ie.a,variables:{parentId:e,organizationId:t},fetchPolicy:"no-cache"});case 36:y=n.sent,k=y.data,o?c=k.subFolders.map((function(e){return fe(fe({},e),{},{isTopLevel:!0})})):(w=JSON.parse(JSON.stringify(a().moveModal.folders)),_=w.findIndex((function(t){return t.id===e})),w[_].children=U()(k.subFolders),c=[].concat(U()(w),U()(k.subFolders)));case 39:r(Object(j.h)(c)),n.next=46;break;case 42:n.prev=42,n.t0=n.catch(3),r(Object(j.f)(!1)),X.d(n.t0,"Unable to fetch sub-folders");case 46:case"end":return n.stop()}}),n,null,[[3,42]])})));return function(e,t){return n.apply(this,arguments)}}()}var he=n("9Rj7"),ve=n("ZrrK"),ge=n("xCsE"),be=n("L4fJ"),ye=n.n(be);function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var we=function(e){p()(n,e);var t=ke(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),k()(m()(e),"select",(function(t){if(t.preventDefault(),e.gridIsSelectable()){var n=e.props,r=n.folderToMoveTo,i=n.topLevelFolder,a=n.updateFolderToMoveTo;r.id!==i.id&&a(i)}})),k()(m()(e),"gridIsSelectable",(function(){var t=e.props,n=t.topLevelFolder,r=t.currentFolderId,i=!0;return n.special_id===Q.B&&(i=!1),n.id===r&&(i=!1),i})),e}return u()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.topLevelFolder,i=n.folderToMoveTo;if(!r)return null;var a=this.gridIsSelectable(),o=null!=r.id&&i.id===r.id,c=C()(ye.a.gridCell,k()({},ye.a.selectable,a),k()({},ye.a.selected,o));switch(o&&(e="white"),a||(e="grey4"),r.special_id){case Q.D:t=P.a.createElement(w.SvgUsers,null);break;case Q.B:t=P.a.createElement(w.SvgLock,null);break;default:t=P.a.createElement(w.SvgUser,null)}return P.a.createElement("div",{className:ye.a.topLevelWrapper},P.a.createElement("div",{className:ye.a.cellWrapper},P.a.createElement("div",{className:c,onClick:this.select},P.a.createElement(w.Spacer,{right:2},P.a.createElement(w.Icon,{icon:t,color:e})),P.a.createElement(w.Text,{color:a?"":"bodyDimmed"},r.name))))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.folders,n=e.topLevelFolder,r=e.updateFolderToMoveTo;0===t.length&&this.gridIsSelectable()&&r(n)}}]),n}(D.Component),_e=Object(F.connect)((function(e){var t=e.videos_dashboard,n=t.checked_items,r=t.folder_id,i=e.moveModal,a=i.folders,o=i.folderToMoveTo;return{topLevelFolder:i.topLevelFolder,folderToMoveTo:o,checkedItems:n,currentFolderId:r,folders:a}}),(function(e){return{updateFolderToMoveTo:function(t){return e(Object(j.g)(t))}}}))(we),Ee=n("V2Ro"),Se=n("Kth1"),Ce=n("uoTU"),xe=n.n(Ce);n("xlpc");function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Te=function(e){p()(n,e);var t=Ne(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.closeFolder,n=e.checkedFolderIds,r=e.doNotRecurse,i=e.folder,a=e.folderToMoveTo,o=e.generateChildren,c=e.level,s=e.openedFolderIds,l=e.openFolder,u=i.id,d=i.name,m=i.local_id,f=i.hasSubFolders,p=xe()(n,u)>-1,h=null!=m?a.local_id===m:a.id===u,v=xe()(s,u)>-1,g=h?"white":"body";if(p)return null;var b,y=P.a.createElement(w.IconButton,{altText:"Disabled",isDisabled:!0});f&&v&&!r?(y=P.a.createElement("div",{className:"chevronDown"},P.a.createElement(w.IconButton,{altText:"Collapse",icon:P.a.createElement(w.SvgArrowRight,null),onClick:function(e){return t(e,u)},iconColor:g})),b=o(i.id,n,c+1)):!f||v||r||(y=P.a.createElement("div",null,P.a.createElement(w.IconButton,{altText:"Expand",icon:P.a.createElement(w.SvgArrowRight,null),onClick:function(e){return l(e,u)},iconColor:g})));var k={paddingLeft:"".concat(24*(c-1),"px")};return P.a.createElement("div",{className:"".concat(1===c?"top-level-cell":""),key:u},P.a.createElement("div",{className:"grid-cell ".concat(h?"selected":""),onClick:this.select.bind(this,i),style:k},y,P.a.createElement(w.Spacer,{left:1,right:2},P.a.createElement(w.Icon,{icon:P.a.createElement(w.SvgFolder,null),color:h?"white":void 0})),P.a.createElement(w.Text,{hasEllipsis:!0},d)),b)}},{key:"select",value:function(e){this.props.folderToMoveTo.id!==e.id&&this.props.updateFolderToMoveTo(e)}}]),n}(D.Component),Oe=Object(F.connect)((function(e){return{folderToMoveTo:e.moveModal.folderToMoveTo}}),(function(e){return{updateFolderToMoveTo:function(t){return e(Object(j.g)(t))}}}))(Te);n("9JH4");function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Re=function(e){p()(n,e);var t=Ie(n);function n(){var e;s()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),k()(m()(e),"generateChildren",(function(t,n,r,i){var a=e.props,o=a.folders,c=a.openedFolderIds,s=a.openFolder,l=a.closeFolder;return t?o.find((function(e){return e.id===t})).children.map((function(t){return P.a.createElement(Oe,{closeFolder:l,checkedFolderIds:n,doNotRecurse:i,folder:t,generateChildren:e.generateChildren,key:t.id,level:r,openedFolderIds:c,openFolder:s})})).filter((function(e){return e})):o.map((function(t){return t.isTopLevel?P.a.createElement(Oe,{closeFolder:l,checkedFolderIds:n,doNotRecurse:i,folder:t,generateChildren:e.generateChildren,key:t.id,level:r,openedFolderIds:c,openFolder:s}):null})).filter((function(e){return e}))})),e}return u()(n,[{key:"render",value:function(){var e,t=this.props,n=t.checkedItems,r=t.isFetchingInitialFolders,i=n.filter((function(e){return e.type===L.b})).map((function(e){return e.id}));return e=this.generateChildren(null,i,1,!1),P.a.createElement("div",{className:"hierarchy-grid ".concat(r?"loading":"")},e)}}]),n}(D.Component),De=Object(F.connect)((function(e){var t=e.videos_dashboard,n=t.checked_items,r=t.folder_id,i=e.moveModal,a=i.folders;return{checkedItems:n,currentFolderId:r,isFetchingInitialFolders:i.isFetchingInitialFolders,folders:a}}),(function(e){return{fetchSubFolders:function(t){return e(pe(t))}}}))(Re),Pe=n("IdNv"),Fe=n.n(Pe);function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v()(this,n)}}var Ae=Fe.a.moveModalContainer,Me=Fe.a.showMoveModal,Le=function(e){var t=[];return e.hasTeamLibraryWriteScope&&t.push({value:de.e,title:de.f,icon:P.a.createElement(w.SvgUsers,null)}),e.hasSharedLibraryWriteScope&&t.push({value:de.c,title:de.d,icon:P.a.createElement(w.SvgLock,null)}),e.hasPersonalLibraryWriteScope&&t.push({value:de.a,title:de.b,icon:P.a.createElement(w.SvgUser,null)}),t},Ve=function(){return P.a.createElement("div",{className:Fe.a.moveModalLoading},P.a.createElement(w.Loader,{size:"large",color:"grey6"}),P.a.createElement(w.Spacer,{top:2},P.a.createElement(w.Text,{color:"bodyDimmed"},"Fetching Folders...")))},Ue=function(e){return e.selectedWorkspace===de.c?P.a.createElement("div",{className:Fe.a.moveModalNoSharedContent},P.a.createElement(w.Text,{color:"bodyDimmed"},"No folders have been shared with you yet.")):P.a.createElement("div",{className:Fe.a.moveModalNoContent},P.a.createElement(w.Text,{color:"bodyDimmed"},"There are no folders in this space. ",P.a.createElement("br",null)," Create a new one to start organizing!"))},Be=function(e){p()(n,e);var t=je(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),k()(m()(e),"focusNewFolderInput",null),k()(m()(e),"hierarchyGridRef",null),k()(m()(e),"newFolderInputRef",null),k()(m()(e),"initialHierarchyGridTop",null),k()(m()(e),"state",{selectedWorkspace:"",openedFolderIds:[]}),k()(m()(e),"closeFolder",(function(t,n){t.stopPropagation(),e.setState({openedFolderIds:e.state.openedFolderIds.filter((function(e){return e!==n}))})})),k()(m()(e),"openFolder",function(){var t=o()(i.a.mark((function t(n,r){var a,o,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),a=e.props,o=a.folders,c=a.fetchSubFolders,o.find((function(e){return e.id===r})).children){t.next=6;break}return t.next=6,c(r);case 6:if(!(s=e.state.openedFolderIds).some((function(e){return e===r}))){t.next=9;break}return t.abrupt("return");case 9:e.setState({openedFolderIds:s.concat(r)});case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),k()(m()(e),"saveHierarychyGridRef",(function(t){e.hierarchyGridRef=t,t&&(e.initialHierarchyGridTop=window.getComputedStyle(t).top)})),k()(m()(e),"playAnimation",(function(t){if(e.newFolderInputRef){return"showNewFolderName"==t?(E()({targets:e.hierarchyGridRef,top:0,elasticity:200}),E()({targets:e.newFolderInputRef.parentNode,scaleY:[0,1],opacity:[0,1],elasticity:200})):"hideNewFolderName"==t?(E()({targets:e.hierarchyGridRef,top:e.initialHierarchyGridTop,elasticity:200}),E()({targets:e.newFolderInputRef.parentNode,scaleY:[1,0],opacity:[1,0],elasticity:200})):void 0}})),k()(m()(e),"onClickNewFolder",(function(){e.newFolderInputRef&&(e.newFolderInputRef.select(),e.newFolderInputRef.closest(".".concat(Fe.a.moveModalContainer)).scrollTo(0,0)),e.props.onClickNewFolder()})),k()(m()(e),"onKeyUpNewFolderName",(function(t){var n=e.props.topLevelFolder;A.h.indexOf(t.key)>-1&&e.props.onEnteredNewFolderName(n.id,e.props.newFolderName),A.i.indexOf(t.key)>-1&&e.props.onCancelNewFolder()})),k()(m()(e),"onChangeNewFolderName",(function(t){e.props.onChangeNewFolderName(t.target.value)})),k()(m()(e),"onChangeWorkspace",(function(t){e.setState({selectedWorkspace:t.value,openedFolderIds:[]}),e.props.fetchSubFolders(t.value,e.props.videoOrganizationId)})),k()(m()(e),"refInputFolderName",(function(t){e.newFolderInputRef=t,e.focusNewFolderInput&&t&&(e.focusNewFolderInput=!1,t.select(),t.closest(".".concat(Fe.a.moveModalContainer)).scrollTo(0,0))})),k()(m()(e),"exit",(function(t){t.target.className===Ae&&e.props.onHide()})),k()(m()(e),"move",(function(){var t=e.props,n=t.folderToMoveTo,r=t.isSharePage;void 0!==r&&r?e.props.onSharePageMove(n.special_id||n.id,n.name,e.state.selectedWorkspace):e.props.onMove(n.special_id||n.id,e.props.checkedItems,e.state.selectedWorkspace),e.props.hideMoveModal()})),e}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.workspace,n=e.videoOrganizationId;(0,e.fetchSubFolders)(t,n),this.setState({selectedWorkspace:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.checkedItems,r=t.currentFolderId,i=t.folderToMoveTo,a=t.show,o=t.showNewFolderInput,c=t.isFetchingInitialFolders,s=t.folders,l=t.workspace,u=t.scopes,d=this.state,m=d.selectedWorkspace,f=d.openedFolderIds,p=s.length>0,h=l===m?"Currently in:":"Move to:";if(!a)return null;var v=!0,g=null;return g=1===n.length?n[0].name:N()(n,(function(e){return e.type===L.b}))?"".concat(n.length," Folders"):N()(n,(function(e){return e.type===L.g}))?"".concat(n.length," Videos"):"".concat(n.length," Items"),O()(i)||i.id===r||null==i.id||(v=!1),P.a.createElement(w.Modal,{isOpen:!0,hasDividers:!0,onCloseClick:this.props.onClickCancel,onBackgroundClick:this.props.onClickCancel,title:"Move ".concat(g),mainButton:P.a.createElement(w.Button,{disabled:v,onClick:this.move,variant:"primary"},"Move"),secondaryButton:P.a.createElement(w.Button,{onClick:this.props.onClickCancel},"Cancel"),alternativeButton:P.a.createElement(w.TextButton,{icon:P.a.createElement(w.SvgAdd,null),onClick:this.onClickNewFolder,isDisabled:c||m===de.c||m===de.e&&!u.hasTeamLibraryWriteScope||m===de.a&&!u.hasPersonalLibraryWriteScope},"New Folder")},P.a.createElement(w.Container,{maxWidth:28,paddingTop:1,paddingBottom:2},P.a.createElement(w.Spacer,{bottom:1},P.a.createElement(w.Text,null,h)),P.a.createElement(w.Select,{options:Le(u),selectedOptionValue:this.state.selectedWorkspace,onChange:this.onChangeWorkspace})),P.a.createElement("div",{className:Ae,onClick:this.exit},P.a.createElement("div",{className:Fe.a.moveModal},P.a.createElement("div",null,c&&P.a.createElement(Ve,null),!c&&P.a.createElement(P.a.Fragment,null,P.a.createElement(_e,null),P.a.createElement("div",{className:Fe.a.grid},P.a.createElement(Se.a,{alwaysRender:!0,show:this.props.showNewFolderInput,onDidMount:function(){return e.playAnimation("showNewFolderName")},onWillUnmount:function(){return e.playAnimation("hideNewFolderName")}},P.a.createElement("div",{className:C()(Fe.a.moveNewFolderInputWrap,k()({},Fe.a.moveNewFolderInputShown,o))},P.a.createElement(w.Spacer,{right:2},P.a.createElement(w.Icon,{icon:P.a.createElement(w.SvgFolder,null)})),P.a.createElement("input",{type:"text",className:Fe.a.moveNewFolderInput,ref:this.refInputFolderName,value:this.props.newFolderName,onChange:this.onChangeNewFolderName,onFocus:this.props.onFocusNewFolderName,onBlur:this.props.onBlurNewFolderName,onKeyUp:this.onKeyUpNewFolderName}))),!p&&P.a.createElement(Ue,{selectedWorkspace:m}),p&&P.a.createElement("div",{className:Fe.a.hierarchyGridWrap,ref:this.saveHierarychyGridRef},P.a.createElement(De,{selectedWorkspace:this.state.selectedWorkspace,openedFolderIds:f,openFolder:this.openFolder,closeFolder:this.closeFolder}))))))))}},{key:"UNSAFE_componentWillMount",value:function(){this._toggleShow(this.props.show)}},{key:"componentWillUnmount",value:function(){this._toggleShow(this.props.show)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.show!=e.show&&this._toggleShow(e.show),!this.props.showNewFolderInput&&e.showNewFolderInput&&(this.focusNewFolderInput=!0)}},{key:"_toggleShow",value:function(e){e?document.body.classList.add(Me):document.body.classList.remove(Me),e?R.a.bind(M.d,this.props.onHide):R.a.unbind(M.d)}}]),n}(D.Component);t.a=Object(F.connect)((function(e,t){var n,r,i=e.videos_dashboard,a=i.checked_items,o=i.folder_id,c=i.workspace,s=null===(n=e.share_video.video)||void 0===n?void 0:n.workspace,l=null===(r=e.share_video.video)||void 0===r?void 0:r.organization_id,u=e.user.current.account_type,d=e.moveModal,m=d.folderToMoveTo,f=d.newFolderName,p=d.showNewFolderInput,h=d.isFetchingInitialFolders,v=d.folders,g=d.topLevelFolder,b=d.showMoveModal,y=d.items;return{currentFolderId:t.currentFolderId||o,showNewFolderInput:p,newFolderName:f,checkedItems:y&&y.length?y:a,folderToMoveTo:m,show:b,isFetchingInitialFolders:h,workspace:s||c,accountType:u,folders:v,topLevelFolder:g,scopes:{hasSharedLibraryWriteScope:Object(ge.a)(e,Ee.u),hasTeamLibraryWriteScope:Object(ge.a)(e,Ee.y),hasPersonalLibraryWriteScope:Object(ge.a)(e,Ee.q)},videoOrganizationId:l}}),(function(e){return{onFocusNewFolderName:function(){return e(Object(j.g)(null))},onBlurNewFolderName:function(){return e(Object(j.b)())},onChangeNewFolderName:function(t){return e(Object(j.e)(t))},onClickNewFolder:function(){return e(Object(j.c)())},onCancelNewFolder:function(){return e(Object(j.b)())},onEnteredNewFolderName:function(t,n){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t)return function(n,r){var i=r().moveModal.topLevelFolder,a=r().workspace,o=r().videos_dashboard.root_folder_id,c=(new Date).getTime(),s=JSON.stringify({parent_folder_id:e,name:t||void 0,local_id:c});return z()("/v1/folders",{credentials:"include",headers:k()({},K.b,$.e),method:"POST",body:s}).then((function(e){if(e.status>=400)throw new Error("Oops! Error creating folder - HTTP response: ".concat(e.status));return e.json()})).then((function(e){n(Object(j.d)(e)),i.special_id===o&&n(Object(H.a)(e)),i.special_id===Q.D&&Object(le.j)(n,a.workspaces,ue.h)})).catch((function(e){X.d(e,"error in create folder creator"),n(Object(G.b)(J.a,e.toString()))}))}}(t,n))},onClickCancel:function(){return e(Object(j.j)(!1))},onHide:function(){return e(Object(j.j)(!1))},onMove:function(t,n,r){e(Object(ve.O)()),e(Object(ve.g)(!1,t,n,r))},onSharePageMove:function(t,n,r){e(Object(he.k)(t,n,null,r))},clearMoveModalFolders:function(){return e(Object(j.a)())},fetchSubFolders:function(t,n){return e(pe(t,n))},hideMoveModal:function(){return e(Object(j.j)(!1))}}}))(Be)},"V6R/":function(e,t,n){e.exports=n.p+"img/video-player/nervous@2x-39fb7e97e13ed41425e1b174a73bff62.png"},V7Bl:function(e,t,n){},VAwS:function(e,t,n){e.exports=n.p+"img/video-player/gradient-94633672feb8a4f309b7f785722eaad3.png"},VExT:function(e,t,n){},VQJT:function(e,t,n){!function(t,r){e.exports=function(e,t,n){"use strict";function r(e,t){return new Promise((function(n,r){var i,a=new Image;a.onload=function(){return n(a)},a.onerror=r,0==(null!==(i=e)&&!!i.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@/?%\s]*\s*$/i))&&t&&(a.crossOrigin=t),a.src=e}))}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=!("undefined"==typeof window||"undefined"==typeof navigator||!("ontouchstart"in window||navigator.msMaxTouchPoints>0)),u="undefined"!=typeof File,d={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",move:"mousemove",up:"mouseup"}}},m=l?d.touch:d.desktop,f="undefined"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,p=function(e){function d(){var e,t,n;i(this,d);for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=n=c(this,(e=d.__proto__||Object.getPrototypeOf(d)).call.apply(e,[this].concat(a))),n.state={drag:!1,my:null,mx:null,image:{x:.5,y:.5}},n.handleImageReady=function(e){var t=n.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,n.setState({drag:!1,image:t},n.props.onImageReady),n.props.onLoadSuccess(t)},n.clearImage=function(){var e=n.canvas;e.getContext("2d").clearRect(0,0,e.width,e.height)},n.handleMouseDown=function(e){(e=e||window.event).preventDefault(),n.setState({drag:!0,mx:null,my:null})},n.handleMouseUp=function(){n.state.drag&&(n.setState({drag:!1}),n.props.onMouseUp())},n.handleMouseMove=function(e){if(e=e||window.event,!1!==n.state.drag){var t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,r=e.targetTouches?e.targetTouches[0].pageY:e.clientY,i={mx:t,my:r},a=n.props.rotate;if(a=(a%=360)<0?a+360:a,n.state.mx&&n.state.my){var c=n.state.mx-t,s=n.state.my-r,l=n.state.image.width*n.props.scale,u=n.state.image.height*n.props.scale,d=n.getCroppingRect(),m=d.x,f=d.y;m*=l,f*=u;var p=function(e){return e*(Math.PI/180)},h=Math.cos(p(a)),v=Math.sin(p(a)),g=f+-c*v+s*h,b={x:(m+c*h+s*v)/l+1/n.props.scale*n.getXScale()/2,y:g/u+1/n.props.scale*n.getYScale()/2};n.props.onPositionChange(b),i.image=o({},n.state.image,b)}n.setState(i),n.props.onMouseMove(e)}},n.setCanvas=function(e){n.canvas=e},c(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,t.Component),a(d,[{key:"componentDidMount",value:function(){var e=n.findDOMNode(this.canvas).getContext("2d");if(this.props.image&&this.loadImage(this.props.image),this.paint(e),document){var t=m.native;document.addEventListener(t.move,this.handleMouseMove,!1),document.addEventListener(t.up,this.handleMouseUp,!1),l&&(document.addEventListener(t.mouseMove,this.handleMouseMove,!1),document.addEventListener(t.mouseUp,this.handleMouseUp,!1))}}},{key:"componentWillReceiveProps",value:function(e){e.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height?this.loadImage(e.image):e.image||this.clearImage()}},{key:"componentDidUpdate",value:function(e,t){var r=n.findDOMNode(this.canvas),i=r.getContext("2d");i.clearRect(0,0,r.width,r.height),this.paint(i),this.paintImage(i,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y||this.props.onImageChange()}},{key:"componentWillUnmount",value:function(){if(document){var e=m.native;document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),l&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1))}}},{key:"isVertical",value:function(){return this.props.rotate%180!=0}},{key:"getBorders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.border;return Array.isArray(e)?e:[e,e]}},{key:"getDimensions",value:function(){var e=this.props,t=e.width,n=e.height,r=e.rotate,i=e.border,a={},o=this.getBorders(i),c=s(o,2),l=c[0],u=c[1],d=t,m=n;return this.isVertical()?(a.width=m,a.height=d):(a.width=d,a.height=m),a.width+=2*l,a.height+=2*u,{canvas:a,rotate:r,width:t,height:n,border:i}}},{key:"getImage",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var n=document.createElement("canvas");this.isVertical()?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var r=n.getContext("2d");return r.translate(n.width/2,n.height/2),r.rotate(this.props.rotate*Math.PI/180),r.translate(-n.width/2,-n.height/2),this.isVertical()&&r.translate((n.width-n.height)/2,(n.height-n.width)/2),r.drawImage(t.resource,-e.x,-e.y),n}},{key:"getImageScaledToCanvas",value:function(){var e=this.getDimensions(),t=e.width,n=e.height,r=document.createElement("canvas");return this.isVertical()?(r.width=n,r.height=t):(r.width=t,r.height=n),this.paintImage(r.getContext("2d"),this.state.image,0,1),r}},{key:"getXScale",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:"getYScale",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:"getCroppingRect",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),n=1/this.props.scale*this.getYScale(),r={x:e.x-t/2,y:e.y-n/2,width:t,height:n},i=0,a=1-r.width,c=0,s=1-r.height;return(this.props.disableBoundaryChecks||t>1||n>1)&&(i=-r.width,a=1,c=-r.height,s=1),o({},r,{x:Math.max(i,Math.min(r.x,a)),y:Math.max(c,Math.min(r.y,s))})}},{key:"loadImage",value:function(e){var t;u&&e instanceof File?(t=e,new Promise((function(e,n){var i=new FileReader;i.onload=function(t){try{var i=r(t.target.result);e(i)}catch(t){n(t)}},i.readAsDataURL(t)}))).then(this.handleImageReady).catch(this.props.onLoadFailure):"string"==typeof e&&r(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure)}},{key:"getInitialSize",value:function(e,t){var n=void 0,r=void 0,i=this.getDimensions();return i.height/i.width>t/e?r=e*((n=this.getDimensions().height)/t):n=t*((r=this.getDimensions().width)/e),{height:n,width:r}}},{key:"paintImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f;if(t.resource){var i=this.calculatePosition(t,n);e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(r,r),e.globalCompositeOperation="destination-over",e.drawImage(t.resource,i.x,i.y,i.width,i.height),e.restore()}}},{key:"calculatePosition",value:function(e,t){e=e||this.state.image;var n=this.getBorders(t),r=s(n,2),i=r[0],a=r[1],o=this.getCroppingRect(),c=e.width*this.props.scale,l=e.height*this.props.scale,u=-o.x*c,d=-o.y*l;return this.isVertical()?(u+=a,d+=i):(u+=i,d+=a),{x:u,y:d,height:l,width:c}}},{key:"paint",value:function(e){e.save(),e.scale(f,f),e.translate(0,0),e.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var t=this.props.borderRadius,n=this.getDimensions(),r=this.getBorders(n.border),i=s(r,2),a=i[0],o=i[1],c=n.canvas.height,l=n.canvas.width;t=Math.max(t,0),t=Math.min(t,l/2-a,c/2-o),e.beginPath(),function(e,t,n,r,i,a){if(0===a)e.rect(t,n,r,i);else{var o=r-a,c=i-a;e.translate(t,n),e.arc(a,a,a,Math.PI,1.5*Math.PI),e.lineTo(o,0),e.arc(o,a,a,1.5*Math.PI,2*Math.PI),e.lineTo(r,c),e.arc(o,c,a,2*Math.PI,.5*Math.PI),e.lineTo(a,i),e.arc(a,c,a,.5*Math.PI,Math.PI),e.translate(-t,-n)}}(e,a,o,l-2*a,c-2*o,t),e.rect(l,0,-l,c),e.fill("evenodd"),e.restore()}},{key:"render",value:function(){var e=this.props,n=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.style),r=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scale","rotate","image","border","borderRadius","width","height","position","color","style","crossOrigin","onLoadFailure","onLoadSuccess","onImageReady","onImageChange","onMouseUp","onMouseMove","onPositionChange","disableBoundaryChecks"])),i=this.getDimensions(),a={width:i.canvas.width,height:i.canvas.height,cursor:this.state.drag?"grabbing":"grab",touchAction:"none"},c={width:i.canvas.width*f,height:i.canvas.height*f,style:o({},a,n)};return c[m.react.down]=this.handleMouseDown,l&&(c[m.react.mouseDown]=this.handleMouseDown),t.createElement("canvas",o({ref:this.setCanvas},c,r))}}]),d}();return p.propTypes={scale:e.number,rotate:e.number,image:e.oneOfType([e.string].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u?[e.instanceOf(File)]:[]))),border:e.oneOfType([e.number,e.arrayOf(e.number)]),borderRadius:e.number,width:e.number,height:e.number,position:e.shape({x:e.number,y:e.number}),color:e.arrayOf(e.number),style:e.object,crossOrigin:e.oneOf(["","anonymous","use-credentials"]),className:e.string,onLoadFailure:e.func,onLoadSuccess:e.func,onImageReady:e.func,onImageChange:e.func,onMouseUp:e.func,onMouseMove:e.func,onPositionChange:e.func,disableBoundaryChecks:e.bool},p.defaultProps={disableBoundaryChecks:!1,scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],style:{},className:"",onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){}},p}(n("17x9"),n("q1tI"),n("i8i4"))}()},VRSQ:function(e,t,n){},Vc5j:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/edit-together-163e2a0e9600803ec43a7a1b4f8e7589.png"},VlAn:function(e,t,n){e.exports={title:"share-page-card_title_2Ty",content:"share-page-card_content_1tI"}},VvU8:function(e,t,n){e.exports=n.p+"img/video-player/down@3x-eb787bf4efb9c58f603268fa3a816d95.png"},"W/2B":function(e,t,n){},W3re:function(e,t,n){"use strict";n("2B1R"),n("+2oP");var r=n("RIqP");t.stringToBytes=function(e){return r(e).map((function(e){return e.charCodeAt(0)}))};var i=function(e,t,n){return String.fromCharCode.apply(String,r(e.slice(t,n)))};t.tarHeaderChecksumMatches=function(e){if(e.length<512)return!1;for(var t=256,n=0,r=0;r<148;r++){var a=e[r];t+=a,n+=128&a}for(var o=156;o<512;o++){var c=e[o];t+=c,n+=128&c}var s=parseInt(i(e,148,154),8);return s===t||s===t-(n<<1)},t.uint8ArrayUtf8ByteString=i,t.uint32SyncSafeToken={get:function(e,t){return 127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21},len:4}},W48i:function(e,t,n){e.exports=n.p+"img/video-player/wow-a22a49faaea4696e7e5ae4192ba48356.png"},WIC2:function(e,t,n){e.exports=n.p+"img/icons/slack-b56ff9e6ccddb2becee21bc21525b904.svg"},WQRE:function(e,t,n){},WXkZ:function(e,t,n){},Wceu:function(e,t,n){},X4Ck:function(e,t,n){e.exports={container:"notification-count-bubble_container_2pE"}},XEbz:function(e,t,n){e.exports=n.p+"img/icons/nested-folder-2-digit-91ad075cc4cfa4bc6d971ba59346666e.svg"},XLjq:function(e,t,n){e.exports=n.p+"img/logos/content-limit-4fd766a51a63d081a41e1c229ce05c46.svg"},XPDt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("1IWx");class i extends r.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}t.ReadableWebToNodeStream=i},XTE0:function(e,t,n){e.exports=n.p+"img/video-player/comment-ef9a72d17d4b0cdc70aa86974371ebd2.svg"},XWFo:function(e,t,n){},XYV7:function(e,t,n){e.exports=n.p+"img/logos/recording-limit-583001cd1868fd310030ec7c2dc8a8b4.svg"},XcqI:function(e,t,n){},Xf1m:function(e,t,n){},XgiS:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateSelectedWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateSelectedWorkspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:139}};n.loc.source={body:"mutation updateSelectedWorkspace($workspaceId: ID!) {\n  updateSelectedWorkspace(workspaceId: $workspaceId) {\n    success\n    message\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.updateSelectedWorkspace=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"updateSelectedWorkspace")},Xtis:function(e,t,n){e.exports=n.p+"img/video-player/yay-78e2ff9834cdf83a5a66612fcbe834df.png"},Y8sl:function(e,t,n){},Y9Ts:function(e,t,n){},YClb:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/install-loom-ios-40618d7fd0878499ee125d65529b42fe.png"},YFU1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"viewerAddVideoToWatchLaterList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"viewerAddVideoToWatchLaterList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ViewerAddVideoToWatchLaterAnswer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:249}};n.loc.source={body:"mutation viewerAddVideoToWatchLaterList($videoId: String!) {\n  result: viewerAddVideoToWatchLaterList(videoId: $videoId) {\n    __typename\n    ... on ViewerAddVideoToWatchLaterAnswer {\n      created\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.viewerAddVideoToWatchLaterList=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"viewerAddVideoToWatchLaterList")},YPYO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},"Z/j3":function(e,t,n){},Z00u:function(e,t,n){},ZGcK:function(e,t,n){},ZJwE:function(e,t,n){"use strict";n("ma9I"),n("yq1k"),n("sMBO"),n("07d7"),n("SuFq"),n("rB9j"),n("JfAA"),n("JTJg"),n("UxlC"),n("7ueG");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("q4mm"),b=n("GemG"),y=n.n(b),k=n("TSYQ"),w=n.n(k),_=n("wd/R"),E=n.n(_),S=n("q1tI"),C=n.n(S),x=n("IVYN"),N=n("V2Ro"),T=n("OqXw"),O=n("0Syt"),I=n("Fw3N"),R=n("Qi9L"),D=n.n(R);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var F=function(e){u()(n,e);var t=P(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{new_title:null,should_select_input:!1,title_initial_focus:!1,title_focused:!1,content_type:"video"}),v()(s()(e),"updateInputRef",(function(t){e.input=t,y()(t)})),v()(s()(e),"updateMouseDown",(function(t){e.lastElementClicked=t.target})),v()(s()(e),"updateMouseUp",(function(){e.lastElementClicked=null})),v()(s()(e),"focusTitle",(function(){if(!e.state.title_focused){var t=e.state.content_type,n=e.props[t].name||e.getDefaultTitleName();e.setState({new_title:n,title_focused:!0,should_select_input:!0})}})),v()(s()(e),"handleInputBlur",(function(){var t=e.state,n=t.new_title;t.title_focused&&(Object(T.g)(e.lastElementClicked,"shareTitleBar",10)||(e.props.onTitleUpdate(n),e.setState({new_title:null,title_focused:!1,should_select_input:!1})))})),v()(s()(e),"handleNewTitleUpdate",(function(t){var n=t.target.value.replace(/\n/g," ").trimLeft();e.setState({new_title:n})})),v()(s()(e),"handleTitleKeyPress",(function(t){if(x.h.includes(t.key)){var n=e.state.new_title;e.props.onTitleUpdate(n),e.setState({new_title:null,title_focused:!1,should_select_input:!1})}})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.userCanEdit,n=this.props.video?"video":"screenshot",r=this.props[n];if(null===r.name)return C.a.createElement("div",{className:w()(D.a.shareTitleBar,D.a.empty)});var i=this.state,a=i.new_title,o=i.title_focused,c=r.name||this.getDefaultTitleName(),s=this.getTextArea(a,o);return C.a.createElement("div",{className:w()(D.a.shareTitleBar,D.a[n]),ref:function(t){return e.titleBar=t}},"screenshot"===n&&C.a.createElement(I.a,{names:N.i},s),"video"===n&&s,C.a.createElement(g.Text,{className:w()(D.a.shareTitle,t?D.a.editable:"",o?D.a.hidden:""),onClick:t?this.focusTitle:null},c))}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.new_title,r=t.should_select_input;return this.props.shouldFocusTitle&&!this.state.title_initial_focus?(this.setState({title_initial_focus:!0}),this.focusTitle()):this.props.forceFocusTitle?this.focusTitle():void(null!=n&&r&&null!=this.input&&(this.input.select(),this.setState({should_select_input:!1},(function(){y.a.update(e.input)}))))}},{key:"componentDidMount",value:function(){var e=this.props.video?"video":"screenshot";this.setState({content_type:e}),this.props.shouldFocusTitle&&!this.state.title_initial_focus&&(this.setState({title_initial_focus:!0}),this.focusTitle()),document.addEventListener("mousedown",this.updateMouseDown,!1),document.addEventListener("mouseup",this.updateMouseUp,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.updateMouseDown),document.removeEventListener("mouseup",this.updateMouseUp)}},{key:"getTextArea",value:function(e,t){return C.a.createElement("textarea",{className:w()(D.a.shareTitleBarInput,t?"":D.a.hidden),ref:this.updateInputRef,value:e||"",rows:1,maxLength:O.g,onBlur:this.handleInputBlur,onChange:this.handleNewTitleUpdate,onKeyPress:this.handleTitleKeyPress})}},{key:"getDefaultTitleName",value:function(){var e=this.state.content_type;return E()(this.props[e].createdAt).format("hh:mm A - MM/DD/YY")}}]),n}(S.Component);t.a=F},Zf0H:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return I})),n.d(t,"a",(function(){return R}));n("ma9I"),n("TeQF"),n("yq1k"),n("2B1R"),n("ToJy"),n("sMBO"),n("qePV");var r=n("pVnL"),i=n.n(r),a=n("QILm"),o=n.n(a),c=n("q4mm"),s=n("TSYQ"),l=n.n(s),u=n("wd/R"),d=n.n(u),m=n("q1tI"),f=n.n(m),p=n("Vg22"),h=n("8aGn"),v=n("sDAx"),g=n("t5t/"),b=n("dwPx"),y=n("NBNt"),k=n("h25W"),w=n("h7Cg"),_=n("INCh"),E=n.n(_),S=function(e){var t=e.type,n=e.ts,r=e.content,i=e.onClick,a=e.duration,o=f.a.useRef(),c=t+" opaque",s="comment"===t,l={left:Object(y.c)(n,a)};f.a.useLayoutEffect((function(){var e,t=null==o?void 0:o.current,n=null===(e=t.parentElement)||void 0===e?void 0:e.getBoundingClientRect(),r=t.getBoundingClientRect().right-n.right;r>0&&(t.style.transform="translateX(".concat(-1*r,"px)"))}));var u="",d=k.b[r];return s&&(u=r),f.a.createElement("div",{className:c,style:l,title:u,onClick:i,ref:o},d?f.a.createElement("img",{src:d}):null)},C=function(e){var t=e.type,n=e.width,r=e.children,a=void 0===r?null:r,c=o()(e,["type","width","children"]),s={width:n+"%"};return"played"===t&&(s.backgroundColor="#70E5A9"),"replayed"===t&&(s.backgroundColor="#00C1FF"),"filler"===t&&(s.backgroundColor="transparent"),f.a.createElement("div",i()({style:s},c,{className:t}),a&&a)},x=function(e){var t=e.user,n=void 0===t?{}:t,r=e.events,i=void 0===r?[]:r,a=i.filter((function(e){return["comment","reply"].includes(e.type)})),o=i.filter((function(e){return"reaction"===e.type}));return f.a.createElement("article",{className:E.a.viewerInfo},f.a.createElement(T,{avatar:n.avatar,name:n.name,color:n.color,variant:n.variant}),f.a.createElement("div",null,f.a.createElement(O,n),f.a.createElement(c.Distribute,{gap:"medium",alignment:"center"},f.a.createElement(N,{type:"comment",items:a||[]}),f.a.createElement(N,{type:"reaction",items:o||[]}))))},N=function(e){var t=e.type,n=e.items,r=(void 0===n?[]:n).length,i="comment"===t?c.SvgComment:c.SvgSmileAlt;return f.a.createElement(c.Distribute,{alignment:"center",gap:"xsmall"},f.a.createElement(c.Icon,{icon:f.a.createElement(i,null),size:2,color:"bodyDimmed"}),f.a.createElement(c.Text,{color:"bodyDimmed"},r))},T=function(e){var t=e.avatar,n=e.firstName,r=e.name,i=t&&"".concat(v.i,"/").concat(t),a=n||r,o=a!==g.a&&a;return f.a.createElement(w.a,{avatarSrc:i,name:o,className:i||o?"":"test-anonAvatar"})},O=function(e){return f.a.createElement("div",null,f.a.createElement(c.Text,{fontWeight:"bold",htmlTag:"h3"},e.name))},I=function(e){return f.a.createElement(f.a.Fragment,null,e.views.map((function(e,t){var n=Number(e),r=d()(n).format("MMMM Do, YYYY h:mma");return f.a.createElement(c.Text,{variant:"body",key:t},f.a.createElement("time",null,r))})))},R=function(e){var t=e.events,n=void 0===t?[]:t,r=Object(p.useDispatch)(),i={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!n.length)return null;var a=function(e){return function(){var t=document.querySelector("#".concat(e.type,"-").concat(e.id));t&&(t.classList.remove("highlightedComment"),window.requestAnimationFrame((function(){t.classList.add("highlightedComment"),t.scrollIntoView({behavior:"smooth",block:"center"})})))}},o=function(e){return function(){r(Object(h.i)(e))}};return f.a.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},f.a.createElement("div",{className:"px:small mb:small"},f.a.createElement(c.Text,{fontWeight:"bold"},"Activity")),n.sort(D).map((function(e,t){var n=i[e.type],r=k.b[e.content],c=["comment","reply"].includes(e.type);return f.a.createElement("div",{key:t,className:l()(E.a.eventItem,E.a.isClickable),onClick:c?a(e):o(e.ts)},r&&f.a.createElement("img",{src:r,alt:"".concat(n," ").concat(Object(b.d)(e.ts))}),n,f.a.createElement("time",null,Object(b.d)(e.ts)))})))};function D(e,t){var n=e.ts,r=t.ts;return n>r?1:r>n?-1:0}},ZlC3:function(e,t,n){e.exports=n.p+"img/icons/apple-black-9b56ee2f42e5df5622ccc847c09c24c2.svg"},a213:function(e,t,n){},aCS9:function(e,t,n){},"ahv+":function(e,t,n){e.exports={createWorkspaceForm:"createWorkspaceModal_createWorkspaceForm_2af",closeButtonWrapper:"createWorkspaceModal_closeButtonWrapper_2o8",successWrapper:"createWorkspaceModal_successWrapper_1iO",wrapper:"createWorkspaceModal_wrapper_3m8",successEmoji:"createWorkspaceModal_successEmoji_1b5"}},b1it:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("9lTW"),i=n("kVK+");t.UINT8={len:1,get:(e,t)=>e.readUInt8(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=255),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUInt8(n,t)}},t.UINT16_LE={len:2,get:(e,t)=>e.readUInt16LE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=65535),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUInt16LE(n,t)}},t.UINT16_BE={len:2,get:(e,t)=>e.readUInt16BE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=65535),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUInt16BE(n,t)}},t.UINT24_LE={len:3,get:(e,t)=>e.readUIntLE(t,3),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=16777215),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUIntLE(n,t,3)}},t.UINT24_BE={len:3,get:(e,t)=>e.readUIntBE(t,3),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=16777215),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUIntBE(n,t,3)}},t.UINT32_LE={len:4,get:(e,t)=>e.readUInt32LE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=4294967295),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUInt32LE(n,t)}},t.UINT32_BE={len:4,get:(e,t)=>e.readUInt32BE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=0&&n<=4294967295),r.ok(t>=0),r.ok(this.len<=e.length),e.writeUInt32BE(n,t)}},t.INT8={len:1,get:(e,t)=>e.readInt8(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-128&&n<=127),r.ok(t>=0),r.ok(this.len<=e.length),e.writeInt8(n,t)}},t.INT16_BE={len:2,get:(e,t)=>e.readInt16BE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-32768&&n<=32767),r.ok(t>=0),r.ok(this.len<=e.length),e.writeInt16BE(n,t)}},t.INT16_LE={len:2,get:(e,t)=>e.readInt16LE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-32768&&n<=32767),r.ok(t>=0),r.ok(this.len<=e.length),e.writeInt16LE(n,t)}},t.INT24_LE={len:3,get:(e,t)=>e.readIntLE(t,3),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-8388608&&n<=8388607),r.ok(t>=0),r.ok(this.len<=e.length),e.writeIntLE(n,t,3)}},t.INT24_BE={len:3,get:(e,t)=>e.readIntBE(t,3),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-8388608&&n<=8388607),r.ok(t>=0),r.ok(this.len<=e.length),e.writeIntBE(n,t,3)}},t.INT32_BE={len:4,get:(e,t)=>e.readInt32BE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-2147483648&&n<=2147483647),r.ok(t>=0),r.ok(this.len<=e.length),e.writeInt32BE(n,t)}},t.INT32_LE={len:4,get:(e,t)=>e.readInt32LE(t),put(e,t,n){return r.equal(typeof t,"number"),r.equal(typeof n,"number"),r.ok(n>=-2147483648&&n<=2147483647),r.ok(t>=0),r.ok(this.len<=e.length),e.writeInt32LE(n,t)}},t.UINT64_LE={len:8,get(e,t){return function(e,t,n){n>>>=0;let r=e[t>>>=0],i=1,a=0;for(;++a<n&&(i*=256);)r+=e[t+a]*i;return r}(e,t,this.len)},put(e,t,n){return function(e,t,n,r){t=+t,r>>>=0;let i=1,a=0;e[n>>>=0]=255&t;for(;++a<r&&(i*=256);)e[n+a]=t/i&255;return n+r}(e,n,t,this.len)}},t.INT64_LE={len:8,get(e,t){return function(e,t,n){n>>>=0;let r=e[t>>>=0],i=1,a=0;for(;++a<n&&(i*=256);)r+=e[t+a]*i;i*=128,r>=i&&(r-=Math.pow(2,8*n));return r}(e,t,this.len)},put(e,t,n){return o(e,n,t,this.len)}},t.UINT64_BE={len:8,get(e,t){return c(e,t,this.len)},put(e,t,n){return s(e,n,t,this.len)}},t.INT64_BE={len:8,get(e,t){return l(e,t,this.len)},put(e,t,n){return u(e,n,t,this.len)}},t.Float16_BE={len:2,get(e,t){return i.read(e,t,!1,10,this.len)},put(e,t,n){return i.write(e,n,t,!1,10,this.len)}},t.Float16_LE={len:2,get(e,t){return i.read(e,t,!0,10,this.len)},put(e,t,n){return i.write(e,n,t,!0,10,this.len)}},t.Float32_BE={len:4,get:(e,t)=>e.readFloatBE(t),put:(e,t,n)=>e.writeFloatBE(n,t)},t.Float32_LE={len:4,get:(e,t)=>e.readFloatLE(t),put:(e,t,n)=>e.writeFloatLE(n,t)},t.Float64_BE={len:8,get:(e,t)=>e.readDoubleBE(t),put:(e,t,n)=>e.writeDoubleBE(n,t)},t.Float64_LE={len:8,get:(e,t)=>e.readDoubleLE(t),put:(e,t,n)=>e.writeDoubleLE(n,t)},t.Float80_BE={len:10,get(e,t){return i.read(e,t,!1,63,this.len)},put(e,t,n){return i.write(e,n,t,!1,63,this.len)}},t.Float80_LE={len:10,get(e,t){return i.read(e,t,!0,63,this.len)},put(e,t,n){return i.write(e,n,t,!0,63,this.len)}};t.IgnoreType=class{constructor(e){this.len=e}get(e,t){}};t.BufferType=class{constructor(e){this.len=e}get(e,t){return e.slice(t,t+this.len)}};t.StringType=class{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return e.toString(this.encoding,t,t+this.len)}};class a{constructor(e){this.len=e}static decode(e,t,n){let r="";for(let i=t;i<n;++i)r+=a.codePointToString(a.singleByteDecoder(e[i]));return r}static inRange(e,t,n){return t<=e&&e<=n}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(a.inRange(e,0,127))return e;const t=a.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return a.decode(e,t,t+this.len)}}function o(e,t,n,r){t=+t;let i=0,a=1,o=0;for(e[n>>>=0]=255&t;++i<r&&(a*=256);)t<0&&0===o&&0!==e[n+i-1]&&(o=1),e[n+i]=(t/a>>0)-o&255;return n+r}function c(e,t,n){n>>>=0;let r=e[(t>>>=0)+--n],i=1;for(;n>0&&(i*=256);)r+=e[t+--n]*i;return r}function s(e,t,n,r){t=+t;let i=(r>>>=0)-1,a=1;for(e[(n>>>=0)+i]=255&t;--i>=0&&(a*=256);)e[n+i]=t/a&255;return n+r}function l(e,t,n){let r=n>>>=0,i=1,a=e[(t>>>=0)+--r];for(;r>0&&(i*=256);)a+=e[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*n)),a}function u(e,t,n,r){t=+t;let i=r-1,a=1,o=0;for(e[(n>>>=0)+i]=255&t;--i>=0&&(a*=256);)t<0&&0===o&&0!==e[n+i+1]&&(o=1),e[n+i]=(t/a>>0)-o&255;return n+r}t.AnsiStringType=a,a.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255],t.writeIntLE=o,t.readUIntBE=c,t.writeUIntBE=s,t.readIntBE=l,t.writeIntBE=u},bHCq:function(e,t,n){e.exports={linkAndButtons:"copy-link_linkAndButtons_LqD",bold:"copy-link_bold_2vg",input:"copy-link_input_2P5",copyLink:"copy-link_copyLink_2lj"}},bZr9:function(e,t,n){e.exports={mobileAppCardWrapper:"mobile-app-card_mobileAppCardWrapper_3hi",mobileAppCardSpacer:"mobile-app-card_mobileAppCardSpacer_37b"}},biP4:function(e,t,n){},bmxN:function(e,t,n){},"c/Ym":function(e,t,n){},c0yS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"==typeof t&&c.hasOwnProperty(e)){var l=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var c=n[a],l=[c];for(var u in t){var d=(0,r.default)(u);if(c.indexOf(d)>-1&&"order"!==d)for(var m=t[u],f=0,p=m.length;f<p;++f)l.unshift(c.replace(d,s[m[f]]+d))}n[a]=l.join(",")}return n.join(",")}(t,o),u=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return u;var d=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,a.default)(e)]=u,n["Moz"+(0,a.default)(e)]=d,l)}};var r=o(n("Rz+p")),i=o(n("sUt/")),a=o(n("SFYy"));function o(e){return e&&e.__esModule?e:{default:e}}var c={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},cILx:function(e,t,n){},cJZd:function(e,t,n){"use strict";n.r(t),n.d(t,"ViewersInsightsTimeline",(function(){return q})),n.d(t,"ViewersEventsTimeline",(function(){return W})),n.d(t,"ViewerTimeline",(function(){return z}));n("ma9I"),n("TeQF"),n("2B1R"),n("E9XD");var r,i=n("pVnL"),a=n.n(i),o=n("lSNA"),c=n.n(o),s=n("J4zp"),l=n.n(s),u=n("q4mm"),d=n("TSYQ"),m=n.n(d),f=n("q1tI"),p=n.n(f),h=n("Vg22"),v=n("jpn6"),g=n.n(v),b=n("8aGn"),y=n("Dzm3"),k=n("sDAx"),w=n("wv65"),_=n("p9ZL"),E=n("joSB"),S=(n("sMBO"),n("Zf0H")),C=n("INCh"),x=n.n(C),N=function(e){var t=e.title,n=e.amount,r=e.backgroundColor,i=void 0===r?"backgroundSecondary":r,a=e.className;return p.a.createElement("div",{className:"flex py:small px:medium bgc:".concat(i," items:center ").concat(a," radius:medium")},p.a.createElement("div",{className:"grow:1"},p.a.createElement(u.Text,null,t)),p.a.createElement(u.Text,{fontWeight:"bold",size:"xlarge"},n))},T=function(e){var t=e.viewer,n=e.onBack,r=p.a.useRef(),i=t.user,a=void 0===i?{}:i,o=t.views,c=void 0===o?[]:o,s=t.percentCompleted,d=void 0===s?0:s,m=t.ctaClicks,f=t.events,h=void 0===f?[]:f;return p.a.useEffect((function(){var e,t,n,i,a,o=null==r?void 0:r.current;null===(e=document)||void 0===e||null===(t=e.documentElement)||void 0===t||null===(n=t.scrollTo)||void 0===n||n.call(t,{top:0}),null==o||null===(i=o.parentElement)||void 0===i||null===(a=i.scrollTo)||void 0===a||a.call(i,{left:o.offsetWidth,behavior:"smooth"}),setTimeout((function(){var e;return null==o||null===(e=o.parentElement)||void 0===e?void 0:e.classList.add(x.a.shrinked)}),250);var c=new g.a((function(e){var t,n,r,i=l()(e,1)[0];null==i||null===(t=i.target)||void 0===t||null===(n=t.parentElement)||void 0===n||n.scrollTo({left:null==i||null===(r=i.contentRect)||void 0===r?void 0:r.width,behavior:"smooth"})}));return c.observe(o),function(){return c.disconnect()}}),[]),p.a.createElement("section",{className:x.a.slideable,ref:r},p.a.createElement(u.Distribute,{htmlTag:"header",alignment:"center",isSpread:!0,className:x.a.detailsHeader},p.a.createElement(u.Distribute,{alignment:"center",onClick:n,gap:"small"},p.a.createElement(u.IconButton,{altText:"Back",icon:p.a.createElement(u.SvgArrowBack,null)}),p.a.createElement(S.d,{avatar:a.avatar,color:a.color,variant:a.variant}),p.a.createElement(S.f,{name:a.name}))),p.a.createElement("div",null,p.a.createElement("div",{className:"mb:large"},p.a.createElement(N,{title:"Video views",amount:c.length,backgroundColor:"blurpleMedium"}),p.a.createElement(N,{className:"mt:small",title:"Completion rate",amount:null!=d?"".concat(d,"%"):"--",backgroundColor:"blueLight"}),Boolean(m)&&p.a.createElement(N,{className:"mt:small test-call-to-action-clicks",title:"Call-to-Action Clicks",amount:m,backgroundColor:"yellowLight"})),p.a.createElement("div",{className:"p:medium bgc:backgroundSecondary mb:large radius:medium"},p.a.createElement("div",{className:"mb:medium"},p.a.createElement(u.Text,{fontWeight:"bold"},"View Times")),p.a.createElement(S.g,{views:c}))),p.a.createElement(S.a,{events:h}))},O=n("kD5e"),I=n.n(O),R=n("+lBf");try{r=window&&window.localStorage}catch(e){}var D=n("NBNt"),P=n("FFBg"),F=(n("9Xi7"),function(e){var t=e.total;return p.a.createElement("li",{className:"bgc:blurpleMedium"},p.a.createElement(u.Text,{fontWeight:"semiBold"},"Total video views"),p.a.createElement(u.Text,{size:"xxlarge",fontWeight:"semiBold"},t))}),j=function(e){var t=e.percent,n=e.partialData;return p.a.createElement("li",{className:m()("bgc:blueLight",c()({},x.a.disabled,!t))},p.a.createElement(u.Distribute,{gap:"xsmall",direction:"column"},p.a.createElement(u.Text,{fontWeight:"semiBold"},"Average Completion Rate"),p.a.createElement(L,{partialData:n,source:"completion rate"})),p.a.createElement(U,{percent:t}))},A=function(e){var t=e.percent;return p.a.createElement("li",{className:m()("bgc:yellowLight",c()({},x.a.disabled,!t))},p.a.createElement(u.Distribute,{gap:"xsmall",direction:"column"},p.a.createElement(u.Text,{fontWeight:"semiBold"},"Call-to-Action Conversion")),p.a.createElement(U,{percent:t}))},M=function(e){var t=e.href,n=e.source;return p.a.createElement(u.Tooltip,{content:"Engagement is only tracked after upgrading to Business or Enterprise. Excludes views on our iOS app.",placement:"topCenter"},p.a.createElement("a",{href:t,className:x.a.infoIcon,onClick:function(){return Object(R.e)({source:n})},target:"_blank",rel:"noopener noreferrer"},p.a.createElement(u.SvgInfo,null)))},L=function(e){var t=e.partialData,n=e.source;if(!t)return null;var r=l()(t,2),i=r[0],a=r[1];return p.a.createElement("div",{className:"flex items:center"},p.a.createElement(u.Text,{size:"small"},"Based on ",i," of ",a," viewers"),p.a.createElement(M,{href:k.m,source:n}))},V=function(e){var t=e.onClick;return p.a.createElement(u.Container,{backgroundColor:"backgroundSecondary",radius:"medium",padding:"medium"},p.a.createElement(u.Text,{fontWeight:"semiBold",className:"mb:medium"},"This video includes partially tracked data."),p.a.createElement(u.Spacer,{bottom:"medium"},p.a.createElement(u.Text,null,"Engagement is only tracked after upgrading to Business or Enterprise. Excludes views on our iOS app.")),p.a.createElement(u.Align,{alignment:"centerRight"},p.a.createElement(u.Button,{variant:"primary",onClick:t},"Got it")))},U=function(e){var t=e.percent;return p.a.createElement(u.Text,{size:"xxlarge",fontWeight:"semiBold"},t>0?Object(D.b)(t):"--")},B=function(e){var t=e.users,n=e.setSelected;return p.a.createElement("div",{className:x.a.viewers},p.a.createElement(u.Text,{fontWeight:"semiBold",className:"mb:medium"},t.length," Viewers"),t.map((function(e,t){return p.a.createElement("div",{className:m()(x.a.card),key:"v-".concat(t),onClick:function(){return n(e)}},p.a.createElement(S.e,{user:e.user,events:e.events}))})))},q=function(){var e=Object(h.useSelector)(E.a);return Object(h.useSelector)(E.b)&&e?p.a.createElement("div",{className:"viewerInsightsTimeline"},p.a.createElement(W,{selectedViewer:e}),p.a.createElement(z,{duration:e.videoDuration,plays:e.plays,skips:e.skips,replays:e.replays})):null},W=function(e){var t=e.selectedViewer,n=Object(h.useDispatch)(),r=Object(h.useSelector)(E.a),i=function(e){return function(i){i.stopPropagation(),r!==t&&n(Object(y.b)(t)),n(Object(b.i)(e))}};return p.a.createElement("div",{className:"reaction viewer__events-timeline"},(t.events||[]).map((function(e,n){return p.a.createElement(S.b,a()({key:"event".concat(n)},e,{duration:t.videoDuration,onClick:i(e.ts)}))})))},z=function(e){var t=e.duration,n=e.plays,r=e.skips,i=e.replays,a=void 0===i?[]:i,o=Object(h.useDispatch)();if(!n)return null;var c=function(e){return function(t){t.stopPropagation(),o(Object(b.i)(e))}},s=Object(D.a)({plays:n,replays:a,skips:r,duration:t}).map((function(e,t){return p.a.createElement(S.c,{key:"".concat(e.type).concat(t),width:e.width,type:e.type,onClick:c(e.start)},e.replayBlocks.map((function(e,t){return p.a.createElement(S.c,{key:"replay".concat(t),width:e.width,type:e.type,onClick:c(e.start)})})))}));return p.a.createElement("div",{className:"viewer__timeline"},s)};t.default=function(e){var t=Object(h.useDispatch)(),n=p.a.useMemo((function(){return Object(w.getGraphQLClientInsights)()}),[]),i=p.a.useRef(),a=p.a.useRef(),o=p.a.useState(!function(){return r&&r.getItem("engagementInsights:showPartialInfoSaved")}()),s=l()(o,2),d=s[0],f=s[1],v=function(e){t(Object(y.b)(e)),e&&Object(R.i)()},b=Object(h.useSelector)(_.f),S=b.id,C=b.cta,N=(C=void 0===C?{}:C).enabled,O=void 0!==N&&N,D=Object(h.useSelector)(E.c),M=Object(h.useSelector)(_.g),L=Object(h.useSelector)(E.a),U=parseInt(M.total||0,10),q=D.filter((function(e){return!1!==e.hasWatchSession}))||[],W=Boolean(q.length),z=q.filter((function(e){return e.cta}))||[],G=q.length!=D.length,H=G&&[q.length,D.length],J=Math.min(100*z.length/q.length,100),Q=q.map((function(e){return e.percentCompleted})).reduce((function(e,t){return e+t}),0)/q.length;return p.a.useEffect((function(){var e,t;null==a||null===(e=a.current)||void 0===e||null===(t=e.scrollTo)||void 0===t||t.call(e,{top:0})}),[L]),p.a.useEffect((function(){D.length||n.query({variables:{videoId:S},query:I.a,fetchPolicy:"no-cache"}).then((function(e){var n=e.data;t(Object(y.a)(n.engagementInsightsSummaryForVideo.viewers))})).catch((function(e){console.error(e)}))}),[t,n,D.length,S]),p.a.useLayoutEffect((function(){if(null==a?void 0:a.current){var e=null==a?void 0:a.current,t=null==i?void 0:i.current,n=function(){var t,n;if("undefined"!=typeof document&&"undefined"!=typeof window){var r=null==e||null===(t=e.parentElement)||void 0===t?void 0:t.getBoundingClientRect(),i=null===(n=document.querySelector(".add-comment-buttons"))||void 0===n?void 0:n.getBoundingClientRect();window.requestAnimationFrame((function(){return e.parentElement.style.height=i.bottom-r.top+"px"}))}},r=new g.a(n);return document.scrollingElement&&r.observe(document.scrollingElement),e&&r.observe(e),t&&r.observe(t),setTimeout(n,50),function(){e.parentElement.style.height="auto",r.disconnect()}}}),[a]),p.a.createElement("section",{ref:a,className:x.a.containerBox},p.a.createElement(P.a,null,p.a.createElement(u.Distribute,{alignment:"center",isSpread:!0,className:x.a.sticky},p.a.createElement(u.Text,{variant:"title"},"Engagement Insights"),p.a.createElement(u.IconButton,{altText:"Close",icon:p.a.createElement(u.SvgClose,null),onClick:e.onExit})),G&&d&&p.a.createElement("div",{className:"mb:medium"},p.a.createElement(V,{onClick:function(){f(!1),function(){r&&r.setItem("engagementInsights:showPartialInfoSaved",!0)}(),Object(R.g)()}})),p.a.createElement("div",{className:x.a.slideableContainer,ref:i},p.a.createElement("section",{className:x.a.slideable},p.a.createElement(u.TextButton,{className:"mt:medium",size:"small",icon:p.a.createElement(u.SvgExternalLink,null),onClick:function(){window.open(k.m,"_blank").opener=null,Object(R.f)()}},"See how we calculate this"),p.a.createElement("ul",{className:m()(x.a.viewsMetadata,c()({},x.a.partial,!G))},p.a.createElement(F,{total:U}),p.a.createElement(j,{percent:W&&Q,partialData:H}),O&&p.a.createElement(A,{percent:W&&J})),p.a.createElement(B,{users:D,setSelected:v}),!D.length&&p.a.createElement(u.Loader,null)),L&&p.a.createElement(T,{viewer:L,onBack:function(){var e=null==i?void 0:i.current,t=null==a?void 0:a.current;null==e||e.classList.remove(x.a.shrinked),setTimeout((function(){document.documentElement.scrollTo({top:0}),null==e||e.scrollTo({left:0,behavior:"smooth"}),null==t||t.scrollTo({top:0})}),50),Object(R.c)(),setTimeout((function(){return v(null)}),500)}}))))}},cLZe:function(e,t,n){},crQO:function(e,t,n){e.exports=n.p+"img/illustrations/csv-invite-modal-c55cacc961a8afe00574556242340c7d.svg"},d4Ua:function(e,t,n){e.exports={sfdcModalContainer:"salesforce-add-email_sfdcModalContainer_3JQ",emailInput:"salesforce-add-email_emailInput_2mp",emptyIcon:"salesforce-add-email_emptyIcon_3JC"}},d59V:function(e,t,n){e.exports=n.p+"img/icons/google-7fd162b327d42b755efbe828d0a329b7.svg"},d7KZ:function(e,t,n){e.exports=n.p+"img/icons/loom-link-copied-aa62889e9ccb41af3d65f3ab83959957.svg"},dA7E:function(e,t,n){},dCsK:function(e,t,n){},dPOJ:function(e,t,n){e.exports={uploadInput:"csv-upload-modal_uploadInput_3-j",csvDropTarget:"csv-upload-modal_csvDropTarget_1qe",isDropping:"csv-upload-modal_isDropping_32s",dropOverlay:"csv-upload-modal_dropOverlay_ASB"}},dQau:function(e,t,n){"use strict";n.r(t),n.d(t,"print",(function(){return i}));var r=n("L2ys");function i(e){return Object(r.visit)(e,{leave:a})}var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return c(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=l("(",c(e.variableDefinitions,", "),")"),i=c(e.directives," "),a=e.selectionSet;return n||i||r||"query"!==t?c([t,c([n,r]),i,a]," "):a},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+l(" = ",r)+l(" ",c(i," "))},SelectionSet:function(e){return s(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet;return c([l("",t,": ")+n+l("(",c(r,", "),")"),c(i," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+l(" ",c(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return c(["...",l("on ",t),c(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(l("(",c(r,", "),")")," ")+"on ".concat(n," ").concat(l("",c(i," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e,t){var n=e.replace(/"""/g,'\\"""');return d(e)||" "!==e[0]&&"\t"!==e[0]?'"""\n'.concat(t?n:u(n),'\n"""'):'"""'.concat(n.replace(/"$/,'"\n'),'"""')}(n,"description"===t):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+c(e.values,", ")+"]"},ObjectValue:function(e){return"{"+c(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+l("(",c(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return c(["schema",c(t," "),s(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return c(["scalar",e.name,c(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return c(["type",t,l("implements ",c(n," & ")),c(r," "),s(i)]," ")})),FieldDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(m(n)?l("(\n",u(c(n,"\n")),"\n)"):l("(",c(n,", "),")"))+": "+r+l(" ",c(i," "))})),InputValueDefinition:o((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return c([t+": "+n,l("= ",r),c(i," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.fields;return c(["interface",t,c(n," "),s(r)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.types;return c(["union",t,c(n," "),r&&0!==r.length?"= "+c(r," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.values;return c(["enum",t,c(n," "),s(r)]," ")})),EnumValueDefinition:o((function(e){return c([e.name,c(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.fields;return c(["input",t,c(n," "),s(r)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.locations;return"directive @"+t+(m(n)?l("(\n",u(c(n,"\n")),"\n)"):l("(",c(n,", "),")"))+" on "+c(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return c(["extend schema",c(t," "),s(n)]," ")},ScalarTypeExtension:function(e){return c(["extend scalar",e.name,c(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return c(["extend type",t,l("implements ",c(n," & ")),c(r," "),s(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return c(["extend interface",t,c(n," "),s(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return c(["extend union",t,c(n," "),r&&0!==r.length?"= "+c(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return c(["extend enum",t,c(n," "),s(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return c(["extend input",t,c(n," "),s(r)]," ")}};function o(e){return function(t){return c([t.description,e(t)],"\n")}}function c(e,t){return e?e.filter((function(e){return e})).join(t||""):""}function s(e){return e&&0!==e.length?"{\n"+u(c(e,"\n"))+"\n}":""}function l(e,t,n){return t?e+t+(n||""):""}function u(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function d(e){return-1!==e.indexOf("\n")}function m(e){return e&&e.some(d)}},dajq:function(e,t,n){},dhvW:function(e,t,n){},djh3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var i={},a=e[t],o=(0,r.default)(t),c=Object.keys(n),s=0;s<c.length;s++){var l=c[s];if(l===t)for(var u=0;u<a.length;u++)i[a[u]+o]=n[t];i[l]=n[l]}return i}return n};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("SFYy"));e.exports=t.default},dwco:function(e,t,n){!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n=e.HTMLElement||e.Element,r={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||o,scrollIntoView:n.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=function(e){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)}(e.navigator.userAgent)?1:0;e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?f.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):r.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?r.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var e=arguments[0].left,t=arguments[0].top;f.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},n.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):r.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},n.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=d(this),i=n.getBoundingClientRect(),a=this.getBoundingClientRect();n!==t.body?(f.call(this,n,n.scrollLeft+a.left-i.left,n.scrollTop+a.top-i.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:a.left,top:a.top,behavior:"smooth"})}else r.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function o(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function s(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function l(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function u(e){var t=s(e,"Y")&&l(e,"Y"),n=s(e,"X")&&l(e,"X");return t||n}function d(e){var n;do{n=(e=e.parentNode)===t.body}while(!1===n&&!1===u(e));return n=null,e}function m(t){var n,r,a,o=(i()-t.startTime)/468;n=function(e){return.5*(1-Math.cos(Math.PI*e))}(o=o>1?1:o),r=t.startX+(t.x-t.startX)*n,a=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,a),r===t.x&&a===t.y||e.requestAnimationFrame(m.bind(e,t))}function f(n,a,c){var s,l,u,d,f=i();n===t.body?(s=e,l=e.scrollX||e.pageXOffset,u=e.scrollY||e.pageYOffset,d=r.scroll):(s=n,l=n.scrollLeft,u=n.scrollTop,d=o),m({scrollable:s,method:d,startTime:f,startX:l,startY:u,x:a,y:c})}}}}()},e575:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Webkit"],i=["ms"],a=["Webkit","ms"];t.default={plugins:[],prefixMap:{appearance:["Webkit","Moz"],textEmphasisPosition:r,textEmphasis:r,textEmphasisStyle:r,textEmphasisColor:r,boxDecorationBreak:r,maskImage:r,maskMode:r,maskRepeat:r,maskPosition:r,maskClip:r,maskOrigin:r,maskSize:r,maskComposite:r,mask:r,maskBorderSource:r,maskBorderMode:r,maskBorderSlice:r,maskBorderWidth:r,maskBorderOutset:r,maskBorderRepeat:r,maskBorder:r,maskType:r,textDecorationStyle:r,textDecorationSkip:r,textDecorationLine:r,textDecorationColor:r,userSelect:["Webkit","Moz","ms"],backdropFilter:r,fontKerning:r,scrollSnapType:a,scrollSnapPointsX:a,scrollSnapPointsY:a,scrollSnapDestination:a,scrollSnapCoordinate:a,clipPath:r,shapeImageThreshold:r,shapeImageMargin:r,shapeImageOutside:r,filter:r,hyphens:a,flowInto:a,flowFrom:a,breakBefore:a,breakAfter:a,breakInside:a,regionFragment:a,writingMode:a,textOrientation:r,tabSize:["Moz"],fontFeatureSettings:r,columnCount:r,columnFill:r,columnGap:r,columnRule:r,columnRuleColor:r,columnRuleStyle:r,columnRuleWidth:r,columns:r,columnSpan:r,columnWidth:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:a}},e.exports=t.default},e8EB:function(e,t,n){e.exports=n.p+"img/icons/comments-avatar-placeholder-ad20a7c4f0d515a74b4147a61bf5f43f.svg"},eACZ:function(e,t,n){},eHAl:function(e,t,n){},eHCD:function(e,t,n){},eJS6:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/custom-branding-4133926464bedf9916f82ce50ee57909.png"},eVsk:function(e,t,n){},evB1:function(e,t,n){e.exports=n.p+"img/video-player/big-play-button-play-b73a208ccd932704893aaeadd061f4c8.svg"},ewX8:function(e,t,n){e.exports=n.p+"img/icons/question-mark-1cdc6765fb597494069ed4e5b6b66036.svg"},fG4I:function(e,t,n){e.exports=n.p+"img/icons/default-avatar-6b39b1ef2ea2925134275f5ed0958013.svg"},fKvb:function(e,t,n){e.exports=n.p+"img/video-player/up@2x-9eceb438b7d1971ad92b112ab3d10fce.png"},fOwp:function(e,t,n){e.exports={titleInput:"card-rename-input_titleInput_3Lg"}},fQry:function(e,t,n){"use strict";var r=n("q4mm"),i=n("q1tI"),a=n.n(i),o=n("JHYe"),c=n("CtBj"),s=n("V9h2"),l=n("ZlC3"),u=n.n(l),d=n("d59V"),m=n.n(d),f=n("WIC2"),p=n.n(f),h=n("AGlj");n("Sbmp");t.a=function(e){var t=e.isSignUp,n=e.overlayMode,i=e.afterAuthCallback,l=function(e){s.c(e,i),c.h(h.fc,{provider:e,isSignUp:t})};return a.a.createElement("div",{className:"loom-signup-component-connect-buttons"},a.a.createElement(r.Button,{logoSrc:m.a,hasFullWidth:!0,size:n?"medium":"large",onClick:function(){return l(o.d)}},t?"Sign up with Google":"Sign in with Google"),a.a.createElement(r.Spacer,{top:2}),a.a.createElement(r.Button,{logoSrc:p.a,hasFullWidth:!0,size:n?"medium":"large",onClick:function(){return l(o.g)}},t?"Sign up with Slack":"Sign in with Slack"),a.a.createElement(r.Spacer,{top:2}),a.a.createElement(r.Button,{logoSrc:u.a,hasFullWidth:!0,size:n?"medium":"large",onClick:function(){return l(o.a)}},t?"Sign up with Apple":"Sign in with Apple"))}},fjF0:function(e,t,n){},fjbk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PlayIntervals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"watchedIntervals"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VideoPlayIntervalInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateVideoPlayInterval"},arguments:[{kind:"Argument",name:{kind:"Name",value:"watchedIntervals"},value:{kind:"Variable",name:{kind:"Name",value:"watchedIntervals"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoPlayIntervalMutationRes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buckets"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:257}};n.loc.source={body:"mutation PlayIntervals($watchedIntervals: VideoPlayIntervalInput!) {\n  updateVideoPlayInterval(watchedIntervals: $watchedIntervals) {\n    ... on VideoPlayIntervalMutationRes {\n      id\n      buckets\n    }\n    ... on GenericError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.PlayIntervals=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PlayIntervals")},fnAd:function(e,t,n){},g28d:function(e,t,n){},g3pR:function(e,t,n){e.exports={uploadProgress:"upload-progress_uploadProgress_tLy",active:"upload-progress_active_d5R",loadingThumbnailImage:"upload-progress_loadingThumbnailImage_3xe",flipped:"upload-progress_flipped_16j",loadingThumbnailContainer:"upload-progress_loadingThumbnailContainer_1Jv","thumbnail-grow":"upload-progress_thumbnail-grow_3sC",isCompleted:"upload-progress_isCompleted_1VU","thumbnail-normalize":"upload-progress_thumbnail-normalize_3Om"}},g9nM:function(e,t,n){},gAMN:function(e,t,n){e.exports=n.p+"img/video-player/exit-fullscreen-61bae80dd5d14ca96323c859ee9037e7.svg"},"gN/m":function(e,t,n){},gOiw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateGifSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGif"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"useGifDefault"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateVideoGifSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"useGif"},value:{kind:"Variable",name:{kind:"Name",value:"useGif"}}},{kind:"Argument",name:{kind:"Name",value:"useGifDefault"},value:{kind:"Variable",name:{kind:"Name",value:"useGifDefault"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video_settings"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:376}};n.loc.source={body:"mutation UpdateGifSettings(\n  $videoId: ID!\n  $useGif: Boolean\n  $useGifDefault: Boolean\n) {\n  updateVideoGifSettings(\n    videoId: $videoId\n    useGif: $useGif\n    useGifDefault: $useGifDefault\n  ) {\n    thumbnails {\n      defaultGif\n      defaultGifPlay\n    }\n    defaultThumbnails {\n      default\n      static\n    }\n    use_gif\n    owner {\n      video_settings\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.UpdateGifSettings=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UpdateGifSettings")},gVnP:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/install-chrome-extension-ecd57178c787132b936593e65d334d61.png"},gcTJ:function(e,t,n){e.exports=n.p+"img/video-player/volume-2-e39b2792d46b9f9d0d44b65aca4dd161.svg"},gcvy:function(e,t,n){e.exports=n.p+"img/icons/zip-434532c99dfb9402bc174643211b9a96.svg"},h4Pr:function(e,t,n){},hAya:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},hCNw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ToggleSharedFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isShared"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleSharedFolder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"isShared"},value:{kind:"Variable",name:{kind:"Name",value:"isShared"}}}],directives:[]}]}}],loc:{start:0,end:114}};n.loc.source={body:"mutation ToggleSharedFolder($id: ID!, $isShared: Boolean!) {\n  toggleSharedFolder(id: $id, isShared: $isShared)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.ToggleSharedFolder=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ToggleSharedFolder")},hcJO:function(e,t,n){e.exports={container:"transcript-list_container_3i7",row:"transcript-list_row_2-A",timestamp:"transcript-list_timestamp_Wou",transcript:"transcript-list_transcript_2Ec",highlight:"transcript-list_highlight_29f",marginTop:"transcript-list_marginTop_2WI",marginBottom:"transcript-list_marginBottom_1Yu",loadingTranscript:"transcript-list_loadingTranscript_Fkw",loadingText:"transcript-list_loadingText_16r",btnContainer:"transcript-list_btnContainer_11i",top:"transcript-list_top_2rR",bottom:"transcript-list_bottom_3sj"}},homf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},hqGL:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getWorkspaceMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspaceMembers"},name:{kind:"Name",value:"getWorkspaceMembers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accepted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:315}};n.loc.source={body:"query getWorkspaceMembers($workspaceId: ID!, $status: String) {\n  workspaceMembers: getWorkspaceMembers(\n    workspaceId: $workspaceId\n    status: $status\n  ) {\n    accepted {\n      user {\n        id\n        email\n        first_name\n        last_name\n        avatars {\n          thumb\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.getWorkspaceMembers=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getWorkspaceMembers")},hrBM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFavorite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"FavoriteEntity"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFavorite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"entities"},value:{kind:"Variable",name:{kind:"Name",value:"entities"}}}],directives:[]}]}}],loc:{start:0,end:90}};n.loc.source={body:"mutation AddFavorite($entities: [FavoriteEntity]!) {\n  addFavorite(entities: $entities)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.AddFavorite=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"AddFavorite")},hvB1:function(e,t,n){"use strict";(function(t){var r=n("q1tI");function i(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var r="undefined"!=typeof document&&document.attachEvent;if(!r){var i=function(){var e=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(e){return n.setTimeout(e,20)};return function(t){return e(t)}}(),a=function(){var e=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(t){return e(t)}}(),o=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=i((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},s=!1,l="",u="animationstart",d="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=document.createElement("fakeelement");if(void 0!==f.style.animationName&&(s=!0),!1===s)for(var p=0;p<d.length;p++)if(void 0!==f.style[d[p]+"AnimationName"]){l="-"+d[p].toLowerCase()+"-",u=m[p],s=!0;break}var h="resizeanim",v="@"+l+"keyframes "+h+" { from { opacity: 0; } to { opacity: 0; } } ",g=l+"animation: 1ms "+h+"; "}return{addResizeListener:function(t,i){if(r)t.attachEvent("onresize",i);else{if(!t.__resizeTriggers__){var a=t.ownerDocument,s=n.getComputedStyle(t);s&&"static"==s.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(a),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=a.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),o(t),t.addEventListener("scroll",c,!0),u&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==h&&o(t)},t.__resizeTriggers__.addEventListener(u,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(i)}},removeResizeListener:function(e,t){if(r)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}var a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},l=function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var a=r._parentNode.offsetHeight||0,o=r._parentNode.offsetWidth||0,c=window.getComputedStyle(r._parentNode)||{},s=parseInt(c.paddingLeft,10)||0,l=parseInt(c.paddingRight,10)||0,u=parseInt(c.paddingTop,10)||0,d=parseInt(c.paddingBottom,10)||0,m=a-u-d,f=o-s-l;(!t&&r.state.height!==m||!n&&r.state.width!==f)&&(r.setState({height:a-u-d,width:o-s-l}),i({height:a,width:o}))}},r._setRef=function(e){r._autoSizer=e},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.disableHeight,a=e.disableWidth,o=e.style,s=this.state,l=s.height,u=s.width,d={overflow:"visible"},m={},f=!1;return i||(0===l&&(f=!0),d.height=0,m.height=l),a||(0===u&&(f=!0),d.width=0,m.width=u),r.createElement("div",{className:n,ref:this._setRef,style:c({},d,o)},!f&&t(m))}}]),t}(r.PureComponent);l.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},e.exports=l}).call(this,n("yLpj"))},i1sZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckIfUserWithEmailExists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkIfUserWithEmailExists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}],directives:[]}]}}],loc:{start:0,end:98}};n.loc.source={body:"query CheckIfUserWithEmailExists($email: String!) {\n  checkIfUserWithEmailExists(email: $email)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CheckIfUserWithEmailExists=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CheckIfUserWithEmailExists")},iGRo:function(e,t,n){},icbp:function(e,t,n){e.exports=n.p+"img/notifications/trim-331dba53763895786ebd76995a0c10fa.svg"},igrV:function(e,t,n){},iizX:function(e,t,n){},io5B:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"onNotificationsUpdated"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificationsUpdated"},arguments:[],directives:[]}]}}],loc:{start:0,end:63}};n.loc.source={body:"subscription onNotificationsUpdated {\n  notificationsUpdated\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.onNotificationsUpdated=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"onNotificationsUpdated")},ioha:function(e,t,n){},j2Cv:function(e,t,n){},j4g4:function(e,t,n){},jerJ:function(e,t,n){e.exports=n.p+"img/illustrations/drag-and-drop-b2644e5022e7fee8520b62c29d9ba393.svg"},joSB:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n("peh1"),i=function(e){return e.viewerInsights},a=Object(r.createSelector)(i,(function(e){return e.isActive})),o=Object(r.createSelector)(i,(function(e){return e.viewers})),c=Object(r.createSelector)(i,(function(e){return e.selectedView||null}))},jyZO:function(e,t,n){"use strict";n.r(t);n("fbCW"),n("yq1k"),n("sMBO");var r=n("gZqA"),i=n("E+oP"),a=n.n(i),o=n("q1tI"),c=n.n(o),s=n("i8i4"),l=n("Vg22"),u=n("TdMD"),d=n.n(u),m=n("dwco"),f=n.n(m),p=n("0X1P"),h=n("qlqG"),v=n("8aGn"),g=n("8N09"),b=n("k6oI"),y=n("sDAx"),k=n("M/ZC"),w=n("rIMS"),_=n("9Rj7"),E=n("7EUU"),S=n("3RSf"),C=(n("yXV3"),n("+2oP"),n("rB9j"),n("EnZy"),n("SYor"),/; */);function x(e){try{return decodeURIComponent(e)}catch(t){return e}}var N=n("yUgu"),T=n("wv65"),O=n("PZeM"),I=n("0Dql"),R=n("tFcZ"),D=n("JMQS"),P=n("jvaU"),F=n("xanu"),j=n("MDHM"),A=n("ElVk"),M=n("JHYe"),L=n("p/7Z"),V=n("3Zns"),U=(n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("07d7"),n("5s+n"),n("SuFq"),n("JfAA"),n("JTJg"),n("UxlC"),n("FZtP"),n("o0o1")),B=n.n(U),q=(n("ls82"),n("yXPU")),W=n.n(q),z=n("lwsE"),G=n.n(z),H=n("W8MJ"),J=n.n(H),Q=n("PJYZ"),K=n.n(Q),$=n("7W2i"),Y=n.n($),X=n("a1gu"),Z=n.n(X),ee=n("Nsbk"),te=n.n(ee),ne=n("lSNA"),re=n.n(ne),ie=n("q4mm"),ae=n("WnLM"),oe=n.n(ae),ce=n("TSYQ"),se=n.n(ce),le=n("EVdn"),ue=n.n(le),de=n("qlJH"),me=n("ukby"),fe=n("LRsK"),pe=n("iDef"),he=function(e){var t=e.message,n=e.title,r=e.actionButtonValue;return{type:pe.xc,actionButtonValue:r,message:t,title:n}},ve=n("AGlj"),ge=n("F2AP"),be=n("CvgE"),ye=n("aPpR"),ke=n("zi8n"),we=n("V2Ro"),_e=n("TB3p"),Ee=n("LpSC"),Se=n.n(Ee),Ce=n("zixt"),xe=n("DauL"),Ne=n("kZ0K"),Te=n("zqxM"),Oe=n.n(Te),Ie=["https://www.googleapis.com/auth/contacts.readonly","https://www.googleapis.com/auth/admin.directory.user.readonly","https://www.googleapis.com/auth/gmail.send"];[].concat(["identity.basic","identity.email","identity.team","identity.avatar"],["users:read","users:read.email","chat:write:user","chat:write:bot","channels:read","groups:read","team:read","mpim:read","im:read","im:write","team:read"]),[].concat(["https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"],Ie);function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&0===Oe()(Ie,e).length}function De(){return function(e,t){var n=t().user,r=n.is_logged_in,i=n.current.oauth;if(r&&i[M.d]&&Re(i[M.d].scopes))return e(Object(h.c)()),Se()("/v1/users/google",{method:"GET",credentials:"include"}).then((function(e){if(e.status>=400)throw new Error("Oops! Error fetching google contact response: ".concat(e.status));return e.json()})).then((function(t){return e(Object(h.b)(t)),e(Object(h.a)()),t})).catch((function(t){e(Object(h.a)()),e(Object(p.b)(g.a,"Oops! There was an error fetching your google contacts")),Ne.d(t,"Exception while fetching google contact info for user")}));e(Object(h.a)())}}var Pe,Fe=n("tfKx"),je=n("4Mt1"),Ae=n("Kl37"),Me=n("MnkA"),Le=n("CtBj"),Ve=n("/Fp1"),Ue=n("NgEs"),Be=n("xmpO"),qe=n("t7Qn"),We=(n("oVuX"),n("vN+2"),["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"].join(" "),["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"].join(" ")),ze=(["visibilitychange","webkitvisibilitychange","mozvisibilitychange","msvisibilitychange"].join(" "),function(e,t){return e.one(We,t)}),Ge=n("hRRZ"),He=n("xCsE"),Je=n("LWK2"),Qe=n("SKlP"),Ke=n("5OiS"),$e=n.n(Ke),Ye=n("bZr9"),Xe=n.n(Ye),Ze=function(e){var t=e.onCloseClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Xe.a.mobileAppCardWrapper},c.a.createElement(ie.Layout,null,c.a.createElement(ie.Layout.Section,{width:"auto"},c.a.createElement(ie.Spacer,{left:"medium",top:"medium"},c.a.createElement("img",{src:$e.a}))),c.a.createElement(ie.Layout.Section,null,c.a.createElement(ie.Spacer,{top:"medium",left:"medium",right:"small"},c.a.createElement("strong",null,"Record, share, and watch on the go.")," The fastest way to record and instantly share a video from your iPhone and iPad.")),c.a.createElement(ie.Layout.Section,{width:"auto"},c.a.createElement(ie.Spacer,{right:"small",top:"small"},c.a.createElement(ie.IconButton,{altText:"Close",icon:c.a.createElement(ie.SvgClose,null),onClick:t})))),c.a.createElement(ie.Container,{padding:"medium"},c.a.createElement(ie.Button,{htmlTag:"a",href:y.d,variant:"primary",hasFullWidth:!0},"Download the app"))),c.a.createElement("div",{className:Xe.a.mobileAppCardSpacer}))},et=n("ETA3"),tt=n("wv7f"),nt=(Pe={},re()(Pe,tt.d,"This file is currently unsupported on Loom"),re()(Pe,tt.i,"Suspicious content found in file. This file will be removed from your library."),re()(Pe,tt.h,"There was an issue processing your video."),re()(Pe,tt.e,"The Frames Per Second of your video is above the allowed limit: ".concat(tt.a,"fps.")),re()(Pe,tt.g,"The resolution of your video is above the allowed limit: (4k)"),re()(Pe,tt.f,"The video length is longer than the allowed limit: ".concat(tt.b," hours")),Pe),rt="".concat(y.F,"?upload=1"),it=function(){window.location.href=y.F},at=function(){window.location.href=rt},ot=function(){var e=Object(l.useSelector)((function(e){var t,n;return null===(t=e.video_player.video)||void 0===t||null===(n=t.processing_information)||void 0===n?void 0:n.videoUploadValid})),t=Object(l.useSelector)((function(e){var t,n;return null===(t=e.video_player.video)||void 0===t||null===(n=t.processing_information)||void 0===n?void 0:n.videoUploadMessage})),n=Object(l.useSelector)((function(e){var t,n;return(null===(t=e.video_player.video)||void 0===t||null===(n=t.video_properties)||void 0===n?void 0:n.recording_version)===et.d}))&&!1===e;return c.a.createElement(ie.Modal,{isOpen:n,mainButton:c.a.createElement(ie.Button,{href:rt,htmlTag:"a",variant:"primary",onClick:at},"Upload New FIle"),secondaryButton:c.a.createElement(ie.Button,{href:y.F,htmlTag:"a",onClick:it},"Go to Personal Library")},c.a.createElement(ie.Text,{fontWeight:"bold",size:"large"},nt[t]||"The file could not be processed"))},ct=n("J4zp"),st=n.n(ct),lt=n("XYV7"),ut=n.n(lt),dt=n("p91b"),mt=n("lyd3"),ft=n.n(mt),pt=n("LO0E"),ht=n("8BwK"),vt=n.n(ht),gt=function(e){var t=e.user,n=e.renderToast,r=e.videoDurationLimit,i=Object(l.useDispatch)(),a=Object(dt.d)(),s=Object(o.useState)(!n),u=st()(s,2),d=u[0],m=u[1],f=Object(o.useMemo)((function(){return{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:a.id}}),[a.id]),p=r?r<60?"".concat(r," second"):"".concat(r/60," minute"):"";Object(o.useEffect)((function(){if(d){var e=function(){var e=W()(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.getGraphQLClient)(),e.prev=1,e.next=4,n.mutate({mutation:ft.a,variables:{userId:t.id}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),I.i(e.t0,{userId:t.id},{team:I.a});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();Object(Le.h)(ve.vc,f),e()}}),[f,d,t.id]),Object(o.useEffect)((function(){if(n){var e=c.a.createElement("div",{style:{padding:"10px"}},c.a.createElement(ie.Layout,{gap:"small",alignment:"center"},c.a.createElement(ie.Layout.Section,{width:36},c.a.createElement(ie.Text,{fontWeight:"bold"},"You hit the ",p," recording limit."),c.a.createElement(ie.Text,null,"If you have more to add, upgrade for unlimited recording time.")),c.a.createElement(ie.Layout.Section,null,c.a.createElement(ie.Button,{variant:"upgrade",icon:c.a.createElement(ie.SvgSparkle,null),onClick:function(){Object(Le.h)(ve.wc,f,(function(){window.location.href=y.J}))}},"Upgrade"))));i(Object(pt.b)(e,g.b,6e3))}}),[f,i,n,p]);var h=function(){Object(Le.h)(ve.uc,f),m(!1)};return c.a.createElement(ie.Modal,{isOpen:d,onCloseClick:h,onBackgroundClick:h,maxWidth:55},c.a.createElement("img",{className:"logo accenture",src:ut.a}),c.a.createElement(ie.Text,{fontWeight:"bold",alignment:"center",size:"large"},"You've got a lot to say!"),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Text,{alignment:"center",color:"bodyDimmed"},"You've hit the ",p," recording limit. If you have more to add, upgrade for unlimited recording time."),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Button,{variant:"upgrade",size:"large",onClick:function(){Object(Le.h)(ve.tc,f,(function(){window.location.href=y.J}))},icon:c.a.createElement(ie.SvgSparkle,null)},"Upgrade for Unlimited Recordings"),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Text,{alignment:"center",onClick:h,className:vt.a.goToVideo},"Go to my video"))},bt=n("VlAn"),yt=n.n(bt),kt=function(e){var t=e.title,n=e.onExit,r=e.height,i=e.children;return c.a.createElement(ie.Distribute,{direction:"column"},c.a.createElement(ie.Container,{borderSide:"all",width:"100%",radius:"medium"},c.a.createElement(ie.Distribute,{alignment:"center",isSpread:!0,className:yt.a.title},c.a.createElement(ie.Text,{fontWeight:"bold"},t),c.a.createElement(ie.IconButton,{altText:"Close",icon:c.a.createElement(ie.SvgClose,null),onClick:n})),c.a.createElement(ie.Container,{borderSide:"top",height:r||"auto",className:yt.a.content},c.a.createElement(ie.Distribute,null,i))))},wt=n("9yXn"),_t=n("AHYA"),Et=n("fQry"),St=n("ohBV"),Ct=n("oFKY"),xt=n.n(Ct);function Nt(e){var t=e.setSignupMode,n=e.signupMode;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Spacer,{top:3}),c.a.createElement(ie.Text,null,n?"Already have an account? ":"Need an account? ",c.a.createElement(ie.Link,{className:xt.a.loomSignupLinkWrapper,onClick:function(){t(!n),Le.h(ve.jd,{signupMode:n})}},n?"Sign In":"Sign up for free")))}var Tt=function(e){var t=e.show,n=e.onDismiss,r=e.afterAuthCallback,i=Object(o.useState)(!0),a=st()(i,2),s=a[0],l=a[1],u=Object(o.useState)(!1),d=st()(u,2),m=d[0],f=d[1],p=s?"Sign up to download":"Sign in to download",h="or sign ".concat(s?"up":"in"," with email");return c.a.createElement(ie.Modal,{isOpen:t,onCloseClick:n,onBackgroundClick:n,maxWidth:48},c.a.createElement("div",{className:xt.a.loomSignupOverlay},!m&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Text,{size:"xlarge",fontWeight:"bold"},p),c.a.createElement(ie.Spacer,{top:3}),c.a.createElement(Et.a,{isSignUp:s,overlayMode:!0,afterAuthCallback:r}),c.a.createElement(ie.Spacer,{top:3}),c.a.createElement("div",{className:xt.a.loomSignupSecondaryTitle},c.a.createElement("hr",null),c.a.createElement(ie.Spacer,{left:1}),c.a.createElement(ie.Text,{fontWeight:"bold",color:"grey5"},h),c.a.createElement(ie.Spacer,{right:1}),c.a.createElement("hr",null))),c.a.createElement(St.a,{isSignUp:s,overlayMode:!0,expanded:m,expansionHandler:f}),!m&&c.a.createElement(Nt,{signupMode:s,setSignupMode:l})))},Ot=n("2Afp"),It=n("jU2z"),Rt=n("ifde"),Dt=n("AsAe"),Pt=(n("2B1R"),n("LKBx"),n("Mn35")),Ft=n.n(Pt),jt=n("e8EB"),At=n.n(jt),Mt=n("6c1L"),Lt=n("Dd4E"),Vt=n("Ov95");n("lRop");function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Wt=function(e){Y()(n,e);var t=qt(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{peopleList:[],inviteCount:0,query:"",forceUpdate:!1}),re()(K()(e),"sendInvites",(function(){var t=e.props,n=t.selections,r=t.user;n.forEach((function(t){var n=t.id,i=t.email,a=t.name,o=a&&(a.givenName||a.familyName);e.props.postGoogleInviteCreator({invitee_google_id:n,inviter_id:r.id,invitee_email:i.value,inviter_first_name:r.first_name||r.last_name,invitee_first_name:o})})),Le.h(ve.ac,{number_of_invitees:n.length,source:"Google Contacts Invite Modal",company:r.company_name,inviter_position:r.company_position})})),re()(K()(e),"selectionHandler",(function(t){var n=e.props,r=n.googleContactInfo,i=n.selections,a=null,o=null,c=r.map((function(e){return e.id===t?(a=Bt(Bt({},e),{},{active:!e.active}),o=e.active?i.filter((function(e){return e.id!==t})):i.concat([a]),a):e}));e.props.updateGoogleContactInfo(c,o),e.setState({forceUpdate:!0})})),re()(K()(e),"selectAllHandler",(function(){var t=e.props.googleContactInfo.map((function(e){return Bt(Bt({},e),{},{active:!0})}));e.props.updateGoogleContactInfo(t,t.slice()),e.setState({forceUpdate:!0})})),re()(K()(e),"deselectAllHandler",(function(){var t=e.props.googleContactInfo.map((function(e){return Bt(Bt({},e),{},{active:!1})}));e.props.updateGoogleContactInfo(t,[]),e.setState({forceUpdate:!0})})),re()(K()(e),"filterPeople",(function(t){var n=e.props,r=n.googleContactInfo,i=n.selections,a=t&&t.target&&t.target.value,o=""===a?"":a||e.state.query,c=r.filter((function(e){if(!e)return!1;if(""===o)return!0;var t=o.toLowerCase().trim(),n=e.email&&e.email.value.toLowerCase().trim(),r=e.name&&e.name.displayName.toLowerCase().trim();return n&&n.startsWith(t)||r&&r.startsWith(t)}));e.setState({query:o,peopleList:c,inviteCount:i.length})})),re()(K()(e),"onClose",(function(){e.props.toggleGoogleInviteModal(!1)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.peopleList,r=t.inviteCount,i=this.props,a=i.selections,o=i.googleContactInfo,s=a.length===o.length,l=Ft()(n,(function(e){return e.loom_user})),u=st()(l,2),d=u[0],m=u[1],f=Ft()(m,(function(e){return e.photo.url})),p=st()(f,2),h=p[0],v=p[1],g=h.concat(v).concat(d),b=0===g.length&&""===this.state.query;return c.a.createElement("div",{className:"google-share-modal-backdrop",onClick:this.onClose},c.a.createElement("div",{className:"google-share-modal",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"close",onClick:this.onClose}),c.a.createElement("h2",{className:"prompt"}," Who Viewed Your Video"),c.a.createElement("p",{className:"instructions"},"Invite ",3," people via email to Loom and instantly unlock the ability to see who views your video."),c.a.createElement("div",{className:"search-invi"},c.a.createElement("input",{className:"search-input",placeholder:b?"":"Search to add people...",onChange:this.filterPeople,disabled:b})),c.a.createElement("ul",{className:"people-list"},g.length>0&&g.map((function(t){return c.a.createElement("li",{className:"person ".concat(t.active?"selected":""),key:t.id,onClick:t.loom_user?function(){}:function(){return e.selectionHandler(t.id)}},c.a.createElement("div",{className:"avatar"},t.photo.url&&c.a.createElement("img",{className:"avatar-image",src:t.photo.url}),!t.photo.url&&c.a.createElement("img",{className:"placeholder",src:At.a})),c.a.createElement("div",{className:"id-info"},c.a.createElement("div",{className:"govt-name"},t.name&&t.name.displayName||t.email.value,t.loom_user&&c.a.createElement("span",{className:"on-loom"},"Already on Loom")),c.a.createElement("div",{className:"slack-handle"},t.email.value)),!t.loom_user&&c.a.createElement(Lt.a,{isChecked:t.active,onEnable:function(){return e.selectionHandler(t.id)},onDisable:function(){return e.selectionHandler(t.id)}}))})),0===g.length&&!this.props.fetching&&""!==this.state.query&&c.a.createElement("li",{className:"person no-results"},"No matches for ",this.state.query),0===g.length&&!this.props.fetching&&""===this.state.query&&c.a.createElement("li",{className:"person no-results"},"No contacts found"),0===g.length&&this.props.fetching&&c.a.createElement("div",{className:"spinner"},c.a.createElement(Vt.a,{color:"dark"}))),c.a.createElement("div",{className:"select-all"},c.a.createElement("span",{className:"select-all-text",onClick:function(){s?e.deselectAllHandler():e.selectAllHandler()}},"".concat(s?"Deselect":"Select"," All Friends"))),c.a.createElement(Mt.a,{buttonType:"a1",buttonClass:"invite-button",value:r<3?"Select ".concat(3-r," friends"):"Unlock Now",onClicked:this.sendInvites,disabled:r<3})))}},{key:"componentDidMount",value:function(){this.filterPeople(),Le.h(ve.Vb,{modal_step:"invite_list"})}},{key:"componentDidUpdate",value:function(e,t){(t.query!==this.state.query||t.forceUpdate)&&(this.filterPeople(),this.setState({forceUpdate:!1}));var n=this.props,r=n.googleFetched,i=n.fetching;0!==this.props.googleContactInfo.length||r||i||this.props.fetchGoogleInfoCreator(),r&&!e.googleFetched&&this.filterPeople()}}]),n}(o.Component),zt=Object(l.connect)((function(e){var t=e.google,n=e.user,r=t.contact_info,i=t.first_fetch_done,a=t.selections,o=t.fetching;return{googleContactInfo:r||[],user:n&&n.current,googleFetched:i,selections:a,fetching:o}}),(function(e){return{toggleGoogleInviteModal:function(t){return e(Object(h.d)(t))},fetchGoogleInfoCreator:function(){return e(De())},updateGoogleContactInfo:function(t,n){return e(Object(h.g)(t,n))},postGoogleInviteCreator:function(t){return e(function(e){return function(t){var n=e.invitee_google_id,r=e.inviter_id,i=e.invitee_email,a=e.inviter_first_name,o=e.invitee_first_name,c={inviter_id:r,invitee_id:n,invite_medium:M.d,data:{invitee_email:i,invitee_first_name:o,inviter_first_name:a}};return Se()("/v1/invite/google",{method:"POST",credentials:"include",headers:re()({},Ce.b,xe.e),body:JSON.stringify(c)}).then((function(e){if(e.status>=400)throw new Error("got a bad response status: ".concat(e.status));return t(Object(h.e)(!0)),e.json()})).catch((function(e){t(Object(p.b)(g.a,"Oops! There was an error sending the invites. Please try again.")),Ne.d(e,"Error in POST to /v1/invite/google")}))}}(t))}}}))(Wt),Gt=n("V9h2"),Ht=n("WBqd"),Jt=function(){Gt.c(M.e,(function(e){var t,n=Object(P.d)("redirect_after");t=decodeURIComponent(n),Object(Ht.a)(t)||(null!=e.error?t+="?oauth_error="+e.error+"&provider="+e.provider:null!=e.provider&&(t+="?provider="+e.provider),e.loginSuccess?qe.e((function(){window.location.href=t})):window.location.href=t)}))};n("GVJq");function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Kt=function(e){Y()(n,e);var t=Qt(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"getPermissions",(function(){Jt()})),re()(K()(e),"onClose",(function(){e.props.toggleGoogleInviteModal(!1)})),e}return J()(n,[{key:"render",value:function(){var e=this.props.error;return c.a.createElement("div",{className:"google-share-modal-backdrop",onClick:this.onClose},c.a.createElement("div",{className:"google-share-modal",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"close",onClick:this.onClose}),c.a.createElement("h2",{className:"prompt"}," Who Viewed Your Video"),c.a.createElement("p",{className:"instructions"},"Invite ",3," people via email to Loom and instantly unlock the ability to see who views your video."),!e&&c.a.createElement("div",{className:"search",onClick:this.getPermissions}),!e&&c.a.createElement("div",{className:"dummy-list",onClick:this.getPermissions},c.a.createElement("div",{className:"dummy-row"},c.a.createElement("div",{className:"dummy-wrapper"},c.a.createElement("div",{className:"dummy-avatar"})),c.a.createElement("div",{className:"dummy-info"},c.a.createElement("div",{className:"dummy-name"}),c.a.createElement("div",{className:"dummy-email"})),c.a.createElement("div",{className:"dummy-check"})),c.a.createElement("div",{className:"dummy-row"},c.a.createElement("div",{className:"dummy-wrapper"},c.a.createElement("div",{className:"dummy-avatar"})),c.a.createElement("div",{className:"dummy-info"},c.a.createElement("div",{className:"dummy-name"}),c.a.createElement("div",{className:"dummy-email"})),c.a.createElement("div",{className:"dummy-check"})),c.a.createElement("div",{className:"dummy-row"},c.a.createElement("div",{className:"dummy-wrapper"},c.a.createElement("div",{className:"dummy-avatar"})),c.a.createElement("div",{className:"dummy-info"},c.a.createElement("div",{className:"dummy-name"}),c.a.createElement("div",{className:"dummy-email"})),c.a.createElement("div",{className:"dummy-check"}))),e&&c.a.createElement("div",{className:"err"},c.a.createElement("div",{className:"big-text"},"Uh oh! It Seems like we weren't able to connect your Google Account."),c.a.createElement("div",{className:"little-text"},"Loom never stores, alters or sends any information from your email account without your consent"),c.a.createElement("div",{className:"retry",onClick:this.getPermissions},"Try Again")),c.a.createElement("div",{className:"hr"}),c.a.createElement("div",{className:"goog-button",onClick:this.getPermissions},c.a.createElement("div",{className:"gicon"}),"Invite using",c.a.createElement("span",{style:{fontWeight:"600"}},"Gmail"))))}},{key:"componentDidMount",value:function(){Le.h(ve.Vb,{modal_step:this.props.error?"connect_canceled":"connect_account"})}}]),n}(o.Component),$t=Object(l.connect)(null,(function(e){return{toggleGoogleInviteModal:function(t){return e(Object(h.d)(t))}}}))(Kt),Yt=n("r3wq"),Xt=n.n(Yt);n("ET+7");function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var en=function(e){Y()(n,e);var t=Zt(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleLatest",(function(){e.onClose("/most-recent-video")})),re()(K()(e),"onClose",(function(e){e?window.location.href=e:window.location.reload()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props.inviteCount;return c.a.createElement("div",{className:"google-share-modal-backdrop",onClick:this.onClose},c.a.createElement("div",{className:"google-share-modal-success",onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"close",onClick:function(){return e.onClose()}}),c.a.createElement("div",{className:"success-sec"},"".concat(t," invites have been sent via Gmail")),c.a.createElement("div",{className:"success-primary"},"View Lists Unlocked!"),c.a.createElement("img",{src:Xt.a,className:"success-img"}),c.a.createElement("div",{className:"success-text"},"You will now be able to see who viewed your videos! Hover over the video view count to access the video view list."),c.a.createElement(Mt.a,{buttonType:"a1",buttonClass:"goto-button",value:"Go to Latest Video",onClicked:this.handleLatest})))}}]),n}(o.Component),tn=Object(l.connect)((function(e){var t=e.google,n=t.selections,r=t.contact_info;return{inviteCount:n.length||0,contactInfo:r,selections:n}}),(function(e){return{toggleGoogleInviteSuccess:function(t){return e(Object(h.e)(t))},initGoogleContactInfo:function(t){return e(Object(h.b)(t))},toggleGoogleInviteModal:function(t){return e(Object(h.d)(t))}}}))(en);function nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var rn=function(e){Y()(n,e);var t=nn(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.google,r=((t||{}).oauth||{}).google,i=Re(r&&r.scopes);return r?i?n.invite_success?c.a.createElement(tn,null):c.a.createElement(zt,null):c.a.createElement($t,{error:n.oauth_error}):null}}]),n}(o.Component),an=Object(l.connect)((function(e){var t=e.google;return{google:t,user:e.user.current,source:t.invite_modal_source}}),(function(e){return{toggleGoogleInviteModal:function(t){return e(Object(h.d)(t))}}}))(rn);function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var cn=function(e){Y()(n,e);var t=on(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){return this.props.showGoogleInviteModal?c.a.createElement(an,null):null}}]),n}(o.Component),sn=Object(l.connect)((function(e){return{showGoogleInviteModal:e.google.show_invite_modal}}),null)(cn),ln=n("LwXl"),un=n("KiTw"),dn=n("LIGj"),mn=n("Fw3N"),fn=n("ZJwE"),pn=(n("ToJy"),n("RIqP")),hn=n.n(pn),vn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe.J,fetching:e}},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:pe.od,attachments:e}},bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:pe.sd,err:e}},yn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe.yd,active:e}},kn=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe.Td,include:e}},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:pe.ud,progress:e}},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:pe.vd,attachments:e}},En=function(e){return{type:pe.wd,currentJobIndex:e}},Sn=function(e){return{type:pe.xd,totalJobs:e}},Cn=function(e){return{type:pe.td,err:e}},xn=n("Oo4i");var Nn=[],Tn=!1,On=!1,In=null,Rn=null,Dn=function(e){var t=e.attachment,n=e.file,r=e.credentials,i=e.key,a=e.mime,o=e.onError,c=void 0===o?function(){}:o,s=e.onProgress,l=void 0===s?function(){}:s,u=e.onSuccess,d=void 0===u?function(){}:u,m=e.onStart,f=void 0===m?function(){}:m;Nn.push({attachment:t,file:n,credentials:r,key:i,mime:a,onError:c,onProgress:l,onSuccess:d,onStart:f}),Tn||On||Fn()},Pn=function(e){var t=Nn.indexOf((function(t){return t.attachment.id===e}));Nn=Nn.filter((function(t){return t.attachment.id!==e})),Rn&&Rn.attachment.id===e&&(In.abort(),Rn=null,In=null),0===t&&Fn()},Fn=function(){Rn||Tn||(Tn=!0,On=!1,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];window.setTimeout(e.bind.apply(e,[null].concat(n)),0)}(jn))};function jn(){return An.apply(this,arguments)}function An(){return(An=W()(B.a.mark((function e(){var t,n,r,i,a,o,c,s,l,u,d;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tn=!0,On=!1,t=Nn.shift()){e.next=6;break}return Tn=!1,e.abrupt("return");case 6:return Rn=t,n=t.attachment,r=t.file,i=t.credentials,a=t.onError,o=t.onProgress,c=t.onSuccess,s=t.onStart,e.prev=8,s(),l=i.url,u=i.fields,d=new FormData,Object.keys(u).forEach((function(e){d.append(e,u[e])})),d.append("file",r),e.next=16,new Promise((function(e,t){(In=new XMLHttpRequest).onload=function(){this.status===Ce.h?e():t(this.responseText)},In.upload.onprogress=function(e){o(e.loaded/e.total)},In.open("POST",l,!0),In.send(d)}));case 16:Tn=!1,On=!1,In=null,Rn=null,Nn=Nn.filter((function(e){return e.attachment.id!==n.id})),c(),e.next=32;break;case 24:e.prev=24,e.t0=e.catch(8),Tn=!1,On=!0,In=null,Rn=null,Nn.unshift(t),a(e.t0);case 32:case"end":return e.stop()}}),e,null,[[8,24]])})))).apply(this,arguments)}n("toAj");function Mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var n=1e3,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(r))+" "+i[a]}n("4mDm"),n("rOQg"),n("XMab"),n("moxL"),n("qXVe"),n("c162"),n("waxf"),n("0TkE"),n("Onu3"),n("1dYe"),n("gvgV"),n("6R/c"),n("YL0P"),n("X5Zq"),n("MoCz"),n("P8wP"),n("ypFw"),n("JaFt"),n("zSZm"),n("PF2M"),n("KVSy"),n("ZJ55"),n("IZzc"),n("Fwt+"),n("s5qe"),n("cvf0");var Ln=n("67IB"),Vn=n.n(Ln),Un=function(e){var t=new FileReader;return new Promise((function(n){t.onloadend=function(e){e.target.readyState===FileReader.DONE&&n(new Uint8Array(e.target.result))},t.readAsArrayBuffer(e)}))},Bn=function(){var e=W()(B.a.mark((function e(t){var n,r,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FileReader){e.next=2;break}return e.abrupt("return",t.type);case 2:return e.next=4,Un(t.slice(0,Vn.a.minimumBytes));case 4:return n=e.sent,r=Vn.a.fromBuffer(n),i=r.mime,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=W()(B.a.mark((function e(t){var n,r,i,a=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"SHA-256",e.next=3,Un(t);case 3:return r=e.sent,e.next=6,window.crypto.subtle.digest(n,r);case 6:return i=e.sent,e.abrupt("return",Array.prototype.map.call(new Uint8Array(i),(function(e){return("00"+e.toString(16)).slice(-2)})).join(""));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wn=n("HSN7"),zn=n.n(Wn),Gn=n("r4PL"),Hn=n.n(Gn),Jn=n("2Xfm"),Qn=n.n(Jn),Kn=n("kbNZ"),$n=n.n(Kn),Yn=n("U2OM"),Xn=n.n(Yn);function Zn(e,t){0===t().attachments.upload_queue.length&&(e(wn(0)),e(En(0)),e(Sn(0)))}function er(e,t){var n=e||{},r=n.type,i=n.url,a=n.mime,o=n.name,c=n.owner_id;return{attachment_type:r,attachment_url:i,video_id:n.video_id,is_video_owner:t().share_video.current_user_is_owner,mime:a,name:o,owner_id:c}}function tr(e){return function(){var t=W()(B.a.mark((function t(n,r){var i,a,o,c,s,l,u;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=r().attachments,a=i.upload_queue,o=i.upload_queue_current_job_index,c=i.upload_queue_total_jobs,Pn(e),n(_n(hn()(a.filter((function(t){return t.id!==e}))))),n(En(o-1)),n(Sn(c-1)),Zn(n,r),s=Object(T.getGraphQLClient)(),t.next=10,s.mutate({variables:{attachmentId:e},mutation:$n.a});case 10:l=r().attachments.attachments,u=l.find((function(t){return t.id===e}))||{},n(gn(l.filter((function(t){return t.id!==e})))),Le.h(ve.p,er(u,r)),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),Ne.d(t.t0,"Oops! Error deleting attachment"),n(Object(p.b)(g.a,"Oops! Error deleting attachment"));case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,n){return t.apply(this,arguments)}}()}function nr(){return function(){var e=W()(B.a.mark((function e(t,n){var r,i,a,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n().share_video,i=r.password,a=r.video,t(vn(!0)),o=Object(T.getGraphQLClient)(),e.next=6,o.query({variables:{videoId:a.id,password:i},query:Xn.a}).then((function(e){return e.data.getAttachmentsForVideo}));case 6:c=e.sent,t(gn(c)),t(vn(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),Ne.d(e.t0,"Oops! Error fetching video attachments"),t(Object(p.b)(g.a,"Oops! Error fetching video attachments")),t(vn(!1));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()}var rr="Oh no your file is too large! Try uploading something smaller than ".concat(Mn(xn.n)),ir="You have reached your max! You can only have up to ".concat(6," attachments per video.");function ar(e){return function(){var t=W()(B.a.mark((function t(n,r){var i,a,o,c,s,l,u,d,m,f,h,v,b,y,k,w,_,E;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=r().attachments,a=i.attachments,o=i.createWithTimestamp,!(e.size>xn.n)){t.next=6;break}return t.abrupt("return",n(bn(rr)));case 6:if(!(a.length>=6)){t.next=8;break}return t.abrupt("return",n(bn(ir)));case 8:return n(bn(null)),c=r().share_video.video.id,s=r().video_player.current_time,t.next=13,Bn(e);case 13:if(t.t1=t.sent,t.t1){t.next=16;break}t.t1=e.type;case 16:if(t.t0=t.t1,t.t0){t.next=19;break}t.t0="";case 19:return l=t.t0,t.next=22,qn(e);case 22:return u=t.sent.slice(0,32),d=e.name,m={fileHash:u,mime:l,name:d,videoId:c},o&&(m.videoTimestamp=Math.round(s)),f=Object(T.getGraphQLClient)(),t.next=29,f.mutate({mutation:Qn.a,variables:m}).then((function(e){return e.data.createUploadAttachmentForVideo}));case 29:if(h=t.sent,v=h.attachment,b=h.credentials,y=h.key,k=[v].concat(hn()(a)).sort((function(e){return e.video_timestamp})),n(gn(k)),!v.upload_complete){t.next=37;break}return t.abrupt("return");case 37:w=r().attachments,_=w.upload_queue,E=w.upload_queue_total_jobs,n(_n([].concat(hn()(_),[v]))),n(Sn(E+1)),Dn({attachment:v,file:e,credentials:b,key:y,onError:function(e){Ne.d(e,"Oops! Error uploading attachment"),n(wn(0)),n(Cn(e))},onProgress:function(e){n(wn(e))},onSuccess:function(){Le.h(ve.o,er(v,r)),n(wn(1)),n(cr(v.id)),window.setTimeout((function(){var e=r().attachments.upload_queue;n(_n(hn()(e.filter((function(e){return e.id!==v.id}))))),Fn(),Zn(n,r)}),3e3)},onStart:function(){var e=r().attachments.upload_queue_current_job_index;n(En(e+1)),n(wn(0)),n(Cn(null))}}),t.next=47;break;case 43:t.prev=43,t.t2=t.catch(0),Ne.d(t.t2,"Oops! Error uploading attachment"),n(Object(p.b)(g.a,"Oops! Error uploading attachment"));case 47:case"end":return t.stop()}}),t,null,[[0,43]])})));return function(e,n){return t.apply(this,arguments)}}()}function or(e){return function(){var t=W()(B.a.mark((function t(n,r){var i,a,o,c,s,l,u,d,m,f;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=r().attachments,a=i.attachments,o=i.createWithTimestamp,!(a.length>=6)){t.next=4;break}return t.abrupt("return",n(bn(ir)));case 4:return n(bn(null)),c=r().share_video.video.id,s=r().video_player.current_time,/^http(s)?/i.test(l=e)||(l="https://".concat(e)),u={name:e,url:l,videoId:c},o&&(u.videoTimestamp=Math.round(s)),d=Object(T.getGraphQLClient)(),t.next=14,d.mutate({mutation:Hn.a,variables:u}).then((function(e){return e.data.createLinkAttachmentForVideo}));case 14:m=t.sent,f=[m].concat(hn()(a)).sort((function(e){return e.video_timestamp})),n(gn(f)),Le.h(ve.o,er(m,r)),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),Ne.d(t.t0,"Oops! Error creating link attachment"),n(Object(p.b)(g.a,"Oops! Error creating link attachment"));case 24:case"end":return t.stop()}}),t,null,[[0,20]])})));return function(e,n){return t.apply(this,arguments)}}()}function cr(e){return function(){var t=W()(B.a.mark((function t(n,r){var i,a,o,c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=Object(T.getGraphQLClient)(),t.next=4,i.mutate({mutation:zn.a,variables:{attachmentId:e}}).then((function(e){return e.data.completeUploadVideoAttachment}));case 4:a=t.sent,o=r().attachments.attachments,c=[a].concat(hn()(o.filter((function(t){return t.id!==e})))),n(gn(c)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),Ne.d(t.t0,"Oops! Error completing upload attachment"),n(Object(p.b)(g.a,"Oops! Error completing upload attachment"));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()}var sr=n("D39V"),lr=n.n(sr),ur=n("Tmf2"),dr=n.n(ur),mr=n("vl0+"),fr=n.n(mr);n("VRSQ");function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var hr=function(e){Y()(n,e);var t=pr(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleCancel",(function(){e.props.deleteAttachment(e.props.uploadQueue[0].id)})),re()(K()(e),"handleRetry",(function(){Fn()})),e}return J()(n,[{key:"render",value:function(){var e,t=this.props,n=t.currentJobIndex,r=t.currentJobName,i=t.error,a=t.totalJobs,o=t.uploadProgress,s=i?"Error with":"Uploading",l=" (".concat(n,"/").concat(a,")"),u="".concat(s," ").concat(r),d="",m=null,f=c.a.createElement("span",{className:"cancel",onClick:this.handleCancel},""),p={width:"100%"};return i?(e=lr.a,d="error",m=c.a.createElement("span",{className:"retry",onClick:this.handleRetry},"Re-Upload")):1===o?(e=dr.a,d="success",f=null):(e=fr.a,p.width="".concat(100*o,"%")),c.a.createElement("div",{className:"attachment-upload-progress-modal ".concat(d)},c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"content"},c.a.createElement("img",{src:e}),c.a.createElement("div",{className:"indicator"},c.a.createElement("span",null,u),c.a.createElement("span",{className:"item-progress"},l),m),f),c.a.createElement("span",{className:"progress-bar",style:p})))}}]),n}(o.Component),vr=Object(l.connect)((function(e){var t=e.attachments,n=t.upload_error,r=t.upload_progress,i=t.upload_queue,a=t.upload_queue_current_job_index,o=t.upload_queue_total_jobs;return{currentJobName:i[0].name,error:n,uploadProgress:r,uploadQueue:i,currentJobIndex:a,totalJobs:o}}),(function(e){return{deleteAttachment:function(t){return e(tr(t))}}}))(hr),gr=n("sI3t"),br=n.n(gr),yr=n("jvlp"),kr=n("05F2"),wr=n.n(kr),_r=n("kHQO"),Er=n.n(_r),Sr=n("tdDo"),Cr=n.n(Sr),xr=n("usMN"),Nr=n.n(xr),Tr=n("rQru"),Or=n.n(Tr),Ir=n("UFwS"),Rr=n.n(Ir),Dr=n("gcvy"),Pr=n.n(Dr);n("5+A8");function Fr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var jr=/^http(s)?/i,Ar=/\.(doc|docx|pages|one)/i,Mr=/\.(jpeg|jpg|png|bmp)/i,Lr=/\.(key|ppt|pptx|pub)/i,Vr=/\.(numbers|xls|xlsx|accdb)/i,Ur=/\.(zip|gzip|tar|rar|bin)/i,Br=function(e){Y()(n,e);var t=Fr(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{downloading:!1,downloadProgress:0,downloadProgressInstance:null,faviconAvailable:!0}),re()(K()(e),"handleFaviconError",(function(){e.setState({faviconAvailable:!1})})),re()(K()(e),"handleClick",(function(){var t=e.props.attachment;if("link"===t.type)return Le.h(ve.q,e.getTrackProperties()),window.open(t.url,"_blank");e.handleDownload()})),re()(K()(e),"handleDownload",(function(){if(e.state.downloading)return!1;var t=e.props.attachment,n=t.download_url,r=t.name,i=new yr.a((function(t){return e.setState({downloadProgress:t})}),(function(){Le.h(ve.q,e.getTrackProperties()),e.resetDownloadState(),i.save()}),(function(){return e.resetDownloadState()}));i.fetch(n,r),e.setState({downloading:!0,downloadProgressInstance:i})})),re()(K()(e),"resetDownloadState",(function(){e.setState({downloading:!1,downloadProgress:0,downloadProgressInstance:null})})),re()(K()(e),"getTrackProperties",(function(){var t=e.props,n=t.attachment,r=n.type,i=n.url,a=n.mime,o=n.name,c=n.owner_id,s=t.currentUserIsOwner;return{video_id:t.videoId,is_video_owner:s,attachment_type:r,attachment_url:i,mime:a,name:o,owner_id:c}})),e}return J()(n,[{key:"render",value:function(){var e,t=this.props.attachment,n=this.state,r=n.downloading,i=n.downloadProgress,a=this.getAttachmentIconAndCategory(),o=a.icon,s=a.category;return e="link"===t.type?"View":"Download",c.a.createElement("div",{className:"attachment-bar-item"},c.a.createElement("div",{className:"info"},c.a.createElement("span",null,t.name),c.a.createElement("span",{onClick:this.handleClick},e," ",s)),!r&&c.a.createElement("img",{onError:this.handleFaviconError,src:o}),r&&c.a.createElement(br.a,{percentage:i,strokeWidth:10,styles:{path:{stroke:Object(ie.getColorValue)("blurple"),strokeLinecap:"round"},trail:{stroke:Object(ie.getColorValue)("white")}}}))}},{key:"componentWillUnmount",value:function(){this.state.downloadProgressInstance&&this.state.downloadProgressInstance.abort()}},{key:"getAttachmentIconAndCategory",value:function(){return"link"===this.props.attachment.type?this.getAttachmentIconAndCategoryForLink():this.getAttachmentIconAndCategoryForUpload()}},{key:"getAttachmentIconAndCategoryForLink",value:function(){var e=this.props.attachment.url;e=e.toLowerCase().trim(),jr.test(e)||(e="https://".concat(e));var t=document.createElement("a");if(t.href=e,this.state.faviconAvailable)return{icon:"https://logo.clearbit.com/".concat(t.hostname),category:"Link"};var n=t.pathname;return Mr.test(n)?{icon:Er.a,category:"Link"}:Ur.test(n)?{icon:Pr.a,category:"Link"}:Lr.test(n)?{icon:Nr.a,category:"Link"}:Ar.test(n)?{icon:wr.a,category:"Link"}:Vr.test(n)?{icon:Or.a,category:"Link"}:{icon:Cr.a,category:"Link"}}},{key:"getAttachmentIconAndCategoryForUpload",value:function(){var e=this.props.attachment.mime;if(0===e.indexOf("image/"))return{icon:Er.a,category:"Image"};if(0===e.indexOf("video/"))return{icon:Rr.a,category:"Video"};if(e.indexOf("epub")>-1)return{icon:Nr.a,category:"Presentation"};if(e.indexOf("officedocument")>-1||e.indexOf("opendocument")>-1){if(e.indexOf(".text")>-1||e.indexOf(".document")>-1)return{icon:wr.a,category:"Document"};if(e.indexOf(".presentation")>-1)return{icon:Nr.a,category:"Presentation"};if(e.indexOf(".spreadsheet")>-1||e.indexOf(".sheet")>-1)return{icon:Or.a,category:"Spreadsheet"}}return e.indexOf("zip")>-1||e.indexOf("compressed")>-1||0===e.indexOf("application/")?{icon:Pr.a,category:"Zip"}:{icon:wr.a,category:"Document"}}}]),n}(o.Component),qr=function(e){Y()(n,e);var t=Fr(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.attachments,n=e.currentUserIsOwner,r=e.shouldNotLoad,i=e.videoId;return!t.length||r?c.a.createElement("div",{className:"attachments-bar empty"}):c.a.createElement("div",{className:"attachments-bar"},t.map((function(e){return c.a.createElement(Br,{key:e.id,attachment:e,currentUserIsOwner:n,videoId:i})})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.attachmentsFetchedOnce,n=e.shouldNotLoad;t||n||this.props.fetchAllAttachmentsCreator()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.needsPassword,r=t.password;if(n&&null==e.password&&null!=r)return this.props.fetchAllAttachmentsCreator()}}]),n}(o.Component),Wr=Object(l.connect)((function(e){var t=e.attachments,n=t.attachments,r=t.fetched_once,i=e.share_video,a=i.current_user_is_owner,o=i.password,c=i.video,s=c.id,l=c.needs_password,u=c.viewer_needs_permission;return{attachments:n,attachmentsFetchedOnce:r,currentUserIsOwner:a,needsPassword:l,password:o,shouldNotLoad:l&&!o||u,videoId:s}}),(function(e){return{fetchAllAttachmentsCreator:function(){return e(nr())}}}))(qr),zr=(n("pDQq"),n("J2m7")),Gr=n.n(zr),Hr=n("UfWW"),Jr=n.n(Hr),Qr=n("Wt1U"),Kr=n.n(Qr),$r=function(e){return{type:pe.md,err:e}},Yr=function(e){return{type:pe.ld,err:e}},Xr=function(e){return{type:pe.nd,addReplyId:e}},Zr=function(e){return{type:pe.rd,anonUserName:e}},ei=function(e){return{type:pe.Nd,comments:e}},ti=function(e){return{type:pe.Od,timestamp:e}},ni=function(e){return{type:pe.Pd,frozen:e}},ri=function(e){return{type:pe.be,expandedIds:e}},ii=function(e){return{type:pe.se,inGuestFlow:e}},ai=function(e){return{type:pe.te,inGuestFlowReply:e}},oi=function(e){return{type:pe.xe,isFetching:e}},ci=n("rpm1");function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return function(r,i){r(oi(!0));var a=i(),o=a.comments,c=a.share_video,s=c.video.id,l=c.password,u=o.anon_user_name,d=o.comments,m=o.time_stamp,f=m>0?"?t=".concat(m,"s"):"",h=(u||"").substring(0,200),v={content:e,password:l,time_stamp:m,user_name:h,video_id:s,mentions:{text:"".concat(ue()(".add-comment-content")[0].innerText," ").concat(Object(ci.a)(s,y.A)).concat(f),mentions:n}};return fetch("/v1/auth/anon_username",{credentials:"include",headers:re()({},Ce.b,xe.e),method:"PATCH",body:JSON.stringify({user_name:u})}),fetch("/v1/comments/post",{credentials:"include",headers:re()({},Ce.b,xe.e),method:"POST",body:JSON.stringify(v)}).then((function(e){if(e.status>=400)throw{status:e.status,type:"serverError",message:"Server error adding comment"};return e.json()})).then((function(e){t.value("");var i=d.concat(e).sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}));r(ei(i)),Le.h(ve.xd,{comment_id:e.id,video_id:s,mentions:Object.keys(n).length}),r(oi(!1))})).catch((function(e){r(Yr(e.message.substring(0,12))),r(Object(p.b)(g.a,e.message)),r(oi(!1)),"serverError"!==e.type&&I.e(e,{videoId:s,name:v.user_name},{team:"create"})}))}}function di(e,t,n){return function(r,i){var a=i(),o=a.comments,c=a.share_video,s=c.video.id,l=c.password,u=o.anon_user_name,d=o.comments,m=o.time_stamp,f={content:e,password:l,time_stamp:m,user_name:u.length>0?u:null,comment_post_id:t,video_id:s,mentions:{text:"".concat(ue()(".add-reply-content")[0].innerText," ").concat(Object(ci.a)(s,y.A)),mentions:n}};return fetch("/v1/comments/reply",{credentials:"include",headers:re()({},Ce.b,xe.e),method:"POST",body:JSON.stringify(f)}).then((function(e){if(e.status>=400)throw{status:e.status,type:"serverError",message:"Server error adding reply"};return e.json()})).then((function(e){var i=li({},Gr()(d,{id:e.comment_post_id})),a=Jr()(d,{id:i.id}),o=d.slice(0);i.replies=(i.replies||[]).concat(li(li({},e),{},{force_show:!0})),o.splice(a,1,i),r(ei(o)),r(Xr(null)),Le.h(ve.yd,{comment_id:t,video_id:s,mentions:Object.keys(n).length})})).catch((function(e){r($r(e.message.substring(0,12))),r(Object(p.b)(g.a,e.message)),"serverError"!==e.type&&I.e(e,{videoId:s,commentId:t},{team:"create"})}))}}function mi(e){return function(t,n){t(oi(!0));var r=n().share_video.password,i=n().comments.comments;return fetch("/v1/comments/post/".concat(e),{credentials:"include",headers:re()({},Ce.b,xe.e),method:"DELETE",body:JSON.stringify({password:r})}).then((function(e){if(e.status>=400)throw{status:e.status,type:"serverError",message:"Server error deleting comment"}})).then((function(){var n=Gr()(i,{id:e}),r=Kr()(i,n).sort((function(e,t){return e.time_stamp-t.time_stamp}));t(ei(r)),t(oi(!1))})).catch((function(n){t(Object(p.b)(g.a,n.message)),t(oi(!1)),"serverError"!==n.type&&I.e(n,{commentId:e},{team:"create"})}))}}function fi(e){return function(t,n){var r=n().share_video.password,i=n().comments,a=i.comments,o=i.expanded_ids;return fetch("/v1/comments/reply/".concat(e.id),{credentials:"include",headers:re()({},Ce.b,xe.e),method:"DELETE",body:JSON.stringify({password:r})}).then((function(e){if(e.status>=400)throw{status:e.status,type:"serverError",message:"Server error deleting reply"}})).then((function(){var n=li({},Gr()(a,{id:e.comment_post_id})),r=Jr()(a,{id:n.id}),i=a.slice(0);n.replies=Kr()(n.replies,e),i.splice(r,1,n),t(ei(i)),0===n.replies.length&&t(ri(Kr()(o,e.comment_post_id)))})).catch((function(n){t(Object(p.b)(g.a,n.message)),"serverError"!==n.type&&I.e(n,{commentId:e.comment_post_id,replyId:e.id},{team:"create"})}))}}function pi(){return function(e,t){e(function(){return{type:pe.K}}());var n=t().share_video,r={video_id:n.video.id,password:n.password};return fetch("/v1/comments",{credentials:"include",headers:re()({},Ce.b,xe.e),method:"POST",body:JSON.stringify(r)}).then((function(e){if(e.status>=400)throw{status:e.status,type:"serverError",message:"Server error fetching comments"};return e.json()})).then((function(t){e(ei(t))})).catch((function(t){e(function(e){return{type:pe.fe,fetchingError:e}}(t.message)),e(Object(p.b)(g.a,t.message)),"serverError"!==t.type&&I.e(t,{videoId:r.video_id},{team:"create"})}))}}n("piMb");var hi=n("uasF"),vi=n("7SIB"),gi=n.n(vi),bi=n("imBb"),yi=n.n(bi),ki=n("cozy"),wi=n("T/9b"),_i=(n("qePV"),n("wMS7")),Ei=n.n(_i),Si=n("p46w"),Ci=n.n(Si),xi=n("wd/R"),Ni=n.n(xi),Ti=n("9EQE"),Oi=n("Dk2s"),Ii=n("OqXw"),Ri=n("dwPx");function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fi=["a","b","br","p","div","u","i","span"],ji=["href","data-seconds","class","target"],Ai=function(e){return Ni.a.updateLocale("en",Object(Ri.e)()),"".concat(Ni()().from(e,!0))},Mi=function(e){if(e.preventDefault(),e.stopPropagation(),e.target.className.indexOf("external-link")>-1)return Object(P.e)(e.target.href);var t=e.target.getAttribute("data-seconds");if(t){var n=Number(t);return window.top.postMessage({type:be.c,numSeconds:n},"*"),!1}},Li=function(e){return Ni()(e.createdAt).isBefore("2018-02-15T22:00:00-0000")?e.content:Ei.a.sanitize(e.content,{ALLOWED_TAGS:Fi,ALLOWED_ATTR:ji})},Vi=function(e,t,n){return!!t||(n.is_logged_in?e.user_id===n.current.id:Ci.a.get(A.b)===e.anon_user_id)},Ui=function(e,t,n,r,i){var a=ue()(n)[0];if(a){var o=document.createElement("div"),c="<span class='mention' contentEditable=\"false\">".concat(i).concat(e.name,"</span> ");return o.innerHTML=a.innerHTML,o.lastChild&&o.lastChild.innerText?(o.lastChild.innerText=o.lastChild.innerText.slice(0,-1*t.length),o.lastChild.innerHTML="".concat(o.lastChild.innerHTML).concat(c)):(o.innerHTML=o.innerHTML.slice(0,-1*t.length),o.innerHTML="".concat(o.innerHTML).concat(c)),a.innerHTML=o.innerHTML,Object(Ii.i)(a),Pi(Pi({},r),{},re()({},"".concat(i).concat(e.name),"".concat(i).concat(e.id)))}},Bi=function(e){var t=Math.min(Math.round(.8*e),Oi.a);return{width:t,height:Math.round(9/16*t)}},qi=function(){document.querySelectorAll(Ti.b).forEach((function(e){var t=e.offsetWidth;e.querySelectorAll("iframe").forEach((function(e){var n=Bi(t),r=n.width,i=n.height;e.width=r,e.height=i}))})),document.querySelectorAll(Ti.d).forEach((function(e){var t=e.offsetWidth;e.querySelectorAll("iframe").forEach((function(e){var n=Bi(t),r=n.width,i=n.height;e.width=r,e.height=i}))}))},Wi=n("0Syt"),zi=function(e){return Hi(Ji(e.value().trim())).replace(/<p>&nbsp;<\/p>/g,"")},Gi=function(e){var t=/^www/.test(e)?"//".concat(e):e;return'<a target="_blank" class="external-link" href="'.concat(t,'">').concat(e,"</a>")},Hi=function(e){var t=ue()("<div></div>").html(e);return t.find("a:not(.".concat(Ti.g,")")).replaceWith((function(){return ue()(this).text()})),t.html().replace(Wi.e,Gi)},Ji=function(e){var t=ue()("<div></div>").html(e);return t.find(".".concat(Ti.g)).replaceWith((function(){return ue()(this).text()})),t.html().replace(Wi.c,(function(e){var t=e;2===t.split(":").length&&(t="00:".concat(e));var n=Ni.a.duration(t).asSeconds();return['<a href="#" class="'.concat(Ti.g,'" data-seconds="').concat(n,'">'),"".concat(e,"</a>")].join("")}))},Qi=n("IVYN");n("fjF0");function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var $i=function(e){Y()(n,e);var t=Ki(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{editing:!1,input_val:""}),re()(K()(e),"onChange",(function(t){return e.setState({input_val:t.target.value})})),re()(K()(e),"onKeyDown",(function(t){switch(t.keyCode){case Qi.e:e.validateAndInsertTimestamp();break;case Qi.f:e.resetTimestamp()}})),re()(K()(e),"resetTimestamp",(function(){e.setState({editing:!1}),e.props.updateCommentsTimestampFrozen(!1)})),re()(K()(e),"validateAndInsertTimestamp",(function(){var t=e.props.duration;if(null!=e.input){var n=e.input.value;if(Wi.h.test(n)){if(null!==t&&n>t)return e.resetTimestamp();e.props.updateCommentsTimestamp(n),e.setState({editing:!1})}else try{var r=Object(Ri.a)(e.input.value);if(null!==t&&r>t)return e.resetTimestamp();e.props.updateCommentsTimestamp(r),e.setState({editing:!1})}catch(t){e.resetTimestamp()}}})),re()(K()(e),"switchToEditingMode",(function(){var t=e.props.timestamp;e.setState({input_val:t}),e.setState({editing:!0}),e.props.updateCommentsTimestampFrozen(!0)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.commentsEnabled,r=t.duration,i=t.timestamp,a=t.companyFeatureData,o=t.currentUserIsOwner,s=(a||{}).brand_primary_color,l=this.state,u=l.editing,d=l.input_val,m=s&&!o?{borderBottom:"1px solid ".concat(s)}:null,f="";return n||(f="comments-disabled"),c.a.createElement("div",{className:"time-handler"},u?c.a.createElement("input",{autoFocus:!0,type:"text",className:"timestamp-edit",ref:function(t){return e.input=t},onBlur:this.validateAndInsertTimestamp,onFocus:this.moveCaretAtEnd,onKeyDown:this.onKeyDown,onChange:this.onChange,value:d,maxLength:"8"}):c.a.createElement("span",{className:"playback-timestamp ".concat(f),style:m,onClick:this.switchToEditingMode},Object(Ri.d)(i)),r&&c.a.createElement("span",{className:"playback-duration"}," / ".concat(Object(Ri.d)(Math.round(r)))))}},{key:"moveCaretAtEnd",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t}}]),n}(o.Component),Yi=Object(l.connect)((function(e){var t=e.comments,n=t.time_stamp_frozen,r=t.time_stamp,i=e.share_video.video,a=i.video_properties.duration;return{commentsEnabled:i.comments_enabled,duration:a,timestamp:r,timestampFrozen:n,companyFeatureData:i.company_feature_data,currentUserIsOwner:e.share_video.current_user_is_owner}}),(function(e){return{updateCommentsTimestamp:function(t){return e(ti(t))},updateCommentsTimestampFrozen:function(t){return e(ni(t))}}}))($i),Xi=n("/TyM");n("NhRX");function Zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ea={anon_user_name:"",anon_user_name_error:null,guest_name_box:!1},ta=function(e){Y()(n,e);var t=Zi(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",ea),re()(K()(e),"addComment",(function(){var t=e.state.anon_user_name;t?(e.props.updateAnonUserName(t),e.props.addComment()):e.setState({anon_user_name_error:"Please enter a valid name"})})),re()(K()(e),"updateAnonUserName",(function(t){e.setState({anon_user_name_error:null}),e.setState({anon_user_name:t})})),re()(K()(e),"resetNoGuestFlow",(function(){e.setState(ea)})),e}return J()(n,[{key:"render",value:function(){var e=this.state,t=e.anon_user_name,n=e.anon_user_name_error,r=this.props.buttonStyle;return c.a.createElement("div",{className:"guest-name-box"},c.a.createElement("span",{className:"back-guest",onClick:this.props.resetNoGuestFlow},"back"),n&&c.a.createElement("p",{className:"error"},n),c.a.createElement(Xi.a,{inputClass:"guest-name-input",fieldValue:t,fieldId:"guest-name-input",fieldLabel:"Full Name",severity:n?"error":"",onChange:this.updateAnonUserName,onEnter:this.onCompanyEnter}),c.a.createElement(Mt.a,{buttonClass:"guest-submit",style:r,buttonType:"rp-primary-4",value:"Post",onClicked:this.addComment}))}},{key:"componentDidMount",value:function(){var e=Object(Gt.a)();this.props.updateAnonUserName(e),this.setState({anon_user_name:e,guest_name_box:!0,log_in:!1})}}]),n}(o.Component),na=Object(l.connect)(null,(function(e){return{updateAnonUserName:function(t){return e(Zr(t))}}}))(ta),ra=function(){return{type:pe.B}},ia=n("3zRz");function aa(){return function(e,t){var n=t().user,r=n.is_logged_in,i=n.current.oauth;if(r&&i.slack&&Object(ia.a)(i.slack.scopes))return e(function(){return{type:pe.Gc}}()),Se()("/v1/users/slack",{method:"GET",credentials:"include"}).then((function(e){if(e.status>=400)throw new Error("Oops! Error fetching slack response: ".concat(e.status));return e.json()})).then((function(t){return e(function(e){return{type:pe.wf,team_info:e}}(t)),e(function(e){return{type:pe.ac,channel_content:e.channels.map((function(e){return{channel:e,active:!1}})),dm_content:e.people.map((function(e){return{dm:e,active:!1}}))}}(t)),e(ra()),t})).catch((function(t){e(ra()),Ne.d(t,"Exception while fetching slack info for user")}));e(ra())}}var oa=n("Hgux"),ca=n.n(oa);n("T9Wy");function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var la=function(e){Y()(n,e);var t=sa(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{query:"",visible:!1,suggestions:[],selection:0}),re()(K()(e),"handleDropDownSelection",(function(){var t=e.state,n=t.suggestions,r=t.selection,i=t.query,a=e.props.trigger,o=n[r];e.setState({visible:!1,suggestions:[],query:""}),e.props.handleSelection({result:o,query:i},a)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.suggestions,r=t.visible,i=t.selection,a=t.query,o=this.props,s=o.title,l=o.showTrigger,u=o.trigger,d=a&&a.slice(this.props.trigger.length);if(!n||0===n.length||!r)return c.a.createElement("div",null);var m=n.map((function(t,n){var r=t.name,a=t.username,o=t.avatar,s=c.a.createElement("span",{className:"emphasis"},"".concat(l?u:"").concat(r.slice(0,d.length))),m=r.slice(d.length),f=i===n?" selected":"";return!r||a||o?c.a.createElement("div",{className:"dm-row".concat(f),key:n,onMouseDown:function(){return e.handleDropDownSelection()},onMouseOver:function(){return e.setState({selection:n})}},c.a.createElement("img",{src:o,className:"photo"}),c.a.createElement("div",{className:"name"},s,m),c.a.createElement("div",{className:"username"},a)):c.a.createElement("div",{className:"name-only".concat(f),onMouseDown:function(){return e.handleDropDownSelection()},onMouseOver:function(){return e.setState({selection:n})},key:n},s,m)}));return c.a.createElement("div",{className:"mentions-drop-down",style:{},ref:function(t){return e.menu=t}},c.a.createElement("div",{className:"title"},s),m)}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.props.selfPositioning){var n=Object(Ii.d)(window),r=n.x,i=n.y;r&&i&&(this.menu.style.left="".concat(r,"px"),this.menu.style.top="".concat(i+28,"px"))}if(t.query!==this.state.query){var a=this.props.suggestions,o=void 0===a?[]:a,c=this.state,s=c.query,l=c.visible,u=o.filter((function(e){return e.name.toLowerCase().startsWith(s.slice(1).toLowerCase())}));u&&0!==u.length?l&&this.setState({suggestions:u}):this.setState({visible:!1})}}},{key:"componentDidMount",value:function(){var e=this.props.editorClass,t=this;!function(e){Object(Ii.j)((function(){window.setTimeout((function(){e()}),0)}))}((function(){ue()(e).each((function(){this&&(this.addEventListener("keydown",(function(e){var n=t.state,r=n.suggestions,i=n.selection,a=n.visible,o=n.query,c=r.length-1;if(a){switch(e.key){case"ArrowDown":i===c?t.setState({selection:0}):t.setState({selection:i+1});break;case"ArrowUp":0===i?t.setState({selection:c}):t.setState({selection:i-1});break;case"Enter":a&&i<=c?t.handleDropDownSelection():t.setState({visible:!1,query:""});break;case"Backspace":return a&&o.slice(-1)===t.props.trigger&&t.setState({visible:!1,selection:0,suggestions:[]}),void(0===o.length?t.setState({visible:!1,suggestions:[]}):t.setState({query:o.slice(0,-1)}));case"Escape":t.setState({visible:!1,selection:0,suggestions:[]});break;default:return}e.preventDefault()}})),this.addEventListener("keypress",(function(e){var n=t.state,r=n.query;n.visible?t.setState({query:"".concat(r).concat(e.key)}):e.key===t.props.trigger&&t.setState({visible:!0,query:t.props.trigger})})))}))}))}},{key:"handleClickOutside",value:function(e){this.state.visible&&!ue()(e.target).parents(".mentions-drop-down").length&&this.setState({visible:!1})}}]),n}(o.PureComponent),ua=ca()(la);function da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ma=function(e){Y()(n,e);var t=da(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.listeneeClass,n=e.slack,r=e.onMentionClick,i=n.team_info;return i?c.a.createElement("div",null,c.a.createElement(ua,{title:"People",editorClass:ue()(t),trigger:"@",handleSelection:r,selfPositioning:!0,suggestions:i.people.map((function(e){return{username:e.name,name:e.profile.real_name||e.name,avatar:e.profile.image_72,id:e.id}}))}),c.a.createElement(ua,{title:"Channel",editorClass:ue()(t),trigger:"#",showTrigger:!0,handleSelection:r,selfPositioning:!0,suggestions:i.channels.map((function(e){return{name:e.name,id:e.id}}))})):null}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.slack;e.team_info||e.fetching||this.props.getSlackInfoCreator()}},{key:"componentDidMount",value:function(){var e=this,t=ue()(this.props.listeneeClass);t[0]&&t[0].addEventListener("keydown",(function(){e.forceUpdate()}))}}]),n}(o.Component),fa=Object(l.connect)((function(e){return{slack:e.slack}}),(function(e){return{getSlackInfoCreator:function(){return e(aa())}}}))(ma);n("I55H");function pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ha=function(e){Y()(n,e);var t=pa(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props.url;return c.a.createElement("div",{className:"add-url-to-video"},c.a.createElement("div",{className:"add-url-to-video-text",onClick:this.props.onClickAdd},c.a.createElement("span",null,"Add link to page you recorded on?"),c.a.createElement("span",null,e)),c.a.createElement("span",{className:"close",onClick:this.props.onClickClose}))}}]),n}(c.a.PureComponent),va=Object(l.connect)((function(e){return{url:e.share_video.url_for_display}}))(ha),ga=n("PIJk");n("QcYm");function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ya=function(e){Y()(n,e);var t=ba(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{did_mount:!1,add_comment_active:!1,comment_mentions:{},show_add_link_bar:!1,render_add_link_bar:!0}),re()(K()(e),"handleCommentClickThroughAreaClick",(function(){e.props.commentsEnabled&&e.addCommentContent.focus()})),re()(K()(e),"handleAddLinkToDescription",(function(){var t=e.props.video,n=t.id,r=t.video_properties.from_url,i=void 0===r?null:r;if(null!=i){Le.h(ve.Ad,{has_content:e.stripMediumContent().trim().length>0,video_id:n});var a="<div>".concat(i,"</div>");e.medium.value(e.medium.value()+a),e.validateComment(),e.setState({show_add_link_bar:!1})}})),re()(K()(e),"handleCloseAddLinkBar",(function(t){e.setState({show_add_link_bar:!1,render_add_link_bar:t})})),re()(K()(e),"addComment",(function(){var t=e.props,n=t.isInGuestFlow,r=t.isLoggedIn;if(t.commentsEnabled){var i=e.stripMediumContent();if(0!==i.length){if(!r&&!n)return e.props.updateInGuestFlow(!0);e.removeInlineCommentReplyVideo(),e.props.addComment(i,e.medium,e.state.comment_mentions),e.props.updateInGuestFlow(!1),e.setState({comment_mentions:{}})}else e.props.updateAddCommentError("Cannot be empty")}})),re()(K()(e),"stripMediumContent",(function(){if(null!=e.medium)return zi(e.medium)})),re()(K()(e),"resetGuestFlow",(function(){e.props.updateInGuestFlow(!1)})),re()(K()(e),"populateInlineCommentReplyVideo",function(){var t=W()(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.addCommentContent.innerText=e.addCommentContent.innerText+n,e.linkPreviewHtml=null,t.prev=2,!hi.textReplace){t.next=7;break}return t.next=6,Object(hi.textReplace)(n,Bi(e.addCommentContent.offsetWidth));case 6:e.linkPreviewHtml=t.sent;case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Ne.d(t.t0,"Error while populating link preview",{videoUrl:n});case 12:e.addCommentLinkPreviewDiv.innerHTML=e.linkPreviewHtml+e.addCommentLinkPreviewDiv.innerHTML,e.validateComment();case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()),re()(K()(e),"removeInlineCommentReplyVideo",(function(){e.addCommentContent.innerText=e.addCommentContent.innerText.replace(e.props.videoReplyUrl,""),e.props.updateWebRecordingUtilityRecordedVideo(null),e.validateComment()})),re()(K()(e),"validateComment",(function(){e.setState({add_comment_active:e.addCommentContent&&""!==e.addCommentContent.innerText}),e.props.updateAddCommentError(null),e.medium.html.placeholders()})),re()(K()(e),"addMousetrapBindings",(function(){yi()(e.addCommentContent).bind([wi.c,wi.b],(function(){e.addComment()}))})),re()(K()(e),"addMention",(function(t,n){var r=t.result,i=t.query;e.setState({comment_mentions:Ui(r,i,".add-comment-content",e.state.comment_mentions,n)})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.did_mount,r=t.add_comment_active,i=this.props,a=i.commentsEnabled,o=i.errorAddComment,s=i.isFetching,l=i.isInGuestFlow,u=i.currentUserIsOwner,d=i.companyFeatureData,m=i.videoReplyUrl,f=i.wruRecordingInitiated,p=a?"":"comments-disabled",h=r?"is-active":"",v=o?"error":"",g=(d||{}).brand_primary_color,y=function(e){if(e){var t=e.replace(/#/,""),n=1-(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255<.4?0:255;return"rgb(".concat(n,", ").concat(n,", ").concat(n,")")}}(g),k=g&&!u?{borderColor:g,backgroundColor:g,color:y}:null,w=k?{color:g}:null,_="error"===v&&w?{border:"1px solid ".concat(g)}:null,E=this.state.show_add_link_bar?"":"hidden",S=s||!h||!a;return c.a.createElement(c.a.Fragment,null,this.props.showAddLinkBar&&c.a.createElement("div",{className:"add-url-to-video-root ".concat(E)},c.a.createElement(va,{onClickAdd:this.handleAddLinkToDescription,onClickClose:this.handleCloseAddLinkBar})),c.a.createElement("div",{style:_,className:"add-comment ".concat(p," ").concat(v," ").concat(l?"hidden-content":"")},l&&c.a.createElement(na,{buttonStyle:k,addComment:this.addComment,resetNoGuestFlow:this.resetGuestFlow}),c.a.createElement("div",{className:"add-comment-content",ref:function(t){return e.addCommentContent=t},onInput:this.validateComment}),c.a.createElement("div",{className:"add-comment-actions ".concat(l?"hidden":"")},c.a.createElement("div",{className:"add-comments-click-through-area",onClick:this.handleCommentClickThroughAreaClick}),c.a.createElement("div",{className:"save-and-time"},o&&c.a.createElement("span",{className:"validation-error-react",style:w},o),!o&&c.a.createElement(Yi,null))),m&&c.a.createElement("div",{className:"add-comment-content-link-preview"},c.a.createElement("div",{className:"add-comment-content-link-preview-placeholder",ref:function(t){return e.addCommentLinkPreviewDiv=t},onClick:function(){return Le.h(ve.Ke)}}),c.a.createElement(ie.IconButton,{altText:"Cancel",onClick:function(t){t.stopPropagation(),e.removeInlineCommentReplyVideo(),Le.h(ve.Me)},iconColor:"grey5",icon:c.a.createElement(ie.SvgClose,null),className:"add-comment-content-link-preview-cross-icon"}),c.a.createElement(ie.Spacer,{top:2}),c.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer",tabIndex:"0",onClick:function(e){return e.stopPropagation(),Le.h(ve.Le),!0}},c.a.createElement(ie.Button,null,"Go to Video"))),n&&c.a.createElement(fa,{onMentionClick:this.addMention,listeneeClass:".add-comment-content"})),c.a.createElement("div",{className:"add-comment-buttons"},c.a.createElement(L.a,{flag:b.L,activationValue:!0},!m&&c.a.createElement(ga.b,{isVideoReply:!0,label:"Record a Reply",isDisabled:f||!a,location:"add-comment"}),m&&c.a.createElement(ie.Button,{icon:c.a.createElement(ie.SvgClose,null),onClick:function(){e.removeInlineCommentReplyVideo(),Le.h(ve.Me)}},"Remove Reply")),c.a.createElement(ie.Spacer,{right:2}),c.a.createElement(ie.Button,{variant:"primary",isDisabled:S,onClick:this.addComment,style:S?null:{backgroundColor:"var(--brandThemedPrimaryButtonBackgroundColor, var(--lns-color-primary))"}},"Post")))}},{key:"componentDidMount",value:function(){this.medium=new gi.a({attributes:null,autofocus:!1,autoHR:!1,element:this.addCommentContent,mode:gi.a.richMode,maxLength:Wi.f,pasteAsText:!1,placeholder:"Write a comment",tags:null}),this.addMousetrapBindings(),this.setState({did_mount:!0});var e=this.props,t=e.currentUserIsOwner,n=e.video,r=e.videoIsTeamShared,i=this.stripMediumContent();(t||r||n.collaboratePermissions.write)&&null!=n&&0===i.length&&this.setState({show_add_link_bar:!0})}},{key:"componentDidUpdate",value:function(e){this.medium.settings.maxLength=this.props.commentsEnabled?Wi.f:0;var t=this.props.videoReplyUrl;t&&!e.videoReplyUrl?this.populateInlineCommentReplyVideo(t):e.videoReplyUrl&&!t&&this.removeInlineCommentReplyVideo()}}]),n}(o.Component),ka=Object(l.connect)((function(e){var t=e.share_video,n=t.current_user_is_owner,r=t.url_for_display,i=t.video,a=t.video_is_team_shared,o=i.comments_enabled,c=i.company_feature_data,s=e.comments,l=s.error_add_comment,u=s.is_fetching,d=s.in_guest_flow,m=s.comments,f=e.user.is_logged_in,p=m.every((function(e){return-1===e.content.indexOf(r)})),h=Boolean(i.video_properties.from_url),v=e.webRecordingUtility,g=v.videoUrl,b=v.recordingInitiated;return{commentsEnabled:o,showAddLinkBar:!u&&(n||a||i.collaboratePermissions.write)&&p&&o&&h,errorAddComment:l,isFetching:u,isInGuestFlow:d,isLoggedIn:f,companyFeatureData:c,currentUserIsOwner:n,video:i,videoIsTeamShared:a,videoReplyUrl:g,wruRecordingInitiated:b}}),(function(e){return{addComment:function(t,n,r){return e(ui(t,n,r))},updateInGuestFlow:function(t){return e(ii(t))},updateAddCommentError:function(t){return e(Yr(t))},updateWebRecordingUtilityRecordedVideo:function(t){return e(Object(ki.p)(t))}}}))(ya),wa=n("RBan"),_a=n.n(wa);n("V7Bl");function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Sa=function(e){Y()(n,e);var t=Ea(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{did_mount:!1,add_reply_enabled:!1,comment_mentions:{}}),re()(K()(e),"addMention",(function(t,n){var r=t.result,i=t.query;e.setState({comment_mentions:Ui(r,i,".add-reply-content",e.state.comment_mentions,n)})})),re()(K()(e),"addReply",(function(){var t=e.props,n=t.comment,r=t.isInGuestFlowReply,i=t.isLoggedIn,a=e.stripMediumContent();if(0!==a.length){if(!i&&!r)return e.props.updateInGuestFlowReply(!0);e.props.addReply(a,n.id,e.state.comment_mentions),e.props.updateInGuestFlowReply(!1),e.setState({comment_mentions:{}})}else e.props.updateAddReplyError("Cannot be empty")})),re()(K()(e),"stripMediumContent",(function(){if(null!=e.medium)return zi(e.medium)})),re()(K()(e),"resetGuestFlow",(function(){e.props.updateInGuestFlowReply(!1)})),re()(K()(e),"addMousetrapBindings",(function(){yi()(e.addReplyContent).bind([wi.c,wi.b],(function(){e.addReply()}))})),re()(K()(e),"onKeyUp",(function(e){e.keyCode!==Qi.c&&e.keyCode!==Qi.d&&(e.keyCode,Qi.e)})),re()(K()(e),"validateReply",(function(){e.setState({add_reply_enabled:e.addReplyContent&&""!==e.addReplyContent.innerText}),e.props.updateAddReplyError(null),e.medium.html.placeholders()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.errorAddReply,r=t.isFetching,i=t.isInGuestFlowReply,a=t.brandColor,o=this.state,s=o.did_mount,l=o.add_reply_enabled,u=n?"error":"",d=l?"is-active":"";return c.a.createElement("div",{className:"add-reply-view ".concat(i?"hidden-content":"")},i&&c.a.createElement(na,{buttonStyle:a?{backgroundColor:a}:null,addComment:this.addReply,resetNoGuestFlow:this.resetGuestFlow}),c.a.createElement("div",{className:"add-reply-box ".concat(u)},c.a.createElement("div",{className:"add-reply-content",tabIndex:"-1",ref:function(t){return e.addReplyContent=t},onKeyUp:this.onKeyUp,onInput:this.validateReply}),c.a.createElement("div",{className:"add-reply-actions ".concat(i?"hidden":"")},c.a.createElement("div",{className:"click-through-area",onClick:function(){return e.addReplyContent.focus()}}),c.a.createElement("div",{className:"add-reply-actions-save"},n&&c.a.createElement("span",{className:"validation-error-react"},n),c.a.createElement(Mt.a,{buttonClass:d,style:a?{backgroundColor:a}:null,buttonType:"rp-primary-4",disabled:r||!l,value:"Post",onClicked:this.addReply})))),s&&c.a.createElement(fa,{onMentionClick:this.addMention,listeneeClass:".add-reply-content"}))}},{key:"componentDidMount",value:function(){this.medium=new gi.a({attributes:null,autofocus:!1,autoHR:!1,element:this.addReplyContent,mode:gi.a.richMode,maxLength:Wi.f,pasteAsText:!1,placeholder:"Reply to comment",tags:null}),this.addMousetrapBindings(),this.setState({did_mount:!0})}}]),n}(o.Component),Ca=Object(l.connect)((function(e){var t=e.comments;return{errorAddReply:t.error_add_reply,isFetching:t.is_fetching,isInGuestFlowReply:t.in_guest_flow_reply,isLoggedIn:e.user.is_logged_in}}),(function(e){return{addReply:function(t,n,r){return e(di(t,n,r))},updateAddReplyError:function(t){return e($r(t))},updateInGuestFlowReply:function(t){return e(ai(t))}}}))(Sa);n("Wceu");function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Na=function(e){Y()(n,e);var t=xa(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"deleteReply",(function(){var t=e.props.reply;window.confirm("Are you sure you want to delete this reply?")&&e.props.deleteReply(t)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.companyFeatureData,r=e.reply,i=e.user,a=r.avatar&&r.avatar.thumb,o=(n||{}).brand_primary_color,s=!t&&o?{color:o}:null;return c.a.createElement("div",{className:"reply-container",id:"reply-".concat(r.id)},c.a.createElement("hr",null),a&&c.a.createElement("img",{src:Object(Ve.b)(a),className:"reply-avatar"}),!a&&c.a.createElement("img",{src:At.a,className:"reply-avatar"}),c.a.createElement("div",{className:"comment-reply"},c.a.createElement("div",{className:"reply-header"},c.a.createElement("div",{className:"user-name"}," ",r.user_name," ")),c.a.createElement("div",{className:Ti.c,dangerouslySetInnerHTML:{__html:Li(r)},onClick:Mi}),c.a.createElement("div",{className:"actions-section"},Vi(r,t,i)&&c.a.createElement("span",{className:"delete-reply",onClick:this.deleteReply,style:s},"Delete"),c.a.createElement("span",{className:"reply-date-section"},Ai(r.createdAt)))))}}]),n}(o.Component),Ta=Object(l.connect)((function(e){var t=e.share_video,n=e.user;return{currentUserIsOwner:t.current_user_is_owner,companyFeatureData:t.video.company_feature_data,user:n}}),(function(e){return{deleteReply:function(t){return e(fi(t))}}}))(Na),Oa=n("h7Cg");n("rIt1");function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ra=function(e){Y()(n,e);var t=Ia(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{scroll_to_add_reply:!1}),re()(K()(e),"onCommentContentClick",(function(t){t.target.className===Ti.g&&e.handleClickTimestamp(t)})),re()(K()(e),"handleClickTimestamp",(function(e){document.body.scrollTo(0,0),Mi.call(e.target,e)})),re()(K()(e),"deleteComment",(function(){var t=e.props.comment;window.confirm("Are you sure you want to delete this comment?")&&e.props.deleteComment(t.id)})),re()(K()(e),"showAddReply",(function(){var t=e.props.comment;e.setState({scroll_to_add_reply:!0}),e.props.updateAddReplyId(t.id)})),re()(K()(e),"showReplies",(function(){var t=e.props,n=t.comment,r=t.expandedIds;e.props.updateExpandedReplyIds(r.concat(n.id))})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.addReplyId,n=e.comment,r=e.commentsEnabled,i=e.commentList,a=e.companyFeatureData,o=e.currentUserIsOwner,s=e.user,l=n.replies&&n.replies.map((function(e){return c.a.createElement(Ta,{key:e.id,reply:e})})),u=n.avatar&&n.avatar.thumb;u&&(u=Object(Ve.b)(u));var d=(a||{}).brand_primary_color,m=d&&!o?{color:d}:null;return c.a.createElement("div",null,c.a.createElement("div",{className:"post-container",id:"comment-".concat(n.id)},c.a.createElement(Oa.a,{avatarSrc:u,name:n.user_name}),c.a.createElement("div",{className:"comment-post","data-seconds":n.time_stamp},c.a.createElement("div",{className:"comment-header"},c.a.createElement("div",{className:"user-name"}," ",n.user_name," "),c.a.createElement("div",{className:"timestamp"},c.a.createElement("a",{href:"#",className:Ti.g,style:m,onClick:this.handleClickTimestamp,"data-seconds":n.time_stamp},Object(Ri.d)(n.time_stamp)))),c.a.createElement("div",{className:Ti.a,dangerouslySetInnerHTML:{__html:Li(n)},onClick:this.onCommentContentClick}),r&&c.a.createElement("div",{className:"actions-section"},c.a.createElement("div",{className:"right"},Vi(n,o,s)&&c.a.createElement("span",{className:"delete",style:m,onClick:this.deleteComment},"Delete"),c.a.createElement("span",{className:"show-add-reply",style:m,onClick:this.showAddReply},"Reply"),c.a.createElement("span",{className:"date-section"},Ai(n.createdAt)))),r&&l&&l.length>0&&c.a.createElement("hr",null),r&&l,r&&t===n.id&&c.a.createElement(Ca,{comment:n,brandColor:o?null:d}))),i.length>1&&_a()(i).id!==n.id&&c.a.createElement("hr",null))}},{key:"componentDidUpdate",value:function(e){var t=this.state.scroll_to_add_reply,n=this.props.comment;if((e.comment.replies||[]).length!==(n.replies||[]).length){var r=document.querySelector(Ti.d);hi.linkReplace&&r&&Object(hi.linkReplace)(Ti.f,Bi(r.offsetWidth)),window.setTimeout(qi,Ti.e)}if(t){var i=ue()(".container-comments"),a=ue()(".add-reply-content");a[0]&&(i.animate({scrollTop:i.scrollTop()-i.offset().top+a.offset().top-45},1e3),a[0].focus(),this.setState({scroll_to_add_reply:!1}))}}}]),n}(o.Component),Da=Object(l.connect)((function(e){var t=e.comments,n=e.share_video,r=e.user,i=t.add_reply_id,a=t.comments,o=n.current_user_is_owner,c=n.video;return{addReplyId:i,commentsEnabled:c.comments_enabled,commentList:a,companyFeatureData:c.company_feature_data,currentUserIsOwner:o,user:r}}),(function(e){return{deleteComment:function(t){return e(mi(t))},updateAddReplyId:function(t){return e(Xr(t))},updateExpandedReplyIds:function(t){return e(ri(t))}}}))(Ra);n("sikb");function Pa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Fa=function(e){Y()(n,e);var t=Pa(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n="";e.commentsEnabled||(n="comments-disabled");var r=t.map((function(e){return c.a.createElement(Da,{key:e.id,comment:e})}));return c.a.createElement("div",{className:"container-comments ".concat(n)},r)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",qi)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.comments,n=e.commentsEnabled;if(t.length>0&&n){var r=document.querySelector(Ti.b);r&&(hi.linkReplace&&Object(hi.linkReplace)(Ti.f,Bi(r.offsetWidth)),window.setTimeout(qi,Ti.e))}window.addEventListener("resize",qi)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.comments,r=t.commentsEnabled;if(e.comments.length!==n.length&&r){var i=document.querySelector(Ti.b);i&&(hi.linkReplace&&Object(hi.linkReplace)(Ti.f,Bi(i.offsetWidth)),window.setTimeout(qi,Ti.e))}}}]),n}(o.Component),ja=Object(l.connect)((function(e){return{comments:e.comments.comments,commentsEnabled:e.share_video.video.comments_enabled}}))(Fa);n("NZQk");function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ma=function(e){Y()(n,e);var t=Aa(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"fetchCommentsAndSendMarkers",W()(B.a.mark((function t(){var n,r,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.video,i=n.password,!(null==r||r.needs_password&&null==i)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.fetchComments();case 5:e.sendMarkers();case 6:case"end":return t.stop()}}),t)})))),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.hasFetched;return e.shouldNotLoad?null:c.a.createElement("div",{className:"comments-view"},c.a.createElement(ka,null),t.length>0&&n&&c.a.createElement(ja,null))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldNotLoad;window.top.addEventListener("message",(function(t){switch(t.data.type){case be.e:case be.k:e.fetchCommentsAndSendMarkers()}}),!1),t||this.fetchCommentsAndSendMarkers()}},{key:"componentDidUpdate",value:function(e){var t=e.comments,n=e.hasFetched,r=e.iframeLoaded,i=e.password,a=e.video,o=this.props,c=o.comments,s=o.hasFetched,l=o.iframeLoaded,u=o.password,d=o.video;if(null!=d)return null==d||null!=a||d.needs_password?d.needs_password&&null==i&&null!=u?this.fetchCommentsAndSendMarkers():l&&!r?this.sendMarkers():void(t.length!==c.length&&n===s&&this.sendMarkers()):this.fetchCommentsAndSendMarkers()}},{key:"sendMarkers",value:function(){var e=this.props,t=e.comments;e.iframeLoaded&&this.props.updateVideoPlayerCommentMarkers(t.map((function(e){return{time:e.time_stamp}})))}}]),n}(o.Component),La=Object(l.connect)((function(e){var t=e.share_video,n=t.password,r=t.video,i=e.comments,a=i.comments,o=i.has_fetched;return{shouldNotLoad:null==r||r.needs_password&&!n||r.viewer_needs_permission,comments:a,hasFetched:o,password:n,video:r}}),(function(e){return{fetchComments:function(){return e(pi())},updateVideoPlayerCommentMarkers:function(t){return e(Object(v.w)(t))}}}))(Ma),Va=n("/vRW"),Ua=n("sh0B");function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var qa=function(e){Y()(n,e);var t=Ba(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=null!=this.props.currentTrimRange,t=e?this.props.onCancelCurrentTrimRange:null;return c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgClose,null),isDisabled:!e,onClick:t},"Cancel")}}]),n}(o.Component),Wa=n("vh2h"),za=n("MMAA"),Ga=n.n(za);function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ja=function(e){Y()(n,e);var t=Ha(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props.position,t=void 0===e?"topLeft":e,n=se()(Ga.a.container,Ga.a[t]);return c.a.createElement("div",{className:n},c.a.createElement("div",{className:Ga.a.ring}),c.a.createElement("div",{className:Ga.a.dot}))}}]),n}(c.a.PureComponent);n("OLsu");function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ka=function(e){Y()(n,e);var t=Qa(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"trim-bar-end-current-trim-range-button"},this.props.showActionDot&&c.a.createElement(Ja,{position:"topLeft"}),c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgCut,null),onClick:this.props.onEndCurrentTrimRange},"Remove"))}}]),n}(o.Component);n("dajq");function $a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ya=function(e){Y()(n,e);var t=$a(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.newTrimChanges,r=e.showActionDot,i=null==t&&n,a=i?"enabled":"",o=i?this.props.onPublishChanges:null;return c.a.createElement("div",{className:"trim-bar-button ".concat(this.constructor.className," ").concat(a)},r&&c.a.createElement(Ja,{position:"topLeft"}),c.a.createElement(ie.TextButton,{isDisabled:!i,onClick:o,icon:c.a.createElement(ie.SvgCheckCircle,null)},"Publish Changes"))}}]),n}(o.Component);re()(Ya,"className","trim-bar-publish-changes-button");var Xa=Ya;function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var eo=function(e){Y()(n,e);var t=Za(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.redoStack;return null==t&&n.length>0?c.a.createElement("div",{className:"ml:medium"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgReplyRight,null),onClick:this.props.onRedoTrim},"Redo")):null}}]),n}(o.Component),to=n("/CCh");n("lWl8");function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ro=function(e){Y()(n,e);var t=no(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"deactivateBoundTimeout",null),re()(K()(e),"mousePressKickInTimeout",null),re()(K()(e),"mousePressTimeout",null),re()(K()(e),"state",{mouse_pressed:!1}),re()(K()(e),"decrementTime",(function(){e.stepTime(-100,e.decrementTime)})),re()(K()(e),"incrementTime",(function(){e.stepTime(100,e.incrementTime)})),re()(K()(e),"activateTrimBound",W()(B.a.mark((function t(){var n,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.time,window.clearTimeout(e.deactivateBoundTimeout),r="left"===e.props.half?Ua.h:Ua.i,t.next=5,e.props.updateSelectedTrimBoundCreator(r);case 5:n===e.props.time&&e.setDeactivateBoundTimeout();case 6:case"end":return t.stop()}}),t)})))),re()(K()(e),"clearMousePressTimeout",(function(){window.clearTimeout(e.mousePressKickInTimeout),window.clearTimeout(e.mousePressTimeout),e.setState({mouse_pressed:!1})})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.time,r=t?"active":"",i=Object(Ri.d)(Math.floor(n/1e3)),a=String(Math.floor(n%1e3/100)),o="".concat(i,".").concat(a);return c.a.createElement("div",{className:"trim-pill ".concat(r),onClick:this.activateTrimBound},c.a.createElement("div",{className:"time-display"},o),c.a.createElement("div",{className:"arrows"},c.a.createElement("span",{className:"up arrow",onMouseDown:this.incrementTime,onMouseUp:this.clearMousePressTimeout}),c.a.createElement("span",{className:"down arrow",onMouseDown:this.decrementTime,onMouseUp:this.clearMousePressTimeout})))}},{key:"setDeactivateBoundTimeout",value:function(){var e=this;window.clearTimeout(this.deactivateBoundTimeout),this.deactivateBoundTimeout=window.setTimeout((function(){e.props.updateSelectedTrimBoundCreator(null)}),Ua.g)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.active!==this.props.active?window.clearTimeout(this.deactivateBoundTimeout):e.active&&e.time!==this.props.time?this.setDeactivateBoundTimeout():void 0}},{key:"stepTime",value:function(){var e=W()(B.a.mark((function e(t,n){var r,i,a,o,c,s=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.clearTimeout(this.mousePressKickInTimeout),window.clearTimeout(this.mousePressTimeout),r=this.props,i=r.half,a=r.min,o=r.time,c=Math.round(Math.max(a,o+t)),this.props.onTimeChange(i,c),this.state.mouse_pressed){e.next=12;break}return e.next=9,new Promise((function(e){s.mousePressKickInTimeout=window.setTimeout(e,300)}));case 9:if(!this.state.mouse_pressed){e.next=11;break}return e.abrupt("return");case 11:this.setState({mouse_pressed:!0});case 12:this.mousePressTimeout=window.setTimeout(n,50);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(o.Component);n("gN/m");function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var co=function(e){Y()(n,e);var t=oo(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"boundingRange",Object(to.d)(e.props.currentTrimRange,e.props.trimRanges,1e3*e.props.duration)),re()(K()(e),"onPillTimeChange",(function(t,n){var r=ao({},e.props.currentTrimRange),i="left"===t,a=Object(to.f)(n,r,e.boundingRange,i,Ua.d);i?r.from=a:r.to=a,e.props.updateCurrentTrimRangeCreator(r),window.top.postMessage({type:be.d,numSeconds:a/1e3},"*")})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.selectedTrimBound,r=t.to-Ua.d,i=this.boundingRange.from,a=this.boundingRange.to,o=t.from+Ua.d,s=n===Ua.h,l=n===Ua.i;return c.a.createElement("div",{className:"trim-range-pill-bar"},c.a.createElement(ro,{time:t.from,active:s,half:"left",max:r,min:i,onTimeChange:this.onPillTimeChange,updateSelectedTrimBoundCreator:this.props.updateSelectedTrimBoundCreator}),c.a.createElement("span",{className:"divider"}),c.a.createElement(ro,{time:t.to,active:l,half:"right",max:a,min:o,onTimeChange:this.onPillTimeChange,updateSelectedTrimBoundCreator:this.props.updateSelectedTrimBoundCreator}))}}]),n}(o.Component),so=Object(l.connect)((function(e){var t=e.trimming;return{currentTrimRange:t.current_trim_range,selectedTrimBound:t.selected_trim_bound,trimRanges:t.trim_ranges}}),(function(e){return{updateCurrentTrimRangeCreator:function(t){return e(Object(Ae.h)(t))},updateSelectedTrimBoundCreator:function(t){return e(Object(Ae.i)(t))}}}))(co);function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var uo=function(e){Y()(n,e);var t=lo(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.undoStack,r=null==t&&n.length>0,i=r?this.props.onUndoTrim:null;return c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgReplyLeft,null),isDisabled:!r,onClick:i},"Undo")}}]),n}(o.Component);n("nib4");function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var fo=new Error("invalid trim operation"),po=function(e){Y()(n,e);var t=mo(n);function n(e){var r;return G()(this,n),(r=t.call(this,e)).handleDiscardSelectedTrimRange=r.handleDiscardSelectedTrimRange.bind(K()(r)),r.handleEndCurrentTrimRange=r.handleEndCurrentTrimRange.bind(K()(r)),r.handleTrimAction=r.handleTrimAction.bind(K()(r)),r}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.duration,r=e.newTrimChanges,i=e.redoStack,a=e.selectedTrimRange,o=e.undoStack,s=e.trimRanges,l=null,u=null,d=null,m=null;return null!=t?(null!=a?l=c.a.createElement(Wa.b,{selectedTrimRange:a,onDiscardTrimRange:this.handleDiscardSelectedTrimRange}):(l=c.a.createElement(qa,{currentTrimRange:t,onCancelCurrentTrimRange:this.props.onCancelCurrentTrimRange}),u=c.a.createElement(Ka,{showActionDot:this.props.showCutActionDot,onEndCurrentTrimRange:this.handleEndCurrentTrimRange})),m=c.a.createElement(so,{duration:n})):(l=c.a.createElement(Wa.b,{selectedTrimRange:a,onDiscardTrimRange:this.handleDiscardSelectedTrimRange}),d=c.a.createElement(Xa,{showActionDot:this.props.showPublishActionDot,currentTrimRange:t,newTrimChanges:r,onPublishChanges:this.props.onPublishChanges})),c.a.createElement("div",{className:"share-video-trim-bar"},c.a.createElement("div",{className:"left-section"},s.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(uo,{currentTrimRange:t,onUndoTrim:this.props.onUndoTrim,undoStack:o}),c.a.createElement(eo,{currentTrimRange:t,onRedoTrim:this.props.onRedoTrim,redoStack:i}))),c.a.createElement("div",{className:"middle-section"},m,d),c.a.createElement("div",{className:"right-section"},(t||a)&&l,c.a.createElement("div",{className:"mr:medium"}),t&&u))}},{key:"componentDidMount",value:function(){window.top.addEventListener("message",this.handleTrimAction,!1)}},{key:"componentWillUnmount",value:function(){window.top.removeEventListener("message",this.handleTrimAction)}},{key:"handleTrimAction",value:function(e){var t=e.data,n=void 0===t?{}:t;if(e.source!==window&&n.type===be.x){var r=n.id,i=n.operation,a=n.trimBound,o=n.trimRange,c=n.trimRanges,s=n.updatedVideo;switch(i){case Ua.a:return this.props.addTrimRangeCreator(o);case Ua.f:return this.props.removeTrimRangeCreator(r);case Ua.b:return this.props.enterTrimModeCreator(c);case Ua.c:return this.props.leaveTrimModeCreator(s);case Ua.e:return this.props.redoTrimOperationCreator();case Ua.j:return this.props.undoTrimOperationCreator();case Ua.k:return this.props.updateCurrentTrimRangeCreator(o);case Ua.l:return this.props.updateSelectedTrimBoundCreator(a);case Ua.m:return this.props.updateSelectedTrimRangeCreator(o);case Ua.n:return this.props.updateTrimRangeCreator(o);default:Ne.d(fo,"bad trim operation",{operation:i})}}}},{key:"handleEndCurrentTrimRange",value:function(){var e=this.props.currentTrimRange;this.props.onEndCurrentTrimRange(e)}},{key:"handleDiscardSelectedTrimRange",value:function(){var e=this.props.selectedTrimRange;this.props.onDiscardTrimRange(e.id)}}]),n}(o.Component),ho=Object(l.connect)(null,(function(e){return{addTrimRangeCreator:function(t){return e(Object(Ae.a)(t,!1,!1))},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t,!1))},leaveTrimModeCreator:function(t){return e(Object(Ae.c)(t,!1))},redoTrimOperationCreator:function(){return e(Object(Ae.e)(!1))},removeTrimRangeCreator:function(t){return e(Object(Ae.f)(t,!1,!1))},undoTrimOperationCreator:function(){return e(Object(Ae.g)(!1))},updateCurrentTrimRangeCreator:function(t){return e(Object(Ae.h)(t,!1))},updateSelectedTrimBoundCreator:function(t){return e(Object(Ae.i)(t,!1))},updateSelectedTrimRangeCreator:function(t){return e(Object(Ae.j)(t,!1))},updateTrimRangeCreator:function(t){return e(Object(Ae.k)(t,!1,!1))}}}))(po),vo=n("8acj");n("xGzr");function go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var bo=function(e){Y()(n,e);var t=go(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"enterTrimMode",(function(){var t=e.props.video,n=t.id,r=t.processing_information.trim_ranges,i=void 0===r?[]:r;e.props.enterTrimModeCreator(i),e.props.onEnterTrimMode(),Le.h(ve.Hb,{id:n,has_been_trimmed:i.length>0})})),re()(K()(e),"publishChanges",(function(){var t=e.props.video;e.props.patchTrimVideoCreator(t,e.props.onLeaveTrimMode)})),re()(K()(e),"handleEndCurrentTrimRange",(function(t){var n=e.props.trimRanges;null!=Gr()(n,(function(e){return e.id===t.id}))?e.props.updateTrimRangeCreator(t):e.props.addTrimRangeCreator(t)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.duration,r=e.inTrimMode,i=e.newTrimChanges,a=e.redoStack,o=e.selectedTrimRange,s=e.theaterMode,l=e.trimRanges,u=e.undoStack,d=e.video;return c.a.createElement("div",{className:se()("share-video-control-bar",{"theater-mode":s})},!r&&d.use_emojis&&c.a.createElement(vo.a,{hideReaction:Va.c,sharePageEmojis:!0}),r&&c.a.createElement(ho,{currentTrimRange:t,duration:n,newTrimChanges:i,redoStack:a,selectedTrimRange:o,undoStack:u,trimRanges:l,onEndCurrentTrimRange:this.handleEndCurrentTrimRange,onCancelCurrentTrimRange:this.props.cancelCurrentTrimRange,onDiscardTrimRange:this.props.removeTrimRangeCreator,onPublishChanges:this.publishChanges,onRedoTrim:this.props.redoTrimOperationCreator,onUndoTrim:this.props.undoTrimOperationCreator}))}}]),n}(o.Component),yo=Object(l.connect)((function(e){var t=e.trimming,n=t.current_trim_range,r=t.in_trim_mode,i=t.new_changes,a=t.redo_stack,o=t.selected_trim_range,c=t.trim_ranges,s=t.undo_stack,l=e.share_video,u=l.cta_show,d=l.cta_modal_show,m=l.cta_enabled,f=e.user.current.has_named_video_views,p=e.multi_share.dm_content,h=e.video_player.theater_mode;return{currentTrimRange:n,ctaEnabled:m,hasNamedVideoViews:f,hasSlackData:p&&p.length>1,inTrimMode:r,newTrimChanges:i,redoStack:a,selectedTrimRange:o,theaterMode:h,trimRanges:c,undoStack:s,showCta:u,showCtaModal:d}}),(function(e){return{addTrimRangeCreator:function(t){return e(Object(Ae.a)(t))},cancelCurrentTrimRange:function(){return e(Object(Ae.h)(null))},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t))},patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))},removeTrimRangeCreator:function(t){return e(Object(Ae.f)(t))},redoTrimOperationCreator:function(){return e(Object(Ae.e)())},undoTrimOperationCreator:function(){return e(Object(Ae.g)())},updateTrimRangeCreator:function(t){return e(Object(Ae.k)(t))}}}))(bo),ko=n("AWAm");n("AKsX");function wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _o=function(e){Y()(n,e);var t=wo(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{background_color_err:!1,text_color_err:!1,border_radius_err:!1,url_err:!1,in_preview:!1}),re()(K()(e),"render",(function(){var t=e.props,n=t.ctaModalShow,r=t.currentUserIsOwner;return n&&r?c.a.createElement("div",{className:"video-cta-modal in-preview"},c.a.createElement(ko.a,null)):null})),e}return n}(o.Component),Eo=Object(l.connect)((function(e){var t=e.share_video.current_user_is_owner;return{ctaModalShow:e.editor.cta_flow,currentUserIsOwner:t}}),null)(_o),So=n("OoQ+"),Co=n("sEfC"),xo=n.n(Co);n("GXb1");function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var To=function(e){Y()(n,e);var t=No(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{width:0,height:0}),re()(K()(e),"handleClick",(function(t){e.props.onClick?e.props.onClick():(t.preventDefault(),t.stopPropagation())})),re()(K()(e),"updateFromParent",(function(){if(e.ref&&!e.ignoreUpdateFromParent){var t=e.ref.parentNode.getBoundingClientRect(),n=t.width,r=t.height;n===e.state.width&&r===e.state.height||(e.ignoreUpdateFromParent=!0,e.setState({width:n,height:r}))}else e.ignoreUpdateFromParent=!1})),re()(K()(e),"handleWindowResize",xo()(e.updateFromParent,500)),re()(K()(e),"setRef",(function(t){return e.ref=t})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.contentClassName,i=e.withArrow,a=e.stickyOnHover,o=e.position,s=this.state,l={width:s.width,height:s.height},u=se()("tooltip",i?"with-arrow":"",a?"sticky-on-hover":"",n,"top"===o?"tooltip-top":"tooltip-bottom");return c.a.createElement("div",{ref:this.setRef,className:u,style:l,onClick:this.handleClick},c.a.createElement("div",{className:"tooltip-content ".concat(r)},t))}},{key:"componentDidMount",value:function(){this.ref&&this.ref.parentNode.classList.add("tooltip-target"),this.updateFromParent(),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){this.ref&&this.ref.parentNode.classList.remove("tooltip-target"),window.removeEventListener("resize",this.handleWindowResize)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidUpdate",value:function(){this.ref&&this.ref.parentNode.classList.add("tooltip-target"),this.updateFromParent()}}]),n}(c.a.Component);re()(To,"defaultProps",{className:"",contentClassName:"",withArrow:!0,stickyOnHover:!1,onClick:null,position:"bottom"});n("qGIU");function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Io=function(e){Y()(n,e);var t=Oo(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{downloading:!1,percent:0}),re()(K()(e),"startDownload",(function(t){if(t.preventDefault(),e.state.downloading)return!1;var n=e.props,r=n.downloadName,i=n.downloadUrl,a=n.currentUserIsOwner,o=n.videoId,c=n.videoIsTeamShared,s=n.videoAnalyticsEnabled,l=new yr.a((function(t){return e.setState({percent:t})}),(function(){e.trackDownload(),e.resetDownloadState(),l.save()}),(function(){return e.resetDownloadState()}));l.fetch(i,r),e.setState({downloading:!0}),Le.h(ve.Bd,{video_id:o,is_video_owner:a,video_is_team_shared:c}),s&&Object(So.b)(o)})),re()(K()(e),"resetDownloadState",(function(){return e.setState({downloading:!1,percent:0})})),re()(K()(e),"trackDownload",(function(){var t=e.props,n=t.currentUserIsOwner,r=t.videoId,i=t.videoIsTeamShared;Le.h(ve.Cd,{video_id:r,is_video_owner:n,video_is_team_shared:i})})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.downloadEnabled,r=e.downloadName,i=e.downloadUrl,a=e.onDownloadUnverifiedClicked,o=e.ownerVerified,s=e.videoIsTeamShared,l=this.state,u=l.downloading,d=l.percent;if(!(!Be.isMobile&&(n||t||s)))return null;var m=se()(["download-button","tooltip-target"],{downloading:u,preparing:!i});return o&&null!=i?c.a.createElement("a",{className:m,href:i,target:"_blank",rel:"noopener noreferrer",download:r,onClick:this.startDownload},c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgDownload,null),altText:"Download video"}),u&&c.a.createElement(br.a,{percentage:d,strokeWidth:10,styles:{path:{stroke:Object(ie.getColorValue)("blurple"),strokeLinecap:"round"},trail:{stroke:Object(ie.getColorValue)("white")}}}),c.a.createElement(To,null,u?"Please dont close this tab while your video downloads":"Download")):c.a.createElement("a",{className:m,onClick:o?null:a},c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgDownload,null),altText:"Download video"}),c.a.createElement(To,{stickyOnHover:!0},o&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Polishing pixels."),c.a.createElement("div",null,"Your downloads coming up!")),!o&&t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"You must verify your email to download."),c.a.createElement("a",{href:"#",onClick:this.props.postVerifyEmail,className:"tooltip-cta"},"Resend Verification Email")),!o&&!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,"Video owner must verify their email"),c.a.createElement("div",null,"before this video is downloadable"))))}}]),n}(o.Component),Ro=n("+QRC"),Do=n.n(Ro),Po=n("46Uv"),Fo=function(e){var t=Object(l.useDispatch)(),n=e.video,r="Copy of ".concat(n.name);return c.a.createElement("div",null,c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgCopy,null),onClick:function(e){e.preventDefault(),t(Object(Po.a)(n.id,r)).then((function(e){var t="".concat(y.A,"/share/").concat(e.id);Do()(t,{format:"text/plain"}),setTimeout((function(){window.open(t,"_blank")}),1e3)})).then((function(){Le.h(ve.fb,{entity_id:n.id,entity_type:"video",click_source:"share-video"})}))}}),c.a.createElement(To,null,"Duplicate video"))},jo=n("ztNI"),Ao=n("pVnL"),Mo=n.n(Ao),Lo=n("QILm"),Vo=n.n(Lo),Uo=function(e){var t=e.children,n=e.className,r=Vo()(e,["children","className"]),i="".concat(n?n+" ":"","border p:large radius:medium");return c.a.createElement("div",Mo()({className:i},r),t)},Bo=n("D7tI"),qo=n("dlxr");function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var zo=function(e){Y()(n,e);var t=Wo(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUpgradeUpsell",(function(){Le.h(ve.Sc,{fab_type:"cta"},(function(){window.location.href="/account-settings?showUpgrade=true#billing"}))})),re()(K()(e),"handleClick",(function(){Le.h(ve.h),e.props.startCTAFlow(!e.props.showCtaModal)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.ctaEnabled,n=e.disabled,r=e.hasCTAScope,i=e.workspaces,a=e.userCanEditVideo,o=i.find((function(e){return e.isSelected})),s=null;return s=r?c.a.createElement(ie.TextButton,{isDisabled:n,icon:c.a.createElement(ie.SvgCallToAction,null),onClick:this.handleClick},t?"Edit CTA":c.a.createElement("span",null,"Call-to-action")):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{flag:b.F,activationValue:!1},c.a.createElement(ie.Tooltip,{content:"Upgrade to Pro",placement:"leftCenter"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgCallToAction,null),onClick:this.handleUpgradeUpsell},"Call-to-action"))),c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(qo.a,{title:"Call-to-action",placement:"leftCenter",message:Bo.a},c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Le.h(ve.g,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:o.id},(function(){window.location.href=y.J}))}},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgCallToAction,null),isDisabled:!0},"Call-to-action"))))),a&&!Be.isMobile&&s}}]),n}(c.a.Component),Go=Object(l.connect)((function(e){var t=e.share_video,n=t.cta_modal_show,r=t.cta_enabled,i=e.workspace.workspaces;return{showCtaModal:n,ctaEnabled:r,hasCTAScope:Object(He.a)(e,we.A),userCanEditVideo:Object(Je.a)(e),workspaces:i}}),(function(e){return{startCTAFlow:function(){return e(Object(jo.g)())}}}))(zo);n("i6QF"),n("T63A");function Ho(){return function(e){e(Object(fe.m)(!1)),e(Object(fe.q)("")),e(Object(fe.r)("")),e(Object(fe.o)(null)),e(Object(jo.a)())}}function Jo(){return function(e){e(Object(fe.m)(!0)),e(Object(_.p)()),e(Object(jo.a)())}}var Qo=n("vWup"),Ko=n.n(Qo),$o=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"}))},Yo=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"}))},Xo=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"}))},Zo=function(e){var t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t},ec=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},tc=function(e,t,n){var r,i,a;if(e/=360,n/=100,0===(t/=100))r=i=a=n;else{var o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;r=ec(c,o,e+1/3),i=ec(c,o,e),a=ec(c,o,e-1/3)}return"#".concat(Zo(r)).concat(Zo(i)).concat(Zo(a))},nc=n("V/+E");n("lzNQ");function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var oc={Rounded:{value:25,icon:c.a.createElement($o,null)},Squared:{value:0,icon:c.a.createElement(Xo,null)},"Slightly rounded":{value:4,icon:c.a.createElement(Yo,null)}},cc="Yikes! Doesnt look like a valid color",sc=["orange","teal","yellowDark","blue","offWhite","grey8","white"].map((function(e){var t=ie.hslaColors[e],n=t.h,r=t.s,i=t.l;return tc(n,r,i)})),lc=function(e){Y()(n,e);var t=ac(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{corner_dropdown:!1,bg_color_picker:!1,text_color_picker:!1,text_color_err:!1,background_color_err:!1,url_err:!1,return_to_time:null}),re()(K()(e),"movePlayerToEnd",(function(){e.setState({return_to_time:e.props.currentTime}),e.props.requestVideoPlayerCurrentTime(e.props.videoDuration)})),re()(K()(e),"handleCornerClick",(function(t){e.setState({corner_dropdown:!1}),e.handleCtaRadiusInput(function(e){return oc[e].value}(t)),e.validate()})),re()(K()(e),"getBorderRadiusLabel",(function(e){return e===oc.Rounded.value?"Rounded":e===oc.Squared.value?"Squared":"Slightly rounded"})),re()(K()(e),"handleCtaBackgroundColorInput",(function(t){var n=e.props.ctaMods;e.setState({background_color_err:!1}),t.length>7||(e.props.updateVideoCtaMods(ic(ic({},n),{},{background_color:t})),e.validate())})),re()(K()(e),"handleCtaTextColorInput",(function(t){var n=e.props.ctaMods;e.setState({text_color_err:!1}),t.length>7||(e.props.updateVideoCtaMods(ic(ic({},n),{},{color:t})),e.validate())})),re()(K()(e),"handleCtaRadiusInput",(function(t){var n;if(e.setState({border_radius_err:!1}),Number.isInteger(Number(t))){n=t>200?199:t<0?0:t;var r=e.props.ctaMods;e.props.updateVideoCtaMods(ic(ic({},r),{},{border_radius:n})),e.validate()}})),re()(K()(e),"handleCtaUrlInput",(function(t){e.setState({url_err:!1}),e.props.updateVideoCtaUrl(t)})),re()(K()(e),"handleCtaTextInput",(function(t){e.props.updateVideoCtaText(t),e.validate()})),re()(K()(e),"saveEligible",(function(){var t=e.state,n=t.background_color_err,r=t.text_color_err,i=t.url_err,a=e.props,o=a.ctaMods,c=a.ctaText,s=a.ctaUrl;return!(n||r||i)&&o&&c&&s})),re()(K()(e),"save",W()(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.instantValidate(),e.saveEligible()){t.next=3;break}return t.abrupt("return");case 3:return n=e.props.ctaMods,t.next=6,e.props.saveCTA();case 6:e.props.showConfirmationModal("Call-to-action saved"),Le.h(ve.i,n||{});case 8:case"end":return t.stop()}}),t)})))),re()(K()(e),"clearSettings",(function(){e.props.clearCTAWidgetState()})),re()(K()(e),"handleDelete",W()(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.clearCTAWidgetState(),t.next=3,e.props.updateVideoCtaCreator();case 3:e.props.showConfirmationModal("Call-to-action deleted");case 4:case"end":return t.stop()}}),t)})))),re()(K()(e),"instantValidate",(function(){var t=e.props,n=t.ctaMods,r=t.ctaUrl;n&&n.color&&!Object(Wi.p)(n.color)&&e.setState({text_color_err:!0}),n&&n.background_color&&!Object(Wi.p)(n.background_color)&&e.setState({background_color_err:!0}),n&&n.border_radius&&!Number.isInteger(Number(n.border_radius))&&e.setState({border_radius_err:!0}),r&&!Object(Wi.r)({exact:!0,strict:!1}).test(r)&&e.setState({url_err:!0})})),re()(K()(e),"validate",xo()(e.instantValidate,300)),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.bg_color_picker,r=t.text_color_picker,i=t.background_color_err,a=t.text_color_err,o=t.url_err,s=this.props,l=s.ctaEnabled,u=s.ctaText,d=s.ctaUrl,m=s.ctaMods,f=this.saveEligible();return c.a.createElement(Uo,null,c.a.createElement(ie.Text,{variant:"title"},"Create a call-to-action"),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{labelFor:"button-text",label:"Button text"},c.a.createElement(ie.TextInput,{autoFocus:!0,onChange:function(t){return e.handleCtaTextInput(t.target.value)},id:"button-text",value:u||""}))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{labelFor:"button-link",label:"Button link (URL)",errorMessage:o?"Yikes! Doesnt look like a valid URL":""},c.a.createElement(ie.TextInput,{onBlur:function(){return e.instantValidate()},onChange:function(t){return e.handleCtaUrlInput(t.target.value)},id:"button-link",value:d||"",hasError:o,type:"url"}))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement("div",{className:"picker-input",onClick:function(){return e.setState({bg_color_picker:!0})}},c.a.createElement(ie.FormField,{label:"Button color",labelFor:"button-color",errorMessage:i?cc:null},c.a.createElement(ie.TextInput,{onChange:function(t){return e.handleCtaBackgroundColorInput(t.target.value)},id:"button-color",value:(m||{}).background_color,hasError:i})),c.a.createElement("img",{src:Ko.a,className:"picker-icon"}),c.a.createElement("div",{className:"form-color-picker"},c.a.createElement(nc.a,{onClickOutside:function(){return e.setState({bg_color_picker:!1})},show:n,disableAlpha:!0,presetColors:sc,color:(m||{}).background_color,onChangeComplete:function(t){return e.handleCtaBackgroundColorInput(t.hex)}})))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement("div",{className:"picker-input",onClick:function(){return e.setState({text_color_picker:!0})}},c.a.createElement(ie.FormField,{label:"Text color",labelFor:"text-color",errorMessage:a?cc:null},c.a.createElement(ie.TextInput,{onChange:function(t){return e.handleCtaTextColorInput(t.target.value)},id:"text-color",value:(m||{}).color,hasError:a})),c.a.createElement("img",{src:Ko.a,className:"picker-icon"}),c.a.createElement("div",{className:"form-color-picker"},c.a.createElement(nc.a,{onClickOutside:function(){return e.setState({text_color_picker:!1})},show:r,disableAlpha:!0,presetColors:sc,color:(m||{}).color,onChangeComplete:function(t){return e.handleCtaTextColorInput(t.hex)}})))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{label:"Button corner style"},c.a.createElement(ie.Select,{selectedOptionValue:this.getBorderRadiusLabel((m||{}).border_radius),onChange:function(t){return e.handleCornerClick(t.value)},options:Object.entries(oc).map((function(e){var t=st()(e,2),n=t[0];return{value:n,title:n,icon:t[1].icon}}))}))),l&&c.a.createElement(ie.Align,{alignment:"center"},c.a.createElement(ie.Spacer,{top:"medium",bottom:"small"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgTrash,null),onClick:this.handleDelete},"Delete CTA"))),c.a.createElement("div",{className:"flex width:full mt:large"},c.a.createElement(ie.Container,{width:"50%",paddingRight:"xsmall"},c.a.createElement(ie.Button,{onClick:this.clearSettings,hasFullWidth:!0},"Cancel")),c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{variant:"primary",isDisabled:!f,onClick:this.save,hasFullWidth:!0},"Save"))))}},{key:"componentDidMount",value:function(){this.props.videoDuration&&this.movePlayerToEnd()}},{key:"componentDidUpdate",value:function(e){!e.ctaMods&&this.props.ctaMods&&this.setState({button_corner_style:this.props.ctaMods.border_radius}),!e.videoDuration&&this.props.videoDuration&&this.movePlayerToEnd()}},{key:"componentWillUnmount",value:function(){var e=this;this.state.return_to_time&&(this.props.requestVideoPlayerCurrentTime(this.state.return_to_time),this.props.updateVideoPlayerPlaying(),this.props.requestVideoPlayerPlay(),setTimeout((function(){return e.props.requestVideoPlayerPause()})),this.setState({return_to_time:null}))}}]),n}(o.Component),uc=Object(l.connect)((function(e){var t=e.share_video,n=t.cta_enabled,r=t.cta_mods,i=t.cta_text,a=t.cta_url,o=t.cta_modal_show,c=t.current_user_is_owner,s=t.video;return{ctaEnabled:n,ctaMods:r,ctaText:i,ctaUrl:a,ctaModalShow:o,currentUserIsOwner:c,videoDuration:(s&&s.video_properties||{}).duration,currentTime:e.video_player.current_time}}),(function(e){return{updateVideoCtaEnabled:function(t){return e(Object(fe.m)(t))},updateVideoCtaUrl:function(t){return e(Object(fe.r)(t))},updateVideoCtaText:function(t){return e(Object(fe.q)(t))},updateVideoCtaMods:function(t){return e(Object(fe.o)(t))},updateVideoCtaCreator:function(){return e(Object(_.p)())},updateVideoCtaModalShow:function(t){return e(Object(fe.n)(t))},endCTAFlow:function(){return e(Object(jo.a)())},requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},requestVideoPlayerPlay:function(){return e(Object(v.g)())},requestVideoPlayerPause:function(){return e(Object(v.f)())},updateVideoPlayerPlaying:function(){return e(Object(v.V)())},clearCTAWidgetState:function(){return e(Ho())},saveCTA:function(){return e(Jo())},showConfirmationModal:function(t){return e(Object(pt.b)(t))}}}))(lc),dc=n("FIr0");function mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var fc=function(e){Y()(n,e);var t=mc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUpgradeNowClick",(function(){Le.h(ve.Sc,{fab_type:"custom_thumbnail"}),window.location.href="/account-settings?showUpgrade=true#billing"})),re()(K()(e),"handleAddCoverClick",(function(){Le.h(ve.O),e.props.startThumbnailFlow()})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.collaboratePermissions,n=e.currentUserIsOwner,r=e.thumbnails,i=e.onRemoveCoverClick,a=e.videoId,o=e.disabled,s=e.hasThumbnailScope,l=e.videoIsTeamShared,u=e.workspaces.find((function(e){return e.isSelected})),d=r[dc.a],m=d?"Edit Thumbnail":"Remove Thumbnail",f=d?this.handleAddCoverClick:i.bind(null,a),p=null;return p=s?r[dc.d]?c.a.createElement(ie.TextButton,{isDisabled:o,icon:c.a.createElement(ie.SvgImage1,null),onClick:f},m):c.a.createElement(ie.TextButton,{isDisabled:o,icon:c.a.createElement(ie.SvgImage1,null),onClick:this.handleAddCoverClick},"Custom Thumbnail"):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{flag:b.F,activationValue:!1},c.a.createElement(ie.Tooltip,{content:"Upgrade to Pro",placement:"leftCenter"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgImage1,null),onClick:this.handleUpgradeNowClick},"Custom Thumbnail"))),c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(qo.a,{content:"Upgrade to Pro",placement:"leftCenter",title:"Custom thumbnail ",message:Bo.c},c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Object(Le.h)(ve.l,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:u.id},(function(){window.location.href=y.J}))}},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgImage1,null),isDisabled:!0},"Custom Thumbnail"))))),(n||l||t.write)&&!Be.isMobile&&p}}]),n}(c.a.Component),pc=Object(l.connect)((function(e){var t=e.share_video,n=t.current_user_is_owner,r=t.video_is_team_shared,i=t.video,a=e.workspace.workspaces;return{currentUserIsOwner:n,videoId:i.s3_id,thumbnails:i.thumbnails,hasThumbnailScope:Object(He.a)(e,we.I),videoIsTeamShared:r,collaboratePermissions:i.collaboratePermissions,workspaces:a}}),(function(e){return{onRemoveCoverClick:function(t){return e(Object(_.l)(t))},startThumbnailFlow:function(){return e(Object(jo.h)())}}}))(fc),hc=n("zWfy"),vc=n.n(hc);var gc=function(e){var t=e.size,n=e.color,r=void 0===n?"currentColor":n,i=Vo()(e,["size","color"]);return o.createElement("svg",Mo()({width:8*t,height:8*t,viewBox:"0 0 56 56",fill:"none"},i),o.createElement("path",{d:"M56 21.328V0H34.672v5.56h11.834L30.779 21.288V9.453h-5.56v11.834L9.492 5.561h11.836V0H0v21.328h5.56V9.492L21.288 25.22H9.453v5.56h11.834L5.561 46.506V34.672H0V56h21.328v-5.56H9.492L25.22 34.71v11.837h5.56V34.71l15.727 15.728H34.672V56H56V34.672h-5.56v11.834L34.712 30.779h11.834v-5.56H34.713L50.439 9.492v11.836H56z",fill:r}))};n("UKHi");function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var yc=function(e){Y()(n,e);var t=bc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{dragging:!1}),re()(K()(e),"handleDrop",(function(t){e.setState({dragging:!1}),e.props.onDrop(t)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props.multiple,n=void 0!==t&&t,r=this.state.dragging;return c.a.createElement(vc.a,{className:"share-page-dropzone",disableClick:!0,multiple:n,disabled:!1,activeStyle:{zIndex:1e3},onDragEnter:function(){return e.setState({dragging:!0})},onDragLeave:function(){return e.setState({dragging:!1})},onDrop:this.handleDrop},c.a.createElement(c.a.Fragment,null,r&&c.a.createElement("div",{className:"share-page-drag-and-drop-overlay"}),r&&c.a.createElement("div",{className:"drag-and-drop-overlay-content"},c.a.createElement("div",{className:"flex pb:xlarge justify:center"},c.a.createElement(gc,{color:"var(--lns-color-white)",size:13})),c.a.createElement(ie.Text,{size:"xxlarge",color:"white",fontWeight:"bold"},"Drop anywhere to upload!"))))}}]),n}(o.Component);n("3Ffm");function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wc=function(e){Y()(n,e);var t=kc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{useGifDefault:null,useGif:null,interactedWith:!1}),re()(K()(e),"toggleProp",(function(t){return function(){var n;e.setState((n={},re()(n,t,!e.state[t]),re()(n,"interactedWith",!0),n))}})),re()(K()(e),"handleDeleteThumbnail",(function(){var t=e.props.videoId;e.props.removeVideoThumbnail(t),e.props.setLocalThumbnail(null)})),re()(K()(e),"handleExitFlow",(function(){e.props.setLocalThumbnail(null),e.props.endThumbnailFlow()})),re()(K()(e),"handleDropzoneDrop",(function(t){var n=t[0];n&&e.handleFile(n)})),re()(K()(e),"handleBrowseInput",(function(t){var n=t.target.files[0];e.handleFile(n),t.target.value=null})),re()(K()(e),"readFile",(function(t){var n=new FileReader;n.onload=function(t){var n=t.target.result,r=new Image;r.onload=function(){e.props.setLocalThumbnail(n,{width:r.width,height:r.height})},r.src=n},n.readAsDataURL(t)})),re()(K()(e),"handleFile",(function(t){t&&e.readFile(t)})),re()(K()(e),"handleUploadCoverClick",(function(e){e.stopPropagation()})),re()(K()(e),"handleAddCoverClick",(function(){e.props.localThumbnail?e.props.initiateThumbnailSave():document.querySelector("#upload-thumbnail-file").click()})),re()(K()(e),"handleSaveGif",(function(){var t=e.state,n=t.useGif,r=t.useGifDefault,i=e.props.videoId;Le.h(ve.Rb,{useGif:n,useGifDefault:r,videoId:i}),e.props.updateGifSettings(i,n,r&&n)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.localThumbnail,n=e.uploading,r=e.thumbnails,i=e.preferredDims,a=e.supportGifs,s=this.state,l=s.interactedWith,u=s.useGifDefault,d=s.useGif,m=(r||{})[dc.d],f=!t&&l;return c.a.createElement(Uo,{className:"thumbnail-form"},c.a.createElement(yc,{multiple:!1,onDrop:this.handleDropzoneDrop}),c.a.createElement("div",{className:"edit-thumbnail-header"},c.a.createElement(ie.Text,{variant:"title"},m?"Edit thumbnail":"Upload a thumbnail")),c.a.createElement("div",{className:"thumbnail-drop-area"},c.a.createElement("div",{className:"mb:small"},c.a.createElement(gc,{color:"var(--lns-color-orangeDark)",size:6})),c.a.createElement(ie.Text,null,"Drag and drop to upload"),c.a.createElement(ie.Text,{size:"small",color:"bodyDimmed"},i.width," x ",i.height,"px .pngs, and .jpgs work best!")),t&&c.a.createElement("div",null,""),m&&c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"thumb-instructions"},"Adjust positioning and zoom"),c.a.createElement(ie.Text,{alignment:"center",size:"small"},"delete to use a different thumbnail"),c.a.createElement(ie.Spacer,{top:"medium",bottom:"medium"},c.a.createElement(ie.TextButton,{className:"relative",icon:c.a.createElement(ie.SvgTrash,null),onClick:this.handleDeleteThumbnail},"Delete Thumbnail"))),a&&!m&&!t&&c.a.createElement("div",{className:"animated-preview"},c.a.createElement("div",{className:"flex mb:small"},c.a.createElement("span",{className:"grow:1",onClick:this.toggleProp("useGif")},"Animated Thumbnail (gif)"),c.a.createElement(ie.Switch,{index:"use-gif",isActive:d||!1,onClick:this.toggleProp("useGif")})),c.a.createElement("div",{className:"animated-preview-default"},c.a.createElement(Lt.a,{isChecked:u||!1,onEnable:this.toggleProp("useGifDefault"),onDisable:this.toggleProp("useGifDefault")}),c.a.createElement("span",{onClick:this.toggleProp("useGifDefault")},"Use this setting for all videos"))),c.a.createElement("div",{className:"flex width:full mt:medium relative"},c.a.createElement(ie.Container,{width:"50%",paddingRight:"xsmall"},c.a.createElement(ie.Button,{isDisabled:n,onClick:this.handleExitFlow,hasFullWidth:!0},"Cancel")),!f&&c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{variant:"primary",isDisabled:n,onClick:this.handleAddCoverClick,hasFullWidth:!0},t?"Save":"Browse")),c.a.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:this.handleUploadCoverClick,onChange:this.handleBrowseInput,accept:"image/jpeg,image/pjpeg,image/png"}),f&&c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{variant:"primary",isDisabled:n,onClick:this.handleSaveGif,hasFullWidth:!0},"Save"))))}},{key:"componentDidMount",value:function(){var e=this,t=(this.props.thumbnails||{})[dc.a],n=this.props.useGif,r=void 0!==n&&n;this.setState({useGif:r}),t&&fetch(Object(Ve.b)(t)).then((function(e){if(!e.ok)throw new Error("Failed to fetch current thumbnail");return e.blob()})).then((function(t){e.readFile(t)})).catch((function(){e.props.showErrorBar(g.a,"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image")}))}}]),n}(c.a.Component),_c=Object(l.connect)((function(e){var t=e.share_video,n=t.currentUserIsOwner,r=t.video,i=t.download_url,a=e.video_player,o=a.width,c=a.height,s=e.editor.thumbnail_data,l=e.user.capabilities;return{currentUserIsOwner:n,videoId:r.id,thumbnails:r.thumbnails,localThumbnail:s.thumbnail_local,uploading:s.uploading,preferredDims:{width:o,height:c},useGif:r.use_gif,supportGifs:l&&l.includes(It.e)&&i}}),(function(e){return{removeVideoThumbnail:function(t){return e(Object(_.l)(t))},endThumbnailFlow:function(){return e(Object(jo.b)())},setLocalThumbnail:function(t,n){return e(Object(jo.f)(t,n))},initiateThumbnailSave:function(){return e(Object(jo.e)())},showErrorBar:function(t,n){return e(Object(p.b)(t,n))},showMessage:function(t){return e(Object(pt.b)(t))},updateGifSettings:function(t,n,r){return e(Object(_.o)(t,n,r))}}}))(wc);function Ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Sc=function(e){Y()(n,e);var t=Ec(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.collaboratePermissions,n=e.currentUserIsOwner,r=e.enterTrimEnabled,i=e.onClick,a=e.disabled,o=e.videoIsTeamShared;return!Be.isMobile&&(n||o||t.write)&&c.a.createElement(ie.TextButton,{isDisabled:a||!r,icon:c.a.createElement(ie.SvgScissors,null),onClick:r?i:void 0},"Trim")}}]),n}(c.a.Component);re()(Sc,"defaultProps",{onClick:function(){}});var Cc=Object(l.connect)((function(e){var t=e.share_video,n=t.player_ready,r=t.video,i=t.current_user_is_owner,a=t.video_is_team_shared,o=r.processing_information,c=void 0===o?{}:o,s=c.trim_id,l=c.trim_progress,u=n||null!=s&&100!==l;return{collaboratePermissions:r.collaboratePermissions,currentUserIsOwner:i,enterTrimEnabled:u,videoIsTeamShared:a}}))(Sc);n("7wXx");function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Oc=function(e){Y()(n,e);var t=Tc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,loom_branded_player:!0,loom_branded_player_default:!1,use_emojis:!0,use_emojis_default:!1,use_gif_default:!1,use_gif:!1,flipped_camera:!0,show_analytics_to_viewer:!0,original_comments_email_enabled:!0,original_comments_enabled:!0,original_download_enabled:!0,original_flipped_camera:!0,original_show_analytics_to_viewer:!0}),re()(K()(e),"toggleProp",(function(t){return function(){e.setState(re()({},t,!e.state[t]))}})),re()(K()(e),"handleUpdatePassword",(function(t){e.setState({password:t,password_err:null})})),re()(K()(e),"toggleCommentsEnabled",(function(){var t=e.state.comments_enabled;window.setTimeout((function(){e.setState({comments_email_enabled:!t})}),200),e.setState({comments_enabled:!t})})),re()(K()(e),"togglecommentsEmailEnabled",(function(){var t=e.state,n=t.comments_enabled,r=t.comments_email_enabled;(n||r)&&e.setState({comments_email_enabled:!e.state.comments_email_enabled})})),re()(K()(e),"handleSaveClick",(function(){var t=e.state,n=t.comments_enabled,r=t.comments_email_enabled,i=t.download_enabled,o=t.flipped_camera,c=t.show_analytics_to_viewer,s=t.loom_branded_player,l=t.loom_branded_player_default,u=t.use_emojis,d=t.use_emojis_default,m=t.use_gif,f=t.use_gif_default,p=e.props,h=p.video,v=p.onSaveClick,g=p.updateVideoSettings,b=p.updateDefaultVideoSettings,y=function(t){return e.state[t]!==e.state["original_".concat(t)]};Le.h(ve.fd,{comments_enabled:n,comments_email_enabled:r,download_enabled:i,flipped_camera:o,show_analytics_to_viewer:c,use_emojis:u,use_emojis_default:d,loom_branded_player:s,loom_branded_player_default:l,video_id:h.id,comments_enabled_changed:y("comments_enabled"),comments_email_enabled_changed:y("comments_email_enabled"),download_enabled_changed:y("download_enabled"),flipped_camera_changed:y("flipped_camera"),show_analytics_to_viewer_changed:y("show_analytics_to_viewer"),use_emojis_default_changed:y("use_emojis_default"),loom_branded_player_default_changed:y("loom_branded_player_default")}),g({comments_enabled:n,comments_email_enabled:r,download_enabled:i,flipped_camera:o,show_analytics_to_viewer:c,loom_branded_player:s,use_emojis:u,use_gif:m});var k={};d&&(k=Nc(Nc({},k),{},{use_emojis:u})),f&&(k=Nc(Nc({},k),{},{use_gif:m})),l&&(k=Nc(Nc({},k),{},{loom_branded_player:s})),a()(k)||b(k),v()})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.validationError,r=e.onCancelClick;if(null==t)return null;var i=this.state,a=i.comments_email_enabled,o=i.comments_enabled,s=i.download_enabled,l=i.flipped_camera,u=i.show_analytics_to_viewer,d=i.loom_branded_player,m=i.loom_branded_player_default,f=i.use_emojis_default,p=i.use_emojis,h=i.use_gif_default,v=i.use_gif,g=t.thumbnails[dc.e],b=(t.video_properties||{}).screen_type===ke.a;return c.a.createElement(Uo,{className:"edit-video-settings"},c.a.createElement("div",{className:"mb:medium"},c.a.createElement(ie.Text,{variant:"title"},"Settings")),c.a.createElement(ie.List,{columns:["1fr","auto"],gap:"small"},c.a.createElement(ie.ListRow,{padding:"medium"},"Comments",c.a.createElement(ie.Switch,{index:"comments-enabled",isActive:o,onClick:this.toggleCommentsEnabled})),c.a.createElement(ie.ListRow,{padding:"medium"},"Comment email notifications",c.a.createElement(ie.Switch,{index:"comments-email-enabled",isActive:a,onClick:this.togglecommentsEmailEnabled})),c.a.createElement(ie.ListRow,{padding:"medium"},"Emoji Reactions",c.a.createElement(ie.Switch,{index:"use-emojis",isActive:p,onClick:this.toggleProp("use_emojis")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("use_emojis_default")},c.a.createElement(Lt.a,{isChecked:f,onEnable:this.toggleProp("use_emojis_default"),onDisable:this.toggleProp("use_emojis_default")}),"Make default setting")),g&&c.a.createElement(ie.ListRow,{padding:"medium"},"Animated Thumbnail (gif)",c.a.createElement(ie.Switch,{index:"use-gif",isActive:v,onClick:this.toggleProp("use_gif")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("use_gif_default")},c.a.createElement(Lt.a,{isChecked:h,onEnable:this.toggleProp("use_gif_default"),onDisable:this.toggleProp("use_gif_default")}),"Make default setting")),c.a.createElement(mn.a,{names:we.f},c.a.createElement(ie.ListRow,{padding:"medium"},"Loom Branded Player",c.a.createElement(ie.Switch,{index:"show-end-of-video-screen",isActive:d,onClick:this.toggleProp("loom_branded_player")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("loom_branded_player_default")},c.a.createElement(Lt.a,{isChecked:m,onEnable:this.toggleProp("loom_branded_player_default"),onDisable:this.toggleProp("loom_branded_player_default")}),"Make default setting"))),c.a.createElement(ie.ListRow,{padding:"medium"},"Viewer can download",c.a.createElement(ie.Switch,{index:"download-enabled",isActive:s,onClick:this.toggleProp("download_enabled")})),c.a.createElement(ie.ListRow,{padding:"medium"},"Show analytics to viewer",c.a.createElement(ie.Switch,{index:"analytics-to-viewer",isActive:u,onClick:this.toggleProp("show_analytics_to_viewer")})),b&&c.a.createElement(ie.ListRow,{padding:"medium"},"Flip camera",c.a.createElement(ie.Switch,{index:"flipped-camera",isActive:l,onClick:this.toggleProp("flipped_camera")})),c.a.createElement("div",{className:"flex width:full mt:large"},n&&c.a.createElement("span",{className:"validation-error"},"Oops! Could not update settings"),c.a.createElement(ie.Container,{width:"50%",paddingRight:"xsmall"},c.a.createElement(ie.Button,{hasFullWidth:!0,onClick:r},"Cancel")),c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{hasFullWidth:!0,variant:"primary",onClick:this.handleSaveClick},"Save")))))}},{key:"componentDidMount",value:function(){var e=this.props.video,t=e.comments_email_enabled,n=e.comments_enabled,r=e.download_enabled,i=e.flipped_camera,a=e.show_analytics_to_viewer,o=e.loom_branded_player,c=void 0===o||o,s=e.use_emojis,l=void 0===s||s,u=e.use_gif,d=void 0!==u&&u;this.setState({comments_email_enabled:t,comments_enabled:n,download_enabled:r,flipped_camera:i,show_analytics_to_viewer:a,loom_branded_player:c,use_emojis:l,use_gif:d,original_comments_email_enabled:t,original_comments_enabled:n,original_download_enabled:r,original_flipped_camera:i,original_show_analytics_to_viewer:a})}}]),n}(c.a.Component);re()(Oc,"defaultProps",{onCancelClick:function(){},onSaveClick:function(){}});var Ic=Object(l.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video}}),(function(e){return{updateDefaultVideoSettings:function(t){return e(Object(E.l)(t))},updateVideoSettings:function(t,n){return e(Object(_.r)(t,n))}}}))(Oc);n("SQno");function Rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Dc=function(e){Y()(n,e);var t=Rc(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.ctaFlow,n=e.thumbnailFlow,r=e.privacySettingsFlow,i=e.customAccessFlow,a=e.videoSettingsFlow,o=e.video,s=e.hasCustomThumbnail,l=e.hasCta,u=e.onEnterTrimMode,d=e.inUploadMode,m=(t?" cta":"")+(i?" custom-access":"")+(r?" privacy":"")+(n?" thumbnail":"")+(a?" video-settings":""),f=[!(t||n||i||r||a)&&c.a.createElement(Uo,{key:"edit-video"},c.a.createElement("div",{className:"edit-video-header"},c.a.createElement(ie.Text,{variant:"title"},"Edit Your Video"),c.a.createElement("div",{className:"edit-video-header-status"},s&&c.a.createElement("div",{className:"edit-video-header-thumbnail"},c.a.createElement(ie.Tooltip,{content:"Video has a custom thumbnail",placement:"bottomCenter"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgImage1,null),size:"1.25rem"}))),l&&c.a.createElement("div",{className:"edit-video-header-cta"},c.a.createElement(ie.Tooltip,{content:"Video has call-to-action link",placement:"bottomCenter"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgCallToAction,null),size:"1.25rem"}))))),c.a.createElement("div",{className:"edit-video-buttons"},c.a.createElement(mn.a,{names:we.F},c.a.createElement(ie.TextButton,{onClick:this.props.startVideoSettingsFlow,icon:c.a.createElement(ie.SvgSettings,null)},"Settings")),c.a.createElement(Cc,{onClick:u,disabled:d}),c.a.createElement(Go,{disabled:d}),c.a.createElement(pc,{disabled:d}))),t&&c.a.createElement(uc,{key:"cta-form"}),n&&c.a.createElement(_c,{key:"thumbnail-widget"}),a&&c.a.createElement(Ic,{key:"video-settings",video:o,onSaveClick:this.props.endVideoSettingsFlow,onCancelClick:this.props.endVideoSettingsFlow})].filter(Boolean);return c.a.createElement("div",{className:"edit-video".concat(m)},f.map((function(e){return c.a.createElement("div",{key:e.key},e)})))}},{key:"componentDidUpdate",value:function(e){if(this.props.editorMode!=e.editorMode){var t=document.documentElement;t.className=t.className.replace("editor-mode-enabled",""),this.props.editorMode&&(t.className+=" ".concat("editor-mode-enabled"))}}}]),n}(o.Component),Pc=Object(l.connect)((function(e){var t=e.editor,n=e.share_video,r=n.cta_enabled,i=n.video.thumbnails,a=void 0===i?{}:i,o=e.video_player.in_upload_mode,c=t.cta_flow,s=t.thumbnail_flow,l=t.privacy_settings_flow,u=t.video_settings_flow,d=t.custom_access_flow,m=t.editorMode;return{ctaFlow:c,thumbnailFlow:s,privacySettingsFlow:l,customAccessFlow:d,videoSettingsFlow:u,editorMode:void 0===m?c||s:m,hasCta:r,inUploadMode:o,hasCustomThumbnail:a.full}}),(function(e){return{startVideoSettingsFlow:function(){return e(Object(jo.i)())},endVideoSettingsFlow:function(){return e(Object(jo.c)())}}}))(Dc),Fc=n("y01c");function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ac=function(e){Y()(n,e);var t=jc(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){return this.props.currentFolderId?c.a.createElement(Fc.a,{currentFolderId:this.props.currentFolderId,onMove:this.props.onMove}):null}}]),n}(c.a.Component),Mc=Object(l.connect)((function(e){var t=e.share_video.video_folders.slice(-1)[0];return{currentFolderId:t?t.id:null}}),(function(e){return{onMove:function(t,n){return e(Object(_.k)(t,n))}}}))(Ac),Lc=(n("E9XD"),n("TJKz")),Vc=n("4mtl");n("XWFo");function Uc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bc=function(e){Y()(n,e);var t=Uc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{left:void 0}),re()(K()(e),"moveIntoView",(function(){var t=e.root.getBoundingClientRect(),n=t.width,r=t.left,i=document.body.getBoundingClientRect().width,a=r+-1*(e.state.left||0)+n-i;a>0?e.setState({left:-a}):e.setState({left:void 0})})),re()(K()(e),"handleClickOutside",(function(){var t;(t=e.props).onClickOutside.apply(t,arguments)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i={left:this.state.left};return c.a.createElement("div",{ref:function(t){return e.root=t},style:i,className:"dropdown ".concat(this.props.show?"show":""," ").concat(r)},c.a.createElement("ul",null,c.a.Children.map(n,(function(e){return c.a.createElement("li",{key:e.key},e)}))))}},{key:"componentDidMount",value:function(){this.moveIntoView()}},{key:"componentDidUpdate",value:function(e){e.show!=this.props.show&&this.moveIntoView()}}]),n}(c.a.PureComponent);re()(Bc,"defaultProps",{onClickOutside:function(){},show:!1,className:""});var qc=ca()(Bc);n("N13F");function Wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var zc=function(e){Y()(n,e);var t=Wc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"getFolderUrl",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,t,n){return 0==n?e.concat(t.special_id||t.id):e.concat(t.name)}),[]),r=n.map(encodeURIComponent).join("/");return t?"/share/folder/".concat(r):"/".concat(r)})),re()(K()(e),"handleClickMove",(function(t){var n=e.props,r=n.videoId,i=n.videoName,a=n.folders,o=n.user;t.preventDefault(),e.props.onClickMove(r,i,a,o.account_type)})),re()(K()(e),"handleClickFolderIcon",(function(){e.props.showFolderHierarchy?e.props.onClickHideHierarchy():e.props.onClickShowHierarchy()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.folders,r=t.usePublicLinks,i=n.slice(0,-1),a=n.slice(-1)[0];return n&&0!=n.length?c.a.createElement("div",{className:"move-to-folder"},c.a.createElement(qc,{outsideClickIgnoreClass:"move-to-folder-multiple-icon",onClickOutside:this.props.onClickHideHierarchy,className:"move-to-folder-dropdown",show:this.props.showFolderHierarchy},i.map((function(t,n){return c.a.createElement("a",{href:e.getFolderUrl(i.slice(0,n+1),r),className:"move-to-folder-dropdown-item",key:t.id},t.name)}))),c.a.createElement("div",{className:"move-to-folder-actions"},c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgFolder,null),onClick:this.handleClickMove})),c.a.createElement(To,null,1===n.length?"Move to Folder":a.name)):null}}]),n}(c.a.PureComponent),Gc=Object(l.connect)((function(e,t){var n=e.share_video,r=t.folders||e.share_video.video_folders,i=e.user.current;return{folders:r,videoId:n.video?n.video.id:null,videoName:n.video?n.video.name:null,showFolderHierarchy:n.show_folder_hierarchy,usePublicLinks:!n.current_user_is_owner&&!n.video_is_team_shared,user:i}}),(function(e){return{onClickShowHierarchy:function(){return e(Object(fe.b)())},onClickHideHierarchy:function(){return e(Object(fe.a)())},onClickMove:function(t,n,r,i){Le.h(ve.cd,{folder_id:r[0].id,folder_special_id:r[0].special_id,video_name:n,video_id:t}),e(Object(Vc.O)([{id:t,name:n,type:"video"}])),Ot.b.includes(i)?e(Object(Lc.j)(!0)):e(Object(Vc.lb)(!0))}}}))(zc),Hc=(n("Rfxz"),n("Dzm3")),Jc=n("Ylmw"),Qc=n("peh1"),Kc=Object(Qc.createSelector)((function(e){return e.attachments}),(function(e){return e.widget_active})),$c=Object(Qc.createSelector)((function(e){return e.editor}),(function(e){var t=e.cta_flow,n=e.thumbnail_flow,r=e.custom_access_flow,i=e.video_settings_flow;return t||n||r||i})),Yc=n("joSB");n("kjBy");function Xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Zc=function(e){Y()(n,e);var t=Xc(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{attachmentUrl:"",error:null}),re()(K()(e),"handleSumbitLink",(function(t){var n=e.state.attachmentUrl;if(!Object(Wi.r)({exact:!0,strict:!1}).test(n))return e.setState({error:"Yikes! Doesnt look like a valid URL"});e.props.createLinkAttachment(n),e.setState({attachmentUrl:""}),t.target.blur()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state.attachmentUrl,n=null!=this.state.error?"error":"";return c.a.createElement("div",{className:"link-attachment-form relative ".concat(this.state.error?"has-error":"")},c.a.createElement(Xi.a,{onChange:function(t){return e.setState({attachmentUrl:t})},onEnter:this.handleSumbitLink,inputClass:"new-style",fieldLabel:"Paste in https://...",fieldType:"text",fieldValue:t,severity:n,status:this.state.error}),c.a.createElement(ie.Button,{variant:"primary",onClick:this.handleSumbitLink,hasFullWidth:!0},"Save"))}}]),n}(o.Component),es=n("jerJ"),ts=n.n(es);n("Xf1m");function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var rs=function(e){Y()(n,e);var t=ns(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUploadInputClick",(function(e){e.stopPropagation()})),re()(K()(e),"handleUploadSelect",(function(){document.querySelector("#upload-attachment-file").click()})),e}return J()(n,[{key:"render",value:function(){var e=this.props.error;return c.a.createElement("div",{className:"upload-attachment-form"},c.a.createElement("img",{src:ts.a,className:"thumb-drag-and-drop-illo"}),c.a.createElement("p",null,"Drag and drop or"," ",c.a.createElement("span",{onClick:this.handleUploadSelect},"choose file")),c.a.createElement("p",{className:"upload-attachment-recommendation ".concat(e?"error":"")},e||"We recommend files under ".concat(Mn(xn.n),"{' '} with the extension .doc, .key, .pages, .zip, .pdf, or .jpg.")),c.a.createElement("input",{type:"file",id:"upload-attachment-file",onClick:this.handleUploadInputClick,onChange:this.props.onSelection,multiple:!0}))}}]),n}(o.Component);n("RwwH");function is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var as=function(e){Y()(n,e);var t=is(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{downloading:!1,downloadProgress:0,downloadProgressInstance:null}),re()(K()(e),"handleOpen",(function(){var t=e.props.attachment,n=t.type,r=t.upload_complete,i=t.url;if("link"===n)return Le.h(ve.q,e.getTrackProperties()),window.open(i,"_blank");r&&e.handleDownload()})),re()(K()(e),"handleDelete",(function(t){t.stopPropagation(),e.props.onDelete(e.props.attachment.id)})),re()(K()(e),"handleDownload",(function(){if(e.state.downloading)return!1;var t=e.props.attachment,n=t.download_url,r=t.name,i=new yr.a((function(t){return e.setState({downloadProgress:t})}),(function(){Le.h(ve.q,e.getTrackProperties()),e.resetDownloadState(),i.save()}),(function(){return e.resetDownloadState()}));i.fetch(n,r),e.setState({downloading:!0,downloadProgressInstance:i})})),re()(K()(e),"resetDownloadState",(function(){e.setState({downloading:!1,downloadProgress:0,downloadProgressInstance:null})})),re()(K()(e),"getTrackProperties",(function(){var t=e.props,n=t.attachment,r=n.type,i=n.url,a=n.mime,o=n.name,c=n.owner_id,s=t.currentUserIsOwner;return{video_id:t.videoId,is_video_owner:s,attachment_type:r,attachment_url:i,mime:a,name:o,owner_id:c}})),e}return J()(n,[{key:"render",value:function(){var e=this.props.attachment,t=this.state,n=t.downloading,r=t.downloadProgress,i="link"===e.type,a=i||e.upload_complete;return c.a.createElement("div",{className:"attachment-widget-item ".concat(a?"complete":"")},c.a.createElement("span",{className:"attachment-name-section"},c.a.createElement(ie.Text,{hasEllipsis:!0},e.name)),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"attachment-buttons-section"},c.a.createElement(ie.IconButton,{altText:i?"Open ".concat(e.name):"Download ".concat(e.name),icon:i?c.a.createElement(ie.SvgExternalLink,null):c.a.createElement(ie.SvgDownload,null),onClick:this.handleOpen})),c.a.createElement("div",{className:"attachment-buttons-section"},c.a.createElement(ie.IconButton,{altText:"Delete ".concat(e.name),icon:c.a.createElement(ie.SvgClose,null),onClick:this.handleDelete}))),n&&c.a.createElement("div",{className:"circular-progress-bar-section"},c.a.createElement(br.a,{percentage:r,strokeWidth:10,styles:{path:{stroke:Object(ie.getColorValue)("blurple"),strokeLinecap:"round"},trail:{stroke:Object(ie.getColorValue)("white")}}})))}},{key:"componentWillUnmount",value:function(){this.state.downloadProgressInstance&&this.state.downloadProgressInstance.abort()}}]),n}(o.Component),os=function(e){Y()(n,e);var t=is(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleClose",(function(){e.props.updateAttachmentInputSelectionError(null),e.props.closeWidget()})),re()(K()(e),"handleIncludeTimestamp",(function(){e.props.updateIncludeTimestamp(!0)})),re()(K()(e),"handleRemoveTimestamp",(function(){e.props.updateIncludeTimestamp(!1)})),re()(K()(e),"handleSumbitLink",(function(){var t=e.state.attachmentUrl;e.props.createLinkAttachment(t)})),re()(K()(e),"handleFileSelection",(function(t){var n=t.target.files;n[0]&&e.handleFiles(n)})),re()(K()(e),"handleFiles",(function(t){for(var n=0;n<t.length;n++)e.props.createUploadAttachment(t[n])})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.attachments,r=t.createWithTimestamp,i=t.currentTime,a=t.currentUserIsOwner,o=t.numCompleteAttachments,s=t.inputSelectionError,l=t.videoId;return t.widgetActive?c.a.createElement("div",{className:"attachment-widget"},c.a.createElement(yc,{multiple:!0,onDrop:this.handleFiles}),c.a.createElement("span",{className:"close"},c.a.createElement(ie.IconButton,{altText:"Cancel",icon:c.a.createElement(ie.SvgClose,null),onClick:this.handleClose})),c.a.createElement(ie.Text,{variant:"title"},"Link Resources"),c.a.createElement(Zc,{createLinkAttachment:this.props.createLinkAttachment}),c.a.createElement(rs,{onSelection:this.handleFileSelection,error:s}),c.a.createElement(ie.Spacer,{top:2,bottom:2},c.a.createElement(ie.Container,{backgroundColor:"border",height:"1px"})),c.a.createElement("div",{className:"create-with-timestamp"},c.a.createElement(Lt.a,{isChecked:r,isDisabled:!1,onEnable:this.handleIncludeTimestamp,onDisable:this.handleRemoveTimestamp}),c.a.createElement("span",null,"Attach at"," ",c.a.createElement("span",{className:"time-link"},Object(Ri.d)(Math.round(i))))),c.a.createElement(ie.Spacer,{top:4},o>0&&c.a.createElement("span",null,o," ","attachment".concat(o>1?"s":"")),n.map((function(t,n){return c.a.createElement(as,{key:n,attachment:t,currentUserIsOwner:a,onDelete:e.props.deleteAttachment,videoId:l})})))):c.a.createElement("div",{className:"attachment-widget deactivated"},c.a.createElement(ie.Text,{variant:"title"},"Attach Files"),c.a.createElement("div",{className:"mt:small mb:medium"},c.a.createElement(ie.Text,{htmlTag:"p"},"Attach files from your computer or link with a URL to give your viewers more context.")),c.a.createElement(ie.Button,{onClick:this.props.openWidget,hasFullWidth:!0},"Attach Files"))}},{key:"componentDidMount",value:function(){this.props.attachmentsFetchedOnce||this.props.fetchAllAttachmentsCreator()}}]),n}(o.Component),cs=Object(l.connect)((function(e){var t=e.attachments,n=t.attachments,r=t.fetched_once,i=t.upload_queue,a=e.share_video,o=a.current_user_is_owner,c=a.video.id,s=e.video_player.current_time,l=e.attachments,u=l.createWithTimestamp,d=l.input_selection_error,m=l.widget_active,f=n.sort((function(e){return e.createdAt})).filter((function(e){return"link"===e.type||e.upload_complete}));return i.forEach((function(e){f.find((function(t){return e.id===t.id}))||(f=[e].concat(hn()(f)))})),{attachments:f,attachmentsFetchedOnce:r,currentUserIsOwner:o,createWithTimestamp:u,currentTime:s,inputSelectionError:d,numCompleteAttachments:f.length,videoId:c,widgetActive:m}}),(function(e){return{closeWidget:function(){return e(yn(!1))},createLinkAttachment:function(t){return e(or(t))},createUploadAttachment:function(t){return e(ar(t))},deleteAttachment:function(t){return e(tr(t))},fetchAllAttachmentsCreator:function(){return e(nr())},openWidget:function(){return e(yn(!0))},updateAttachmentInputSelectionError:function(t){return e(bn(t))},updateIncludeTimestamp:function(t){return e(kn(t))}}}))(os),ss=[{key:"link-sharing"},{key:"public"}],ls=function(e){var t=e.handleUpgradeUpsell;return c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{flag:b.F,activationValue:!1},c.a.createElement(ie.Tooltip,{isInline:!1,stickyOnHover:!0},c.a.createElement("div",{className:"mb:small"},c.a.createElement("div",{className:"mb:small"},"Invite people by email to limit who",c.a.createElement("br",null)," is able to watch your video."),c.a.createElement(ie.Button,{hasFullWidth:!0,onClick:t,variant:"primary"},"Upgrade Now")))),c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(qo.a,{title:"Invite by email"},c.a.createElement("div",{className:"mb:small",onClick:function(){return window.location.href=y.J}},c.a.createElement(ie.Button,{hasFullWidth:!0,isDisabled:!0,variant:"primary"},"Invite People")))))},us=function(e){var t=e.workspaceId;return c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(qo.a,{title:"Add password",message:Bo.e},c.a.createElement("div",{className:"disabledButtonWrapper",onClick:function(){Object(Le.h)(ve.k,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:t},(function(){window.location.href=y.J}))}},c.a.createElement(ie.Button,{hasFullWidth:!0,isDisabled:!0,variant:"primary"},"Add Password"),c.a.createElement(ie.Spacer,{bottom:1}))))};var ds=function(e){var t=Object(o.useState)((function(){var t=e.video;return t&&t.allow_search_engine_indexing?"public":"link-sharing"})),n=st()(t,2),r=n[0],i=n[1],a=Object(o.useState)(!1),s=st()(a,2),u=s[0],d=s[1],m=Object(l.useDispatch)(),f=Object(dt.d)(),p=ss.find((function(e){return e.key===r}));function h(e){return v.apply(this,arguments)}function v(){return(v=W()(B.a.mark((function t(n){var r,a,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.video,a=r&&r.allow_search_engine_indexing,(o="public"===n)===a){t.next=6;break}return t.next=6,e.onVideoPrivacyChange(o);case 6:i(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g=e.expanded,b=e.video,y=b.is_protected,k=b.permitted_viewers_only;return c.a.createElement(Uo,null,c.a.createElement("div",{className:"flex items:center mb:medium"},c.a.createElement("div",{className:"grow:1"},c.a.createElement(ie.Text,{variant:"title"},"Access Control")),b.permitted_viewers_only&&c.a.createElement(ie.Tooltip,{content:"Video only visible to permitted viewers",placement:"bottomCenter"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgUsersAdd,null)})),b.is_protected&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ml:small"}),c.a.createElement(ie.Tooltip,{content:"Video has password",placement:"bottomCenter"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgLock,null)})))),g&&c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"flex items:center mb:small"},c.a.createElement("div",{className:"grow:1"},c.a.createElement(ie.Text,{fontWeight:"bold"},"Search Engine Indexing")),c.a.createElement(ie.Switch,{isActive:"public"===p.key,onClick:function(){"link-sharing"===p.key?d(!0):h("link-sharing")}}),c.a.createElement(ie.Modal,{isOpen:u,title:"Turn on search engine indexing?",mainButton:c.a.createElement(ie.Button,{variant:"primary",onClick:function(){return function(){b.is_protected&&m(Object(_.r)({},null)),b.permitted_viewers_only&&m(Object(Po.b)(b.viewer_permission_list.map((function(e){return{email:e,status:!1}})),b.id)),h("public"),d(!1)}()}},"Yes, turn on"),secondaryButton:c.a.createElement(ie.Button,{onClick:function(){return d(!1)}},"Cancel")},"This will reset all other privacy settings.")),c.a.createElement(ie.Text,{color:"bodyDimmed",size:"small"},"Anyone on the web can find and access the video. No login required.")),c.a.createElement("div",{className:"mt:medium"},c.a.createElement(mn.a,{names:we.D,alternate:c.a.createElement(us,{workspaceId:f.id})},c.a.createElement("div",{className:"mb:small"},c.a.createElement(ie.Tooltip,{isInline:!1,content:"Only allow people with a password to view this video"},c.a.createElement(ie.Button,{hasFullWidth:!0,onClick:e.onAddPasswordClick,isDisabled:"public"===p.key},y?"Edit Password":"Add Password")))),c.a.createElement(mn.a,{names:we.C,alternate:c.a.createElement(ls,{handleUpgradeUpsell:function(){Object(Le.h)(ve.Sc,{fab_type:"custom-viewer"},(function(){window.location.href="/account-settings?showUpgrade=true#billing"}))}})},c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Tooltip,{isInline:!1,content:"Only allow people with specific emails to view this video.",placement:"bottomCenter"},c.a.createElement(ie.Button,{onClick:e.onCustomViewerClick,hasFullWidth:!0,isDisabled:"public"===p.key},k&&"Edit"," Custom Access")))))))},ms=n("1obp"),fs=n("/xeN"),ps=n("4Opg"),hs=n.n(ps),vs=n("Nrs4"),gs=n.n(vs);n("uODP");function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ys=function(e){Y()(n,e);var t=bs(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{show:!0}),re()(K()(e),"onCloseClick",(function(){Object(fs.a)(),e.setState({show:!1})})),e}return J()(n,[{key:"componentDidMount",value:function(){this.props.getFeatureFlag(b.d)}},{key:"render",value:function(){var e=this.state.show,t=this.props.wantsToShareWithLoomTeam;return c.a.createElement(c.a.Fragment,null,e&&t?c.a.createElement("div",{className:"share-loom-team-group mt:medium"},c.a.createElement("a",{className:"main-click-group",onClick:fs.b},c.a.createElement("img",{src:gs.a}),c.a.createElement("span",null,"Send your first Loom to us!")),c.a.createElement("a",{className:"close-wrapper",onClick:this.onCloseClick},c.a.createElement("img",{src:hs.a,className:"close-btn"}))):null)}}]),n}(o.Component),ks=Object(l.connect)((function(e){var t=e.user,n=e.share_video,r=e.feature_flags,i=Boolean(window.loomSSRUser),a=n.current_user_is_owner,o="show"===(r[b.d]||{}).value&&t.current.onboarding[ms.b]&&!t.current.onboarding[ms.a];return{wantsToShareWithLoomTeam:i&&a&&o}}),(function(e){return{getFeatureFlag:function(t){return e(Object(w.a)(t))}}}))(ys),ws=n("XT2K"),_s=n("F3pX");function Es(){var e=Object(l.useDispatch)(),t=Object(l.useSelector)(Je.c);return c.a.createElement("div",null,t&&c.a.createElement(ie.Distribute,{alignment:"center",gap:"medium"},c.a.createElement(ie.Distribute,{gap:"small",alignment:"center"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgDomain,null)}),c.a.createElement(ie.Text,null,"In"," ",c.a.createElement(ie.Link,{variant:"neutral",href:"/team-videos"},"Team Library"))),c.a.createElement(ie.TextButton,{onClick:function(){Le.h(ve.D),e(Object(_.k)(ws.A,ws.h,!1,_s.a))}},"Undo")),!t&&c.a.createElement(ie.Button,{hasFullWidth:!0,onClick:function(){Le.h(ve.C),e(Object(_.k)(ws.D,ws.G,!1,_s.e))}},"Share to Team Library"))}var Ss=n("Il/S"),Cs=n("KDCk");n("o5ip");function xs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ns=function(e){Y()(n,e);var t=xs(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{selections:[],removals:[]}),re()(K()(e),"getRemoveButton",(function(e){return c.a.createElement("div",null,c.a.createElement(ie.Tooltip,{content:"Remove Email",placement:"bottomCenter",triggerOffset:6},c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgClose,null),altText:"Remove email",onClick:e})))})),re()(K()(e),"formatOldSelection",(function(t){var n=t,r=e.state.removals,i=e.getRemoveButton((function(){return e.setState({removals:[n].concat(hn()(r))})}));return c.a.createElement("div",{className:"viewer-list-entry",key:n},n,c.a.createElement(mn.a,{names:we.C},i))})),re()(K()(e),"formatNewSelection",(function(t){var n=e.state.selections,r=t,i=e.getRemoveButton((function(){return e.setState({selections:n.filter((function(e){return e!==r}))})}));return c.a.createElement("div",{className:"viewer-list-entry",key:r},r,c.a.createElement(mn.a,{names:we.C},i))})),re()(K()(e),"handleSelection",(function(t){var n=t.text,r=e.state.selections;e.setState({selections:[n].concat(hn()(r))})})),re()(K()(e),"emailValidation",(function(t){var n=e.props,r=n.permissionList,i=n.user,a=e.state.selections;return i.email===t?"Oops! Can't add your own email":[].concat(hn()(r),hn()(a)).includes(t)?"Oops! That email is already in the list":Object(Wi.m)(t)?void 0:"Oops! That doesn't look like a valid email"})),re()(K()(e),"handleSavePeopleClick",(function(){var t=e.props.video.id,n=e.state,r=n.selections,i=n.removals,a=r.map((function(e){return{email:e,status:!0}})).concat(i.map((function(e){return{email:e,status:!1}})));a.length>0&&(e.props.updateVideoPermissionList(a,t),Le.h(ve.P,{number_of_changes:a.length})),e.props.onExitClick()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.video,r=t.onExitClick,i=t.permissionList;if(null==n)return null;var a=this.state,o=a.selections,s=a.removals,l=o.length+i.length>0;return c.a.createElement(Uo,{className:"edit-custom-access-editor-widget"},c.a.createElement("div",{className:"edit-custom-access-settings-section"},c.a.createElement("div",{className:"mb:small"},c.a.createElement(ie.Text,{variant:"title"},"Custom Access")),c.a.createElement(ie.Text,{color:"bodyDimmed"},"Only allow people with specific emails to view this video. Login required to view."),c.a.createElement(mn.a,{names:we.C},c.a.createElement("div",{className:"my:medium"},c.a.createElement(ie.FormField,{label:"Email"},c.a.createElement(Cs.a,{newStyle:!0,autoFocus:!0,suggestions:[],returnInputOnEmptySelection:!0,queryValidation:this.emailValidation,onSelection:this.handleSelection,ctaButtonText:"Add"}))))),c.a.createElement("div",{className:"edit-custom-access-settings"},c.a.createElement(mn.a,{names:we.C},c.a.createElement("div",{className:"flex width:full mt:medium"},c.a.createElement(ie.Container,{width:"50%",paddingRight:"xsmall"},c.a.createElement(ie.Button,{onClick:r,hasFullWidth:!0},"Cancel")),c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{isDisabled:0===o.length&&0===s.length,variant:"primary",onClick:this.handleSavePeopleClick,hasFullWidth:!0},"Save")))),l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"viewer-list-heading"},"Viewers with Access"),c.a.createElement("div",{className:"permitted-viewer-list"},o.map((function(t){return e.formatNewSelection(t)})),i.filter((function(e){return!s.includes(e)})).map((function(t){return e.formatOldSelection(t)}))))))}}]),n}(c.a.Component);re()(Ns,"defaultProps",{onExitClick:function(){},onSaveClick:function(){}});var Ts=Object(l.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video,user:e.user.current,permissionList:e.video_player.viewer_permission_list}}),(function(e){return{updateVideoSettings:function(t,n){return e(Object(_.r)(t,n))},updateVideoPermissionList:function(t,n){return e(Object(Po.b)(t,n))}}}))(Ns);n("j2Cv");function Os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Is=function(e){Y()(n,e);var t=Os(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{password:null,confirmPassword:null,error:null}),re()(K()(e),"handleUpdateConfirmPassword",(function(t){e.setState({confirmPassword:t})})),re()(K()(e),"handleUpdatePassword",(function(t){e.setState({password:t})})),re()(K()(e),"handleRemovePasswordClick",(function(){var t=e.props,n=t.video,r=t.updateVideoSettings,i=t.onSaveClick;Le.h(ve.ed,{action:"removed",video_id:n.id}),r({},null),i()})),re()(K()(e),"handleSaveClick",(function(){var t,n=e.state,r=n.password,i=n.confirmPassword,a=e.props,o=a.onSaveClick,c=a.video,s=a.updateVideoSettings;r===i?((r||"").length>0&&(t=r),void 0!==t&&(Le.h(ve.ed,{action:!c.is_protected&&(r||"").length>0?"added":"changed",video_id:c.id}),s({},t)),o()):e.setState({error:"The passwords do not match."})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.video,r=t.validationError,i=t.onCancelClick;if(null==n)return null;var a=this.state,o=a.password,s=a.confirmPassword,l=a.error,u=r||l;return c.a.createElement(Uo,{className:"edit-privacy-settings"},c.a.createElement(ie.Text,{variant:"title"},"Password Protect"),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{label:"Enter new password",labelFor:"new-password"},c.a.createElement(ie.TextInput,{id:"new-password",value:o||"",type:"password",onChange:function(t){return e.handleUpdatePassword(t.target.value)},autoFocus:!0,onKeyUp:function(t){return t.keyCode===Qi.e&&e.handleSaveClick()},hasError:u}))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{label:"Confirm password",labelFor:"confirm-password"},c.a.createElement(ie.TextInput,{id:"confirm-password",autoFocus:!1,value:s||"",type:"password",onChange:function(t){return e.handleUpdateConfirmPassword(t.target.value)},onKeyUp:function(t){return t.keyCode===Qi.e&&e.handleSaveClick()},hasError:u}))),c.a.createElement(ie.Spacer,{top:"medium"},u&&c.a.createElement(ie.Text,{color:"red"},u),n.is_protected&&c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgTrash,null),onClick:this.handleRemovePasswordClick},"Remove password"),c.a.createElement("div",{className:"flex mt:medium"},c.a.createElement(ie.Container,{width:"50%",paddingRight:"xsmall"},c.a.createElement(ie.Button,{onClick:i,hasFullWidth:!0},"Cancel")),c.a.createElement(ie.Container,{width:"50%",paddingLeft:"xsmall"},c.a.createElement(ie.Button,{onClick:this.handleSaveClick,hasFullWidth:!0,variant:"primary"},"Save")))))}}]),n}(c.a.Component);re()(Is,"defaultProps",{onCancelClick:function(){},onSaveClick:function(){}});var Rs=Object(l.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video}}),(function(e){return{updateVideoSettings:function(t,n){return e(Object(_.r)(t,n))}}}))(Is),Ds=n("ilyl"),Ps=n("ynRA"),Fs=n("Qo78"),js=n("miX2");n("qTMz");function As(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ms=[{label:"Responsive",value:"responsive"},{label:"Fixed Size",value:"fixed"}],Ls=function(e){Y()(n,e);var t=As(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{embedCopied:!1,showEmbedCode:!1,sizeType:"responsive",initialHeight:800,initialWidth:1280,height:800,width:1280}),re()(K()(e),"selectAndCopyEmbedCode",(function(){if(e.embedNode){var t=Ue.a(e.embedNode);e.setState({embedCopied:t}),e.copyTimeout&&(window.clearTimeout(e.copyTimeout),e.copyTimeout=null),e.copyTimeout=window.setTimeout((function(){e.setState({embedCopied:!1})}),3e3)}})),re()(K()(e),"onSizeSelection",(function(t){e.setState({sizeType:t,embedCopied:!1})})),re()(K()(e),"toggleEmbedCodeView",(function(){return e.setState({showEmbedCode:!e.state.showEmbedCode})})),re()(K()(e),"onMenuClick",(function(e){return e.stopPropagation()})),re()(K()(e),"onWidthChange",(function(t){var n=e.state.aspectRatio,r=Math.ceil(t/n);e.setState({width:t,height:r})})),re()(K()(e),"onHeightChange",(function(t){var n=e.state.aspectRatio,r=Math.ceil(t*n);e.setState({width:r,height:t})})),e}return J()(n,[{key:"componentDidUpdate",value:function(e){!e.embedDropdownOpen&&this.props.embedDropdownOpen&&this.selectAndCopyEmbedCode()}},{key:"componentDidMount",value:function(){this.props.embedDropdownOpen&&this.selectAndCopyEmbedCode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.embedDropdownOpen,r=t.align,i=t.vAlign,a=t.video,o=this.state,s=o.showEmbedCode,l=o.embedCopied,u=o.sizeType,d=o.width,m=o.height,f=o.aspectRatio,p="responsive"===u,h=p?Object(Ds.i)(a.id,1/f):Object(Ds.g)(a.id,d,m),v=!!p,g=s?"":" hide-code";return c.a.createElement(Fs.a,{show:n,align:r,vAlign:i,additionalClass:"embed-dropdown"},c.a.createElement("div",{className:"embed-dropdown-contents ".concat(s?"code-expanded":""),onClick:this.onMenuClick},c.a.createElement("div",{className:"embed-code-container",onClick:this.selectAndCopyEmbedCode},c.a.createElement("div",{className:"embed-code".concat(g),ref:function(t){return e.embedNode=t}},h)),c.a.createElement("div",{className:"embed-menu"},c.a.createElement("div",{className:"mb:medium"},c.a.createElement(ie.Text,{variant:"title"},"Embed code")),c.a.createElement(js.a,{groupClass:"embed-radio-group",options:Ms,selectedValue:this.state.sizeType,onSelection:this.onSizeSelection}),c.a.createElement("div",{className:"embed-code-size-group"},c.a.createElement(Xi.a,{fieldValue:this.state.width,fieldId:"embed-code-width",fieldType:"number",inputClass:"embed-code-size-input",onChange:this.onWidthChange,disabled:v}),c.a.createElement("span",{className:"embed-code-symbol"},""),c.a.createElement(Xi.a,{fieldValue:this.state.height,fieldId:"embed-code-height",fieldType:"number",inputClass:"embed-code-size-input",onChange:this.onHeightChange,disabled:v})),c.a.createElement(ie.Button,{hasFullWidth:!0,icon:l?c.a.createElement(ie.SvgCheck,null):null,variant:"primary",onClick:this.selectAndCopyEmbedCode},l?"Code Copied!":"Copy Code"),c.a.createElement("div",{className:"embed-show-code-button",onClick:this.toggleEmbedCodeView},s?"Hide Code":"Preview Code"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.video.video_properties,r=n.width,i=n.height;if(!(!t.aspectRatio||r!==t.initialWidth||i!==t.initialHeight))return null;var a=r/i,o=r,c=i;return r>640&&(o=640,c=Math.ceil(o/a)),{initialWidth:r,initialHeight:i,width:o,height:c,aspectRatio:a}}}]),n}(o.Component);n("7IBp");function Vs(e){var t,n=e.video,r=Vo()(e,["video"]),i=Object(o.useRef)(),a=Object(o.useRef)(),s=Object(o.useState)(!1),l=st()(s,2),u=l[0],d=l[1],m=Object(o.useState)(!1),f=st()(m,2),p=f[0],h=f[1],v=Object(Ds.j)(n),g=Object(Ds.d)(n),b=Object(Ds.e)(n);if(!g)return null;var y=function(){return k(i)},k=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ue.a(e.current,n);h(r),t&&(window.clearTimeout(t),t=null),t=window.setTimeout((function(){return h(!1)}),3e3),r&&Le.h(n?ve.Kc:ve.Lc)},w=se()("embed-thumbnail",{"code-expanded":u}),_=se()("embed-thumbnail-code",{"code-hidden":!u}),E=p?"Copied!":u?"Copy Code":"Copy Thumbnail",S=p?c.a.createElement(ie.SvgCheck,null):null;return c.a.createElement(Fs.a,Mo()({additionalClass:"embed-dropdown"},r),c.a.createElement("div",{className:w,onClick:function(e){return e.stopPropagation()}},c.a.createElement("div",{className:"embed-thumbnail-code-container",onClick:y},c.a.createElement("div",{className:_,ref:i},c.a.createElement("p",null,b))),c.a.createElement("div",{className:"embed-thumbnail-preview-container"},c.a.createElement(ie.Text,{htmlTag:"h3",variant:"title"},"Copy Linked GIF"),c.a.createElement("div",{ref:a,className:"embed-thumbnail-preview"},c.a.createElement("a",{href:v,title:"Watch Loom Video"},c.a.createElement("p",null,n.name,"  Watch Video",c.a.createElement("br",null),c.a.createElement("br",null)),c.a.createElement("img",{style:{maxWidth:"300px"},src:g}))),c.a.createElement(ie.Button,{hasFullWidth:!0,icon:S,variant:"primary",onClick:u?y:function(){return k(a,!0)}},E),c.a.createElement("a",{className:"embed-show-code-button",onClick:function(){return d(!u)}},u?"Hide Code":"Show Code"))))}n("HE6t");function Us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bs={isEmbedDropdownOpen:!1,isGifDropdownOpen:!1},qs=function(e){Y()(n,e);var t=Us(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",Bs),re()(K()(e),"handleEmbedCodeClick",(function(t){t.stopPropagation(),e.setState({isEmbedDropdownOpen:!0}),Le.h(ve.Jc),e.props.onHide()})),re()(K()(e),"handleEmbedThumbClick",(function(t){t.stopPropagation(),e.setState({isGifDropdownOpen:!0}),Le.h(ve.Mc),e.props.onHide()})),re()(K()(e),"handleClickOutside",(function(){e.setState(Bs),e.props.show&&e.props.onHide()})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.hasGmailAccount,r=e.video,i=e.show,a=e.align,o=e.vAlign,s=this.state,l=s.isEmbedDropdownOpen,u=s.isGifDropdownOpen,d=Boolean(Object(Ds.d)(r));return c.a.createElement("div",null,i&&c.a.createElement(Ps.a,{show:i,align:a,vAlign:o,additionalClass:"share-dropdown",hasGmailAccount:n,currentUserIsOwner:t,handleEmbedCodeClick:this.handleEmbedCodeClick,handleEmbedThumbClick:this.handleEmbedThumbClick,video:r}),l&&c.a.createElement(Ls,{embedDropdownOpen:l,align:a,vAlign:o,video:r}),d&&u&&c.a.createElement(Vs,{show:u,align:a,vAlign:o,video:r}))}},{key:"componentDidUpdate",value:function(e){!e.show&&this.props.show&&this.setState(Bs)}}]),n}(o.Component);re()(qs,"defaultProps",{show:!1,onHide:function(){},align:"left",vAlign:"auto"});var Ws=ca()(qs);n("mzwJ");function zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Gs=function(e){var t=e.shareDropdown,n=e.currentUserIsOwner,r=Object(l.useSelector)((function(e){return Object(He.a)(e,we.H)}));return n&&r?c.a.createElement(c.a.Fragment,null,c.a.createElement(Ss.a,{width:"100%"}),c.a.createElement("div",{className:"flex items:flexEnd mt:small"},c.a.createElement("div",{className:"grow:1 mr:small"},c.a.createElement(Es,null)),t)):c.a.createElement("div",{className:"flex items:flexEnd"},c.a.createElement("div",{className:"grow:1"},c.a.createElement(Ss.a,{width:"100%"})),c.a.createElement("div",{className:"ml:small"},t))},Hs=function(e){Y()(n,e);var t=zs(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{passwordFlow:!1,customViewerFlow:!1,privacyOptionsVisible:!0,show_share_dropdown:!1}),re()(K()(e),"onVideoPrivacyChange",(function(t){return e.props.updateVideoSettings({allow_search_engine_indexing:t})})),re()(K()(e),"onCustomViewerClick",(function(){Le.h(ve.j),e.setState({customViewerFlow:!0})})),re()(K()(e),"exitEditMode",(function(){return e.setState({passwordFlow:!1,customViewerFlow:!1})})),re()(K()(e),"onAddPasswordClick",(function(){return e.setState({passwordFlow:!0})})),re()(K()(e),"toggleShareDropdown",(function(){e.state.show_share_dropdown||Le.h(ve.Qc),e.setState({show_share_dropdown:!e.state.show_share_dropdown})})),re()(K()(e),"hideShareDropdown",(function(){e.setState({show_share_dropdown:!1})})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.user,r=e.isLoggedIn,i=e.currentUserIsOwner,a=this.state,o=a.passwordFlow,s=a.customViewerFlow,l=a.privacyOptionsVisible,u=a.show_share_dropdown,d=o||s,m=c.a.createElement("div",{className:"relative ignore-react-onclickoutside-share",onClick:this.toggleShareDropdown},c.a.createElement(ie.Tooltip,{content:"Share"},c.a.createElement(ie.Button,{icon:c.a.createElement(ie.SvgShare,null)})),c.a.createElement(Ws,{align:"right",vAlign:"auto",isLoggedIn:r,outsideClickIgnoreClass:"ignore-react-onclickoutside-share",onHide:this.hideShareDropdown,show:u,currentUserIsOwner:i,hasGmailAccount:n&&n.has_gmail_account,video:t}));return c.a.createElement("div",{className:"share-video-methods",style:{height:"auto"}},c.a.createElement("div",{className:"bgc:highlight p:large radius:medium mb:medium"},c.a.createElement("div",{className:"mb:medium"},c.a.createElement(ie.Text,{variant:"title"},"Send Your Video")),c.a.createElement(Gs,{shareDropdown:m,currentUserIsOwner:i})),!d&&i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(mn.a,{names:we.H},c.a.createElement(ks,null)),c.a.createElement(mn.a,{names:we.G},c.a.createElement(ds,{expanded:l,video:t,onCustomViewerClick:this.onCustomViewerClick,onAddPasswordClick:this.onAddPasswordClick,onVideoPrivacyChange:this.onVideoPrivacyChange}))),s&&i&&c.a.createElement(Ts,{video:t,onSaveClick:this.exitEditMode,onExitClick:this.exitEditMode}),o&&i&&c.a.createElement(Rs,{video:t,onSaveClick:this.exitEditMode,onCancelClick:this.exitEditMode}))}}]),n}(o.PureComponent);re()(Hs,"defaultProps",{video:{}});var Js=Object(l.connect)((function(e){var t=e.share_video;return{video:t.video,currentUserIsOwner:t.current_user_is_owner}}),(function(e){return{updateVideoSettings:function(t){return e(Object(_.r)(t,null))}}}))(Hs),Qs=n("dhqo"),Ks=n.n(Qs),$s=n("p9ZL"),Ys=n("+lBf"),Xs=n("Zf0H"),Zs=n("Mp3S"),el=n("xdQt"),tl=n.n(el),nl=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,"cJZd"))}));function rl(e){var t=Object(l.useSelector)($s.g),n=Object(l.useSelector)($s.a),r=Object(l.useDispatch)();c.a.useEffect((function(){n&&(Object(Ys.a)(n),Object(Ys.h)())}),[n]);return c.a.createElement(Uo,{className:"viewer-insights"},e.activated?c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(nl,{onExit:function(t){e.onActivate(t),Object(Ys.d)()}})):c.a.createElement(il,{onActivate:function(t){r(Object(v.t)(!1)),r(Object(v.l)()),e.onActivate(t),Object(Ys.b)()},views:t,showPaywall:e.showPaywall}))}var il=function(e){var t=e.views,n=e.onActivate,r=e.showPaywall,i=Object(dt.d)(),a=(null==t?void 0:t.total)||0,o=(null==t?void 0:t.distinct)||0,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.max(0,t-12),r=e.length;if(r>=12)return[e.slice(0,12),n];var i=t-r-n;if(i<=0)return[e,n];for(var a=hn()(e),o=0;o<i;o++)a.push(cl(o));return[a,n]}((null==t?void 0:t.named)||[],o),l=st()(s,2),u=l[0],d=l[1],m=c.a.createElement(c.a.Fragment,null,c.a.createElement(qo.a,{placement:"bottomCenter",maxWidth:42,title:"See Engagement Insights",message:Bo.d},c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Spacer,{top:1}),c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Object(Le.h)(ve.Ac,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:i.id},(function(){window.location.href=y.J}))}},c.a.createElement(ie.Button,{disabled:r,hasFullWidth:!0},"See Engagement"))))),f=0===a?c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Button,{onClick:n,hasFullWidth:!0,isDisabled:!0},"See Engagement")):c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Button,{onClick:n,hasFullWidth:!0,isDisabled:!a},"See Engagement"));return c.a.createElement("div",null,c.a.createElement(al,{views:a}),u.length>0&&c.a.createElement(ol,{viewers:u,remaining:d,totalViews:a}),0===a&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Spacer,{top:"medium"}),c.a.createElement(ie.Text,{color:"grey7"},"Get a video view to see engagement"),c.a.createElement(ie.Spacer,{bottom:"small"})),c.a.createElement(mn.a,{names:[we.h,we.g],some:!0},r?m:f))},al=function(e){var t=e.views;return c.a.createElement(ie.Distribute,{isSpread:!0,alignment:"center"},c.a.createElement(ie.Text,{variant:"title"},"Viewer Engagement"),t>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Text,{isInline:!1},t," ",Ks()("View",t))))},ol=function(e){var t=e.viewers,n=void 0===t?[]:t,r=e.remaining,i=void 0===r?0:r;return e.totalViews>0&&c.a.createElement("div",{className:tl.a.engagementBox},n.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return c.a.createElement(ie.Tooltip,{key:"avatarList-".concat(t),content:e.firstName?"".concat(e.firstName," ").concat(e.lastName):"Anonymous"},c.a.createElement(Xs.d,e))})),i>0&&c.a.createElement(ie.Text,{htmlTag:"p"},c.a.createElement("strong",null,"+",i)," "))};var cl=function(e){return{color:Object(Zs.a)(e),variant:Object(Zs.b)(e)}};n("Z/j3");function sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ll=function(e){Y()(n,e);var t=sl(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"defaultStyle",{width:"auto",height:"auto",overflow:"auto"}),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.speechFlow,n=e.theaterMode,r=e.useEmojis,i=e.userCanEdit,a=e.video,o=e.user,s=e.viewerInsightsActive,l=e.transcriptVisible;return c.a.createElement("div",{className:se()("right-panel",{"speech-flow":t,"theater-mode":n,"use-emojis":r})},l&&!n&&c.a.createElement(kt,{title:"Transcript",onExit:this.props.onTranscriptExit,height:"484px"},"Right Side Content"),c.a.createElement(Js,{key:"share-widget",className:"share-methods",video:a,user:o}),i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(rl,{activated:s,onActivate:this.props.toggleViewerInsightsUI,showPaywall:this.props.hasWorkspaceEngagementPaywallsScope})),c.a.createElement(L.a,{flag:b.F,activationValue:!1},c.a.createElement(rl,{activated:s,onActivate:this.props.toggleViewerInsightsUI}))),i&&c.a.createElement(mn.a,{names:we.B},c.a.createElement(Pc,{onEnterTrimMode:this.props.onEnterTrimMode,video:a})),i&&c.a.createElement(L.a,{flag:b.A,activationValue:!0},c.a.createElement(mn.a,{names:we.B},c.a.createElement(cs,null))))}},{key:"connect",value:function(e){var t=this;Gt.c(M.h,(function(n){var r,i=Object(P.d)("redirect_after");t.trackEvent(ve.Dc),e(),r=decodeURIComponent(i),Object(Ht.a)(r)&&(r="/"),null!=n.error&&(r+="?oauth_error="+n.error),n.loginSuccess?qe.e((function(){window.location.href=r})):window.location.href=r}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=function(n){return!e[n]&&t.props[n]};n("editorActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".edit-video")),n("attachmentWidgetActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".attachment-widget")),n("speechFlow")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance('[widget="speech-coach"]')),n("viewerInsightsActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".viewer-insights")),["editorActive","viewerInsightsActive","attachmentWidgetActive","speechFlow"].some((function(n){return function(n){return e[n]&&!t.props[n]}(n)}))&&this.exitAnimation&&this.exitAnimation()}},{key:"getWidgetAnimeInstance",value:function(e){var t=e.substr(1)+"-active",n=document.querySelectorAll(".right-panel>*:not(".concat(e,")"));return Object(Ii.j)((function(){n.forEach((function(e){return e.classList.add("right-panel-faded-elements")})),document.body.classList.add(t,"right-panel-box-raised")})),function(){Object(Ii.j)((function(){document.body.classList.add("right-panel-box-back"),document.body.classList.remove("right-panel-box-raised")})),setTimeout((function(){Object(Ii.j)((function(){n.forEach((function(e){return e.classList.remove("right-panel-faded-elements")})),document.body.classList.remove(t,"right-panel-box-back")}))}),250)}}},{key:"trackEvent",value:function(e){Le.h(e,{video_id:this.props.video.id})}}]),n}(o.Component),ul=Object(l.connect)((function(e){return{attachmentWidgetActive:Kc(e),video:Object(Je.b)(e),editorActive:$c(e),speechFlow:e.speechCoach.speechFlow,useEmojis:Object(Je.d)(e),viewerInsightsActive:Object(Yc.b)(e),hasWorkspaceEngagementPaywallsScope:Object(He.a)(e,we.h)}}),(function(e){return{completeTriggerCreator:function(t){return e(Object(je.b)(t))},toggleViewerInsightsUI:function(){return e(Object(Hc.c)())}}}))(ll),dl=n("VQJT"),ml=n.n(dl),fl=n("AWqZ"),pl=n.n(fl),hl=n("RDSm"),vl=n.n(hl),gl=n("R42F"),bl=n.n(gl),yl=(n("4tqQ"),function(e){var t={width:e.percentage};return c.a.createElement("div",{className:"thumb-zoom-level",style:t},c.a.createElement("span",null))}),kl=n("RCtp");n("EXwI");function wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _l=function(e){var t=e.height,n=e.width;return c.a.createElement("div",{className:"rule-of-thirds-container",style:{width:n,height:t}},c.a.createElement("div",{className:"rule-of-thirds-line horizontal",style:{top:t/3,width:n}}),c.a.createElement("div",{className:"rule-of-thirds-line horizontal",style:{top:2*t/3,width:n}}),c.a.createElement("div",{className:"rule-of-thirds-line vertical",style:{left:n/3,height:t}}),c.a.createElement("div",{className:"rule-of-thirds-line vertical",style:{left:2*n/3,height:t}}))},El=function(e){Y()(n,e);var t=wl(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{window_dims:{height:0,width:0},scale:1,position:{x:0,y:0},dragging:!1}),re()(K()(e),"onPositionChange",(function(t){e.setState({position:t})})),re()(K()(e),"handleMove",(function(){e.state.dragging||e.setState({dragging:!0})})),re()(K()(e),"handleInteractionEnd",(function(){e.setState({dragging:!1})})),re()(K()(e),"onZoomSliderMove",(function(t){var n=e.zoomSlider.calculateDistance(t);e.setState({scale:1+3*n})})),re()(K()(e),"getZoomPercent",(function(){return(e.state.scale-1)/3})),re()(K()(e),"zoomIn",(function(){var t=e.state.scale;e.setState({scale:Math.min(t+.1,4)})})),re()(K()(e),"zoomOut",(function(){var t=e.state.scale;e.setState({scale:Math.max(t-.1,1)})})),re()(K()(e),"handleThumbnailUpload",(function(){if(!e.props.currentlyUploading){var t=e.props,n=t.videoId,r=t.thumbnailLocalUrl,i=t.ogImageDimensions,a=e.state,o=a.scale,c=a.position,s=i.width,l=i.height,u=e.cropper.getCroppingRect(),d=u.x,m=u.y,f=u.width,p=u.height;e.props.uploadVideoThumbnail(n,r,{x:d,y:m,width:f,height:p,full_width:s,full_height:l,position_info:{scale:o,position:c}})}})),re()(K()(e),"updateDimension",(function(){var t=e.container.getBoundingClientRect(),n=t.height,r=t.width;e.setState({window_dims:{height:n,width:r}})})),re()(K()(e),"setOgThumbnailPositioning",(function(){var t=e.props.ogThumbnailDims.position_info,n=t.position,r=t.scale;e.setState({position:n,scale:r})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.thumbnailLocalUrl,r=t.currentlyUploading,i=this.state,a=i.window_dims,o=i.scale,s=i.dragging,l=i.position;return c.a.createElement("div",{ref:function(t){return e.container=t},className:"thumbnail-cropper-window"+(n||r?" is-editing":"")},n&&c.a.createElement(ml.a,{position:l,ref:function(t){return e.cropper=t},image:n,width:a.width,height:a.height,scale:o,style:{cursor:"move"},onMouseMove:this.handleMove,onMouseUp:this.handleInteractionEnd,onPositionChange:this.onPositionChange,border:0}),!s&&!r&&n&&c.a.createElement("img",{src:bl.a,className:"thumb-drag-instructions"}),n&&!r&&c.a.createElement(_l,{height:a.height,width:a.width}),r&&c.a.createElement(Vt.a,null),n&&!r&&c.a.createElement("div",{className:"thumb-zoom-pill"},c.a.createElement("img",{src:vl.a,className:"thumb-zoom-pill-scale",onClick:this.zoomOut}),c.a.createElement(kl.a,{ref:function(t){return e.zoomSlider=t},label:"Date Range",getPercent:this.getZoomPercent,valueNow:this.getZoomPercent,onMouseMove:this.onZoomSliderMove},c.a.createElement(yl,null)),c.a.createElement("img",{src:pl.a,className:"thumb-zoom-pill-scale",onClick:this.zoomIn})))}},{key:"componentDidMount",value:function(){this.updateDimension(),window.addEventListener("resize",this.updateDimension),this.props.ogThumbnailDims&&this.setOgThumbnailPositioning()}},{key:"componentDidUpdate",value:function(e){!e.shouldSave&&this.props.shouldSave&&this.handleThumbnailUpload(),!e.ogThumbnailDims&&this.props.ogThumbnailDims&&this.setOgThumbnailPositioning()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimension)}}]),n}(o.Component),Sl=Object(l.connect)((function(e){var t=e.editor.thumbnail_data,n=e.share_video.video,r=n&&n.thumbnails||{};return{thumbnailLocalUrl:t.thumbnail_local,ogImageDimensions:t.og_dims,shouldSave:t.initiate_save,currentlyUploading:t.uploading,ogThumbnailDims:(r||{}).og_thumbnail_crop_dims}}),(function(e){return{uploadVideoThumbnail:function(t,n,r){return e(Object(_.s)(t,n,r))}}}))(El),Cl=function(e){var t=e.onClick;return c.a.createElement("div",null,c.a.createElement(ie.IconButton,{icon:c.a.createElement(ie.SvgTrash,null),onClick:t}),c.a.createElement(To,null,"Delete video"))};n("eACZ");function xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Nl=function(e){Y()(n,e);var t=xl(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{show_confirmation_modal:!1}),re()(K()(e),"leaveTrimMode",(function(){e.props.leaveTrimModeCreator(),e.props.onLeave()})),re()(K()(e),"onReturnClicked",(function(){if(!e.state.show_confirmation_modal){if(e.props.newChanges)return e.setState({show_confirmation_modal:!0});e.leaveTrimMode()}})),re()(K()(e),"onPublishClicked",(function(){var t=e.props.video;e.props.patchTrimVideoCreator(t,e.props.onLeave)})),e}return J()(n,[{key:"render",value:function(){var e=this.state.show_confirmation_modal,t="";return this.props.newChanges&&e&&(t="show"),c.a.createElement("div",{className:"return-to-video-react-container"},c.a.createElement("div",{className:"return-to-video-button"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgArrowBack,null),onClick:this.onReturnClicked},"Return to video")),c.a.createElement("div",{className:"return-to-video-confirmation-modal ".concat(t)},c.a.createElement("p",null,"Are you sure you'd like to discard your changes?"),c.a.createElement("div",{className:"button-bar"},c.a.createElement(Mt.a,{buttonClass:"return-button",value:"Discard",buttonType:"rp-secondary-3",onClicked:this.leaveTrimMode}),c.a.createElement(Mt.a,{buttonClass:"publish-button",value:"Publish Changes",buttonType:"rp-primary-3",onClicked:this.onPublishClicked}))))}},{key:"componentDidUpdate",value:function(e){!e.newChanges&&this.props.newChanges&&this.state.show_confirmation_modal&&this.setState({show_confirmation_modal:!1})}},{key:"handleClickOutside",value:function(){this.state.show_confirmation_modal&&this.setState({show_confirmation_modal:!1})}}]),n}(o.Component),Tl=Object(l.connect)((function(e){return{newChanges:e.trimming.new_changes}}),(function(e){return{leaveTrimModeCreator:function(){return e(Object(Ae.c)())},patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))}}}))(ca()(Nl));n("WXkZ");function Ol(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Il=function(e){Y()(n,e);var t=Ol(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"onRevertToOriginalClicked",W()(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.video,window.confirm("Are you sure you'd like to delete all of your edits?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.updateTrimRangesCreator([]);case 5:return t.next=7,e.props.patchTrimVideoCreator(n,e.props.onRevertClicked);case 7:case"end":return t.stop()}}),t)})))),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.originalRanges,n=e.video,r=t.length>0?"enabled":"";return c.a.createElement("div",{className:"trim-footer"},c.a.createElement("div",{className:"left-section"},c.a.createElement(Tl,{onLeave:this.props.onRevertClicked,video:n})),c.a.createElement("div",{className:"middle-section"},c.a.createElement("div",{className:"".concat(this.constructor.className," ").concat(r)},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgUndo,null),isDisabled:t.length<1,onClick:this.onRevertToOriginalClicked},"Revert to Original"))),c.a.createElement("div",{className:"right-section"},c.a.createElement("a",{className:"trim-help",href:y.ab,target:"_blank",rel:"noreferrer noopener"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgHelp,null)},"Help Center"))))}}]),n}(o.Component);re()(Il,"className","revert-to-original-button");var Rl=Object(l.connect)((function(e){return{originalRanges:e.trimming.original_ranges}}),(function(e){return{patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))},updateTrimRangesCreator:function(t){return e(Object(Ae.l)(t))}}}))(Il),Dl=function(e){var t=e.isOpen,n=e.onCloseModal,r=e.videoId,i=e.videoIsTeamShared,a=e.videoIsSharedWithUser,s=Object(o.useState)(!1),u=st()(s,2),d=u[0],m=u[1],f=Object(l.useDispatch)(),p=function(){var e=W()(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f(Object(_.a)(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=W()(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f(Object(_.e)(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),v=Object(l.useSelector)((function(e){return{hasTeamArchiveWriteScope:Object(He.a)(e,we.x),hasPersonalArchiveWriteScope:Object(He.a)(e,we.o)}})),g=i?v.hasTeamArchiveWriteScope:!a&&v.hasPersonalArchiveWriteScope;return c.a.createElement(ie.Modal,{isOpen:t,onCloseClick:n,onBackgroundClick:n,title:"How would you like to remove this video?",mainButton:c.a.createElement(ie.Button,{isDisabled:d,onClick:h,variant:"primary"},"Delete"),alternativeButton:g&&c.a.createElement(ie.Button,{isDisabled:d,onClick:p},"Archive")})};n("u8xI");var Pl=function(e){var t=e.parentProperties,n=t.id,r=t.title,i=t.duration,a=t.ownerName,o=t.thumbnail,s=t.ownerThumbnail;return c.a.createElement("a",{className:"share-video-parent-indicator-container",target:"_blank",rel:"noopener noreferrer",href:Object(Ds.j)({id:n})},c.a.createElement("div",{className:"video-thumbnail"},c.a.createElement("img",{className:"video-thumbnail",src:Object(Ve.b)(o)}),c.a.createElement("div",{className:"video-thumbnail-overlay"}),c.a.createElement("div",{className:"video-thumbnail-overlay hover-info"},c.a.createElement(ie.Text,{color:"white"},Object(Ri.b)(i)))),c.a.createElement(ie.Spacer,{right:3}),c.a.createElement("div",{className:"video-title-and-owner"},c.a.createElement("div",{className:"video-title"},c.a.createElement(ie.Text,{hasEllipsis:!0},"Original Video"," ",c.a.createElement(ie.Text,{isInline:!0,fontWeight:"bold"},r))),c.a.createElement(ie.Distribute,{alignment:"center"},c.a.createElement("img",{src:Object(Ve.b)(s.thumb),className:"video-owner-thumbnail"}),c.a.createElement(ie.Spacer,{right:1}),c.a.createElement(ie.Text,{size:"small"},a))))},Fl=n("1w3K");n("sknw");function jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Al(e){return{__html:e}}var Ml=function(e){Y()(n,e);var t=jl(n);function n(){var e;return G()(this,n),(e=t.call(this)).closeStatusBar=e.closeStatusBar.bind(K()(e)),e.performAction=e.performAction.bind(K()(e)),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.actionButtonValue,n=e.message,r=e.showing,i=e.title,a=null,o=null;return r&&(t&&t.length>0&&(a=c.a.createElement(Mt.a,{buttonType:"b2",buttonClass:"action-button",value:t,onClicked:this.performAction})),o=c.a.createElement("div",{className:"status-bar"},c.a.createElement("div",{className:"inner-container"},c.a.createElement("div",{className:"message"},c.a.createElement("h4",{className:"title"},i),c.a.createElement("p",{className:"content",dangerouslySetInnerHTML:Al(n)})),c.a.createElement("div",{className:"buttons-area"},a,c.a.createElement("div",{className:"close-button",onClick:this.closeStatusBar}))))),c.a.createElement(Fl.CSSTransitionGroup,{transitionName:"status-bar",transitionEnterTimeout:400,transitionLeaveTimeout:300},o)}},{key:"closeStatusBar",value:function(){var e=this.props.onClose;e&&e(),this.props.closeStatusBar()}},{key:"performAction",value:function(){var e=this.props.onAction;e&&e()}}]),n}(o.Component),Ll=Object(l.connect)((function(e){var t=e.status_bar;return{actionButtonValue:t.action_button_value,message:t.message,showing:t.showing,title:t.title}}),(function(e){return{closeStatusBar:function(){return e(function(){return{type:pe.l}}())}}}))(Ml),Vl=n("17x9"),Ul=n.n(Vl),Bl=n("0uwI");n("x/EF");function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Wl='<img alt="loom logo" src="'.concat(n("Tw1l"),'" />'),zl=function(e){Y()(n,e);var t=ql(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e='<div class="tooltip-header">Start a Recording</div>'+'<div class="tooltip-text">Click the '.concat(Wl," to open the settings menu.<br />\n      Once you begin recording, click again to end.</div>");return Le.h(ve.Kb,{phrase:e}),c.a.createElement(Bl.a,{content:e})}},{key:"handleClickOutside",value:function(){this.props.onClose()}}]),n}(o.Component);zl.propTypes={onClose:Ul.a.func},zl.defaultProps={onClose:function(){}};var Gl=ca()(zl),Hl=n("FFBg"),Jl=n("PXdq"),Ql=n("Pyar"),Kl=n.n(Ql),$l=n("ut5j");n("20NB");function Yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Xl=function(e){Y()(n,e);var t=Yl(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.editVideoButtons,i=n.isMainVideoOnSharePage,a=n.startTime,o=n.videoId,s=a?"&t=".concat(a):"",l="".concat(y.A).concat(y.n,"/").concat(o,"?").concat(Oi.b,"=1").concat(s),u=this.getResponsiveVideoWrapperDimensions();return e=i?c.a.createElement($l.b,{editVideoButtons:r,stylesFromShareVideoParent:{position:"absolute"}}):c.a.createElement("iframe",{ref:function(e){return t.videoIframe=e},style:u.iframe,src:l,frameBorder:"0",allowFullScreen:!0}),c.a.createElement("div",{className:"embed-video-frame-wrapper",style:u.wrapper},c.a.createElement("div",{className:"embed-video-frame-container",ref:function(e){return t.videoContainer=e},style:u.container},e),this.props.children)}},{key:"getResponsiveVideoWrapperDimensions",value:function(){var e=this.props,t=e.videoProperties,n=e.iframeVisible,r=e.theaterMode,i={container:{},wrapper:{},iframe:{}};if(!t)return i;var a=t||{},o=a.width,c=a.height;if(!o||!c||!this.videoContainer)return i;var s=this.videoContainer.offsetWidth,l=c/o*s,u=100*(Math.min(l,544)/s),d=u;return!r&&u<56.25&&(d=56.25),i.container.paddingBottom="".concat(d,"%"),i.wrapper.minHeight="auto",!n&&(i.iframe.visibility="hidden"),i}},{key:"componentDidMount",value:function(){var e=this;this.props.isMainVideoOnSharePage||(Kl.a.Player(this.videoIframe).on("ready",(function(){e.props.updateShareVideoPlayerReady(!0)})),this.videoIframe.onload=function(){e.props.updateShareVideoIframeLoaded(!0)})}}]),n}(o.Component),Zl=Object(l.connect)((function(e){var t=e.share_video,n=t.video,r=t.iframe_visible,i=e.video_player,a=i.isMainVideoOnSharePage,o=i.theater_mode;return{iframeVisible:r,videoProperties:(n||{}).video_properties,isMainVideoOnSharePage:a,theaterMode:o}}),(function(e){return{updateShareVideoIframeLoaded:function(t){return e(Object(fe.g)(t))},updateShareVideoPlayerReady:function(t){return e(Object(fe.j)(t))}}}))(Xl),eu=n("NSnw"),tu=n("UrWd");n("4RBW");function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var au=Be.isMobile&&Be.isIOS,ou=function(e){var t=e.show,n=e.name,r=e.pingOwner,i=e.ownerPinged,a=e.goToLoom,s=c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-title"},"This video is currently inactive."),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-content"},"We'll let ".concat(n||"the owner"," know you'd like to watch their video.")),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-action"},c.a.createElement(Mt.a,{onClicked:r,buttonType:"rp-primary-2",value:"Yes! Let them know."}))),l=c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-title"},"Thanks!"),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-content"},"Your request is on its way! "),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-action"},c.a.createElement(Mt.a,{capitalize:!1,onClicked:a,buttonType:"rp-primary-2",value:"Go to loom.com"})));return c.a.createElement("div",{className:"share-video-inactive-video-contact-modal"},c.a.createElement(Jl.a,{show:t,dark:!0,showClose:!1},i?l:s))},cu=function(e){var t=e.showRecordingTimerPaywall,n=e.video,r=e.user,i=e.hasSeenRecordingLimitModal,a=e.fromRecorderParam,o=e.recordingLimitParam,s=Object(Ge.a)(ge.c);if(!a)return null;var l=!o;return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(Qe.a,null),t&&s&&o&&c.a.createElement(gt,{video:n,user:r,renderToast:i,videoDurationLimit:s}))},su=function(e){Y()(n,e);var t=iu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{show_create_recording_tooltip:!1,show_ext_install_bubb:!1,show_signup_modal:!1,show_share_dropdown:!1,startTimeParam:Object(P.d)("t"),video_id:window.location.pathname.replace("/share/",""),ownerPinged:!1,mobileAppCardIsVisible:!0}),re()(K()(e),"attachPlayerToTheaterElement",(function(){document.querySelector(".theater-player-container").appendChild(document.querySelector(".embed-video-frame-wrapper")),e.forceUpdate()})),re()(K()(e),"removePlayerFromTheaterElement",(function(){var t=document.querySelector(".left-panel");t.insertBefore(document.querySelector(".embed-video-frame-wrapper"),t.firstChild),e.forceUpdate()})),re()(K()(e),"pingOwner",(function(){e.props.sendInactiveVideoOwnerPing(),e.setState({ownerPinged:!0})})),re()(K()(e),"goToLoom",(function(){return window.location.pathname=y.N})),re()(K()(e),"handleInstallModalButtonClick",(function(){var t=e.props.video.id;Le.h(ve.bd,{video_id:t})})),re()(K()(e),"handleAccountOverlayClose",(function(){e.setState({show_signup_modal:!1})})),re()(K()(e),"handleAccountOverlayOpen",(function(){e.setState({show_signup_modal:!0})})),re()(K()(e),"handleExtensionInstalled",(function(){var t=e.props.isLoggedIn;if(e.setState({show_ext_install_bubb:!1}),!t)return e.props.updateLoginOrSignUp(!1),e.setState({show_signup_modal:!0});qe.a&&e.setState({show_create_recording_tooltip:!0})})),re()(K()(e),"handleExtensionInstallError",(function(t){var n=e.props.isLoggedIn;e.props.showErrorBar(g.a,t),n||(e.props.updateLoginOrSignUp(!1),e.setState({show_signup_modal:!0}))})),re()(K()(e),"handleDeleteButtonClicked",(function(){e.props.updateShareVideoShowRemoveModal(!0)})),re()(K()(e),"handleLeaveRemoveModal",(function(){e.props.updateShareVideoShowRemoveModal(!1)})),re()(K()(e),"handleEnterTrimMode",(function(){var t=e.props.video,n=t.id,r=t.processing_information.trim_ranges,i=void 0===r?[]:r;e.props.enterTrimModeCreator(i),e.props.updateShareVideoInTrimMode(!0),Le.h(ve.Hb,{id:n,has_been_trimmed:i.length>0})})),re()(K()(e),"handleLeaveTrimMode",(function(){e.props.updateShareVideoInTrimMode(!1)})),re()(K()(e),"handleDownloadUnverifiedClicked",(function(t){if(t.preventDefault(),!e.props.video.owner_verified){var n=e.props.currentUserIsOwner?"you":"the sender",r=e.props.currentUserIsOwner?"your":"their";window.alert("In order to download this video, "+n+" must verify "+r+" email.")}return!1})),re()(K()(e),"handleNotificationDialogPromptAction",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.e];!1===a.complete&&!0===a.show&&(Le.h(ve.pc),e.props.updateNotificationSettings(ye.o),e.props.postNotificationSettings(ye.o))}})),re()(K()(e),"handleNotificationDialogPromptClose",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.e];!1===a.complete&&!0===a.show&&(Le.h(ve.qc),e.props.completeTriggerCreator(_e.e))}})),re()(K()(e),"handleNotificationStatusBarAction",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.d];!1===a.complete&&!0===a.show&&(Le.h(ve.ec,{go_to_use_cases:!0,from_page:"Share Video"}),e.props.completeTriggerCreator(_e.d),ze(ue()(".status-bar"),(function(){ue()("#container").removeClass("has-status-bar")})),Object(P.e)("".concat(y.A).concat(y.db)))}})),re()(K()(e),"handleNotificationStatusBarClose",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.d];!1===a.complete&&!0===a.show&&(Le.h(ve.ec,{go_to_use_cases:!1,from_page:"Share Video"}),e.props.completeTriggerCreator(_e.d),ze(ue()(".status-bar"),(function(){ue()("#container").removeClass("has-status-bar")})))}})),re()(K()(e),"toggleShareDropdown",(function(){e.state.show_share_dropdown||Le.h(ve.Qc),e.setState({show_share_dropdown:!e.state.show_share_dropdown})})),re()(K()(e),"hideShareDropdown",(function(){e.setState({show_share_dropdown:!1})})),re()(K()(e),"handleClickCopyLink",(function(){oe.a.timeline({targets:".mobile-actions-link-success",easing:"easeInOutQuad",duration:250}).add({opacity:[0,1]}).add({delay:2500,opacity:[1,0]}),Ue.b(e.copyLinkInput);var t=Ue.a(e.copyLinkInput);e.props.onClick&&e.props.onClick(t)})),re()(K()(e),"handleShareVideoEvents",(function(t){var n=t.origin||t.originalEvent&&t.originalEvent.origin||"",r=t.data||t.originalEvent&&t.originalEvent.data||{};if(!(n.indexOf(y.A)<0))switch(r.type){case be.a:e.props.updateShareVideo(ru(ru({},e.props.video),{},{video_properties:ru(ru({},e.props.video.video_properties),{},{height:r.height,width:r.width})}));break;case be.b:e.inlineInstall(r.source);break;case be.e:e.props.updateShareVideoPassword(r.password),e.props.fetchShareVideoDownloadUrlCreator();break;case be.f:e.props.updateShareVideo(ru(ru({},e.props.video),{},{video_properties:ru(ru({},e.props.video.video_properties),{},{duration:r.duration})}));break;case be.k:e.props.updateShareVideo(ru(ru({},e.props.video),{},{processing_information:r.processing_information})),e.props.fetchShareVideoDownloadUrlCreator();break;case be.s:e.setState({show_create_recording_tooltip:!1})}})),re()(K()(e),"handleMobileAppCardClose",(function(){e.setState({mobileAppCardIsVisible:!1})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,r=t.video_id,i=t.show_share_dropdown,a=t.show_create_recording_tooltip,s=t.show_signup_modal,l=t.startTimeParam,u=this.props,d=u.ctaEnabled,m=u.currentUserIsOwner,f=u.downloadUrl,p=u.errorBarShown,h=u.fetchingVideo,v=u.hasVideoToolsAccessScope,g=u.hasSeenRecordingLimitModal,k=u.focusTitle,w=u.fromRecorderParam,_=u.iframeLoaded,E=u.inTrimMode,S=u.isLoggedIn,C=u.isTeamAccount,x=u.needsPermission,T=u.playerReady,O=u.recordingLimitParam,I=u.showCtaModal,R=u.showMoveModal,D=u.showRemoveModal,P=u.showThumbnailCropper,F=u.showUploadAttachmentProgressModal,j=u.showRecordingTimerPaywall,A=u.theaterMode,M=u.useEmojis,V=u.user,U=u.userCanEdit,B=u.video,q=u.videoIsSharedWithUser,W=u.videoIsTeamShared,z=u.transcriptVisible,G=B.video_properties,H=B.parentVideoProperties,J=G.isVideoReply,Q="".concat(B.name||B.id,".mp4"),K=B.owner_verified,$=B.company_feature_data||null;return c.a.createElement(ln.a,{companyFeatureData:$,useLegacyNavigation:!C,mainContentHasFullWidth:!0},!S&&c.a.createElement(Tt,{afterAuthCallback:function(){return window.location.reload()},show:s,onDismiss:this.handleAccountOverlayClose}),c.a.createElement(Hl.a,null,c.a.createElement("div",{className:se()("share-video-container",{"current-user-is-owner":m,"error-bar-shown":p,"theater-mode":A})},c.a.createElement("div",{className:se()("theater-player-container",{"theater-mode":A,"use-emojis":M})}),c.a.createElement("div",{className:se()("panelsContainer")},c.a.createElement("div",{className:se()("left-panel",{"is-cam":B.video_properties.screen_type===ke.a,"use-emojis":M})},c.a.createElement(Zl,{videoId:r,startTime:l},I&&c.a.createElement(Eo,null),!Be.isMobile&&(M||E)&&c.a.createElement(yo,{duration:B.video_properties.duration,hasGmailAccount:V.has_gmail_account,isLoggedIn:S,isProtected:B.is_protected,onLeaveTrimMode:this.handleLeaveTrimMode,playerReady:T,video:B}),P&&c.a.createElement(Sl,{videoId:B.id})),E&&c.a.createElement(Rl,{onRevertClicked:this.handleLeaveTrimMode,video:B}),c.a.createElement("div",{className:"video-metadata-slideable"},c.a.createElement("div",{className:"below-video"},c.a.createElement("div",{className:"share-video-title-tools"},c.a.createElement(fn.a,{userCanEdit:U&&v,shouldFocusTitle:m&&k,video:B,onTitleUpdate:this.props.updateVideoNameCreator}),c.a.createElement("div",{className:"share-video-tools"},S&&c.a.createElement(wt.a,null),c.a.createElement(mn.a,{names:we.J},c.a.createElement(Gc,null)),c.a.createElement(Io,{postVerifyEmail:this.props.postVerifyEmail,currentUserIsOwner:m,downloadEnabled:B.download_enabled,videoAnalyticsEnabled:B.videoAnalyticsEnabled,downloadName:Q,downloadUrl:f,onDownloadUnverifiedClicked:this.handleDownloadUnverifiedClicked,handleAccountOverlayOpen:this.handleAccountOverlayOpen,ownerVerified:K,useBorder:!1,videoId:B.id,videoIsTeamShared:W,isLoggedIn:S}),(m||W)&&c.a.createElement(mn.a,{names:we.J},c.a.createElement(Fo,{video:B})),(m||W||B.collaboratePermissions.delete)&&c.a.createElement(mn.a,{names:we.J},c.a.createElement(Cl,{onClick:this.handleDeleteButtonClicked})))),c.a.createElement(dn.a,{currentUserIsOwner:m,videoIsTeamShared:W,videoIsSharedWithUser:q,video:B,name:B.owner_full_name,date:B.createdAt,userAvatarSrc:B.owner_avatar&&Object(Ve.b)(B.owner_avatar.thumb)}),c.a.createElement("div",{className:"mobile-actions"},c.a.createElement("div",{className:"share-wrapper"},c.a.createElement("div",{className:"mobile-actions-share ignore-react-onclickoutside-share",onClick:this.toggleShareDropdown},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgReplyRight,null)}),c.a.createElement(Ws,{align:"center",vAlign:"auto",isLoggedIn:S,outsideClickIgnoreClass:"ignore-react-onclickoutside-share",onHide:this.hideShareDropdown,show:i,currentUserIsOwner:m,hasGmailAccount:V.has_gmail_account,video:B}),"Share"),c.a.createElement("button",{className:"mobile-actions-link",onClick:this.handleClickCopyLink},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgLink,null)}),"Copy Link"),c.a.createElement("div",{className:"mobile-actions-link-success"},"Link Copied!"),c.a.createElement("input",{className:"mobile-actions-input",ref:function(t){return e.copyLinkInput=t},readOnly:!0,value:"".concat(y.A,"/share/").concat(B.id)})),d&&c.a.createElement(ko.a,null))),J&&c.a.createElement(Pl,{parentProperties:H}),z&&c.a.createElement("div",{className:A?"share-page-card-below-panel-theater":"share-page-card-below-panel"},c.a.createElement(kt,{title:"Transcript",height:"396px",onExit:function(){return e.props.toggleTranscriptVisible(!1)}},"Below Content")),U&&c.a.createElement("div",{className:"tablet-actions"},c.a.createElement(mn.a,{names:we.B},c.a.createElement(Pc,{onEnterTrimMode:this.handleEnterTrimMode,video:B})),c.a.createElement(mn.a,{name:we.H},c.a.createElement(Js,{className:n.shareMethodsClassName,video:B}))),!m&&c.a.createElement(L.a,{flag:b.A,activationValue:!0},c.a.createElement(Wr,null)),(m||W||q||B.comments_enabled)&&c.a.createElement(La,{iframeLoaded:_})),c.a.createElement(Rt.a,null),C&&R?c.a.createElement(tu.a,{isSharePage:!0}):c.a.createElement(Mc,null)),c.a.createElement(ul,{onEnterTrimMode:this.handleEnterTrimMode,theaterMode:A,userCanEdit:U,user:V,transcriptVisible:z,onTranscriptExit:function(){return e.props.toggleTranscriptVisible(!1)}})),S&&c.a.createElement(o.Fragment,null,c.a.createElement(Dt.a,{onAction:this.handleNotificationDialogPromptAction,onClose:this.handleNotificationDialogPromptClose}),c.a.createElement(Ll,{onAction:this.handleNotificationStatusBarAction,onClose:this.handleNotificationStatusBarClose}),c.a.createElement(un.a,null)),c.a.createElement(Dl,{isOpen:D,videoId:r,onCloseModal:this.handleLeaveRemoveModal,videoIsTeamShared:W,videoIsSharedWithUser:q})),a&&c.a.createElement(Gl,{onClose:function(){e.setState({show_create_recording_tooltip:!1})}}),c.a.createElement(sn,null),c.a.createElement(L.a,{flag:b.F,activationValue:!0},c.a.createElement(cu,{showRecordingTimerPaywall:j,hasSeenRecordingLimitModal:g,fromRecorderParam:w,recordingLimitParam:O,video:B,user:V})),c.a.createElement(ot,null),c.a.createElement(ou,{goToLoom:this.goToLoom,pingOwner:this.pingOwner,ownerPinged:this.state.ownerPinged,name:B.owner_name,show:!m&&!B.active_status}),!h&&x&&c.a.createElement(eu.a,null),F&&c.a.createElement(vr,null),c.a.createElement("div",{id:"gmail-integration-share-page-placeholder"})),Object(N.b)()&&Object(N.a)()&&c.a.createElement("div",{className:"share-video-loom-badge-section"},c.a.createElement(_t.a,{href:"https://www.loom.com",title:"Loom homepage"})),au&&this.state.mobileAppCardIsVisible&&c.a.createElement(L.a,{flag:b.O,activationValue:!0},c.a.createElement(Ze,{onCloseClick:this.handleMobileAppCardClose})))}},{key:"componentDidMount",value:function(){var e=W()(B.a.mark((function e(){var t,n,r,i,a,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("message",this.handleShareVideoEvents),t=this.props,n=t.user,r=void 0===n?{}:n,i=t.video,a=void 0===i?{}:i,o=t.currentUserIsOwner,t.theaterMode&&this.attachPlayerToTheaterElement(),a.complete&&(this.props.updateVideoIframeVisibility(),this.props.fetchShareVideoDownloadUrlCreator()),this.props.subscribeGifReady(a.id),r.oauth&&!r.has_named_video_views&&this.props.fetchGoogleInfoCreator(),!0===r.capabilities[It.b]&&this.props.updateVideoCtaShow(!0),e.next=9,new Promise((function(e){qe.c(e)}));case 9:e.sent||!qe.a&&(Be.isMobile||Be.isChrome)||this.setState({show_ext_install_bubb:!0}),c=this.props.isLoggedIn,Le.f("Individual Video",{url:null,is_owner:Boolean(o),is_logged_in:c}),this.setState({startTimeParam:Object(P.d)("t")});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.inTrimMode,r=t.theaterMode;if(!e.theaterMode&&r&&this.attachPlayerToTheaterElement(),e.theaterMode&&!r&&this.removePlayerFromTheaterElement(),n!=e.inTrimMode){var i=document.documentElement;i.className=i.className.replace("trim-mode-enabled",""),n&&(i.className+=" ".concat("trim-mode-enabled"))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleShareVideoEvents)}},{key:"inlineInstall",value:function(){var e=W()(B.a.mark((function e(t){var n=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe.a){e.next=2;break}return e.abrupt("return",this.handleExtensionInstalled());case 2:return e.next=4,new Promise((function(e){qe.c(e)}));case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",this.handleExtensionInstalled());case 7:qe.b(t,(function(){n.handleExtensionInstalled()}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(o.Component);re()(su,"shareMethodsClassName","share-methods");var lu=Object(l.connect)((function(e){var t=e.share_video,n=t.current_user_is_owner,r=t.download_url,i=t.iframe_loaded,a=t.player_ready,o=t.show_remove_modal,c=t.cta_enabled,s=t.video,l=t.video_is_team_shared,u=e.user,d=u.is_logged_in,m=u.is_logged_in_checked,f=u.current,p=e.attachments.showUploadAttachmentProgressModal,h=e.checklist.has_reached_recording_limit,v=e.triggers.triggers,g=e.trimming.in_trim_mode,b=e.error_bar.showing,y=e.multi_share.dm_content,k=void 0===y?[]:y,w=e.editor,_=w.cta_flow,E=w.thumbnail_flow,S=e.video_player,C=S.is_fetching,x=S.viewer_needs_permission,N=S.theater_mode,T=S.transcriptVisible,O=e.moveModal.showMoveModal,I=Object.keys(s.collaboratePermissions).length>0,R=Ot.b.includes(f.account_type),D=Object(He.a)(e,we.r);return{currentUserIsOwner:n,ctaEnabled:c,dm_content:k,downloadUrl:r,errorBarShown:b,fetchingVideo:C,hasVideoToolsAccessScope:Object(He.a)(e,we.J),hasSeenRecordingLimitModal:h,iframeLoaded:i,inTrimMode:g,isLoggedIn:d,isLoggedInChecked:m,isTeamAccount:R,needsPermission:x,playerReady:a,showCtaModal:_,showMoveModal:O,showRemoveModal:o,showRecordingTimerPaywall:D,showThumbnailCropper:E,theaterMode:N,showUploadAttachmentProgressModal:p,triggers:v,user:f,useEmojis:s.use_emojis,userCanEdit:Object(Je.a)(e),video:s,videoIsSharedWithUser:I,videoIsTeamShared:l,transcriptVisible:T}}),(function(e){return{postVerifyEmail:function(){return e(Object(E.n)())},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t))},completeTriggerCreator:function(t){return e(Object(je.b)(t))},fetchGoogleInfoCreator:function(){return e(De())},fetchShareVideoDownloadUrlCreator:function(){return e(Object(_.f)())},fetchVideoCreator:function(t){return e(Object(_.g)(t))},getFeatureFlag:function(t){return e(Object(w.a)(t))},postNotificationSettings:function(t){return e(Object(Fe.a)(t,"Re-enabled From Video Page"))},showErrorBar:function(t,n){return e(Object(p.b)(t,n))},showStatusBar:function(t){return e(he(t))},updateLoginOrSignUp:function(t){return e(Object(de.c)(t))},updateNotificationSettings:function(t){return e(Object(me.d)(t))},updateShareVideo:function(t){return e(Object(fe.d)(t))},updateShareVideoInTrimMode:function(t){return e(Object(fe.h)(t))},updateShareVideoPassword:function(t){return e(Object(fe.i)(t))},updateShareVideoShowRemoveModal:function(t){return e(Object(fe.k)(t))},updateVideoCtaShow:function(t){return e(Object(fe.p)(t))},updateVideoNameCreator:function(t){return e(Object(_.q)(t))},sendInactiveVideoOwnerPing:function(){return e(Object(Me.e)())},updateVideoIframeVisibility:function(t){return e(Object(fe.s)(t))},subscribeGifReady:function(t){return e(Object(_.m)(t))},toggleTranscriptVisible:function(t){return e(Object(v.m)(t))}}}))(su),uu=n("yfXj"),du=n("d7KZ"),mu=n.n(du);n("/off");function fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var pu=function(e){Y()(n,e);var t=fu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleCancel",(function(){e.props.deleteAttachment(e.props.uploadQueue[0].id)})),re()(K()(e),"handleRetry",(function(){Fn()})),e}return J()(n,[{key:"render",value:function(){var e,t=this.props,n=t.currentJobIndex,r=t.currentJobName,i=t.error,a=t.totalJobs,o=t.uploadProgress,s=i?"Error with":"Uploading",l=" (".concat(n,"/").concat(a,")"),u="".concat(s," ").concat(r),d="",m=null,f=c.a.createElement("span",{className:"cancel",onClick:this.handleCancel},""),p={width:"100%"};return i?(e=lr.a,d="error",m=c.a.createElement("span",{className:"retry",onClick:this.handleRetry},"Re-Upload")):1===o?(e=dr.a,d="success",f=null):(e=fr.a,p.width="".concat(100*o,"%")),c.a.createElement("div",{className:"attachment-upload-progress-modal ".concat(d)},c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"content"},c.a.createElement("img",{src:e}),c.a.createElement("div",{className:"indicator"},c.a.createElement("span",null,u),c.a.createElement("span",{className:"item-progress"},l),m),f),c.a.createElement("span",{className:"progress-bar",style:p})))}}]),n}(o.Component),hu=Object(l.connect)((function(e){var t=e.attachments,n=t.upload_error,r=t.upload_progress,i=t.upload_queue,a=t.upload_queue_current_job_index,o=t.upload_queue_total_jobs;return{currentJobName:i[0].name,error:n,uploadProgress:r,uploadQueue:i,currentJobIndex:a,totalJobs:o}}),(function(e){return{deleteAttachment:function(t){return e(tr(t))}}}))(pu);n("igrV");function vu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var gu=/^http(s)?/i,bu=/\.(doc|docx|pages|one)/i,yu=/\.(jpeg|jpg|png|bmp)/i,ku=/\.(key|ppt|pptx|pub)/i,wu=/\.(numbers|xls|xlsx|accdb)/i,_u=/\.(zip|gzip|tar|rar|bin)/i,Eu=function(e){Y()(n,e);var t=vu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{downloading:!1,downloadProgress:0,downloadProgressInstance:null,faviconAvailable:!0}),re()(K()(e),"handleFaviconError",(function(){e.setState({faviconAvailable:!1})})),re()(K()(e),"handleClick",(function(){var t=e.props.attachment;if("link"===t.type)return Le.h(ve.q,e.getTrackProperties()),window.open(t.url,"_blank");e.handleDownload()})),re()(K()(e),"handleDownload",(function(){if(e.state.downloading)return!1;var t=e.props.attachment,n=t.download_url,r=t.name,i=new yr.a((function(t){return e.setState({downloadProgress:t})}),(function(){Le.h(ve.q,e.getTrackProperties()),e.resetDownloadState(),i.save()}),(function(){return e.resetDownloadState()}));i.fetch(n,r),e.setState({downloading:!0,downloadProgressInstance:i})})),re()(K()(e),"resetDownloadState",(function(){e.setState({downloading:!1,downloadProgress:0,downloadProgressInstance:null})})),re()(K()(e),"getTrackProperties",(function(){var t=e.props,n=t.attachment,r=n.type,i=n.url,a=n.mime,o=n.name,c=n.owner_id,s=t.currentUserIsOwner;return{video_id:t.videoId,is_video_owner:s,attachment_type:r,attachment_url:i,mime:a,name:o,owner_id:c}})),e}return J()(n,[{key:"render",value:function(){var e,t=this.props.attachment,n=this.state,r=n.downloading,i=n.downloadProgress,a=this.getAttachmentIconAndCategory(),o=a.icon,s=a.category;return e="link"===t.type?"View":"Download",c.a.createElement("div",{className:"attachment-bar-item"},c.a.createElement("div",{className:"info"},c.a.createElement("span",null,t.name),c.a.createElement("span",{onClick:this.handleClick},e," ",s)),!r&&c.a.createElement("img",{onError:this.handleFaviconError,src:o}),r&&c.a.createElement(br.a,{percentage:i,strokeWidth:10,styles:{path:{stroke:Object(ie.getColorValue)("blurple"),strokeLinecap:"round"},trail:{stroke:Object(ie.getColorValue)("white")}}}))}},{key:"componentWillUnmount",value:function(){this.state.downloadProgressInstance&&this.state.downloadProgressInstance.abort()}},{key:"getAttachmentIconAndCategory",value:function(){return"link"===this.props.attachment.type?this.getAttachmentIconAndCategoryForLink():this.getAttachmentIconAndCategoryForUpload()}},{key:"getAttachmentIconAndCategoryForLink",value:function(){var e=this.props.attachment.url;e=e.toLowerCase().trim(),gu.test(e)||(e="https://".concat(e));var t=document.createElement("a");if(t.href=e,this.state.faviconAvailable)return{icon:"https://logo.clearbit.com/".concat(t.hostname),category:"Link"};var n=t.pathname;return yu.test(n)?{icon:Er.a,category:"Link"}:_u.test(n)?{icon:Pr.a,category:"Link"}:ku.test(n)?{icon:Nr.a,category:"Link"}:bu.test(n)?{icon:wr.a,category:"Link"}:wu.test(n)?{icon:Or.a,category:"Link"}:{icon:Cr.a,category:"Link"}}},{key:"getAttachmentIconAndCategoryForUpload",value:function(){var e=this.props.attachment.mime;if(0===e.indexOf("image/"))return{icon:Er.a,category:"Image"};if(0===e.indexOf("video/"))return{icon:Rr.a,category:"Video"};if(e.indexOf("epub")>-1)return{icon:Nr.a,category:"Presentation"};if(e.indexOf("officedocument")>-1||e.indexOf("opendocument")>-1){if(e.indexOf(".text")>-1||e.indexOf(".document")>-1)return{icon:wr.a,category:"Document"};if(e.indexOf(".presentation")>-1)return{icon:Nr.a,category:"Presentation"};if(e.indexOf(".spreadsheet")>-1||e.indexOf(".sheet")>-1)return{icon:Or.a,category:"Spreadsheet"}}return e.indexOf("zip")>-1||e.indexOf("compressed")>-1||0===e.indexOf("application/")?{icon:Pr.a,category:"Zip"}:{icon:wr.a,category:"Document"}}}]),n}(o.Component),Su=function(e){Y()(n,e);var t=vu(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.attachments,n=e.currentUserIsOwner,r=e.shouldNotLoad,i=e.videoId;return!t.length||r?c.a.createElement("div",{className:"attachments-bar empty"}):c.a.createElement("div",{className:"attachments-bar"},t.map((function(e){return c.a.createElement(Eu,{key:e.id,attachment:e,currentUserIsOwner:n,videoId:i})})))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.attachmentsFetchedOnce,n=e.shouldNotLoad;t||n||this.props.fetchAllAttachmentsCreator()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.needsPassword,r=t.password;if(n&&null==e.password&&null!=r)return this.props.fetchAllAttachmentsCreator()}}]),n}(o.Component),Cu=Object(l.connect)((function(e){var t=e.attachments,n=t.attachments,r=t.fetched_once,i=e.share_video,a=i.current_user_is_owner,o=i.password,c=i.video,s=c.id,l=c.needs_password,u=c.viewer_needs_permission;return{attachments:n,attachmentsFetchedOnce:r,currentUserIsOwner:a,needsPassword:l,password:o,shouldNotLoad:l&&!o||u,videoId:s}}),(function(e){return{fetchAllAttachmentsCreator:function(){return e(nr())}}}))(Su);n("4UmK");function xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Nu=function(e){Y()(n,e);var t=xu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{editing:!1,input_val:""}),re()(K()(e),"onChange",(function(t){return e.setState({input_val:t.target.value})})),re()(K()(e),"onKeyDown",(function(t){switch(t.keyCode){case Qi.e:e.validateAndInsertTimestamp();break;case Qi.f:e.resetTimestamp()}})),re()(K()(e),"resetTimestamp",(function(){e.setState({editing:!1}),e.props.updateCommentsTimestampFrozen(!1)})),re()(K()(e),"validateAndInsertTimestamp",(function(){var t=e.props.duration;if(null!=e.input){var n=e.input.value;if(Wi.h.test(n)){if(null!==t&&n>t)return e.resetTimestamp();e.props.updateCommentsTimestamp(n),e.setState({editing:!1})}else try{var r=Object(Ri.a)(e.input.value);if(null!==t&&r>t)return e.resetTimestamp();e.props.updateCommentsTimestamp(r),e.setState({editing:!1})}catch(t){e.resetTimestamp()}}})),re()(K()(e),"switchToEditingMode",(function(){var t=e.props.timestamp;e.setState({input_val:t}),e.setState({editing:!0}),e.props.updateCommentsTimestampFrozen(!0)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.commentsEnabled,r=t.duration,i=t.timestamp,a=t.companyFeatureData,o=t.currentUserIsOwner,s=(a||{}).brand_primary_color,l=this.state,u=l.editing,d=l.input_val,m=s&&!o?{borderBottom:"1px solid ".concat(s)}:null,f="";return n||(f="comments-disabled"),c.a.createElement("div",{className:"time-handler"},u?c.a.createElement("input",{autoFocus:!0,type:"text",className:"timestamp-edit",ref:function(t){return e.input=t},onBlur:this.validateAndInsertTimestamp,onFocus:this.moveCaretAtEnd,onKeyDown:this.onKeyDown,onChange:this.onChange,value:d,maxLength:"8"}):c.a.createElement("span",{className:"playback-timestamp ".concat(f),style:m,onClick:this.switchToEditingMode},Object(Ri.d)(i)),r&&c.a.createElement("span",{className:"playback-duration"}," / ".concat(Object(Ri.d)(Math.round(r)))))}},{key:"moveCaretAtEnd",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t}}]),n}(o.Component),Tu=Object(l.connect)((function(e){var t=e.comments,n=t.time_stamp_frozen,r=t.time_stamp,i=e.share_video.video,a=i.video_properties.duration;return{commentsEnabled:i.comments_enabled,duration:a,timestamp:r,timestampFrozen:n,companyFeatureData:i.company_feature_data,currentUserIsOwner:e.share_video.current_user_is_owner}}),(function(e){return{updateCommentsTimestamp:function(t){return e(ti(t))},updateCommentsTimestampFrozen:function(t){return e(ni(t))}}}))(Nu);n("luHq");function Ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Iu={anon_user_name:"",anon_user_name_error:null,guest_name_box:!1},Ru=function(e){Y()(n,e);var t=Ou(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",Iu),re()(K()(e),"addComment",(function(){var t=e.state.anon_user_name;t?(e.props.updateAnonUserName(t),e.props.addComment()):e.setState({anon_user_name_error:"Please enter a valid name"})})),re()(K()(e),"updateAnonUserName",(function(t){e.setState({anon_user_name_error:null}),e.setState({anon_user_name:t})})),re()(K()(e),"resetNoGuestFlow",(function(){e.setState(Iu)})),e}return J()(n,[{key:"render",value:function(){var e=this.state,t=e.anon_user_name,n=e.anon_user_name_error,r=this.props.buttonStyle;return c.a.createElement("div",{className:"guest-name-box"},c.a.createElement("span",{className:"back-guest",onClick:this.props.resetNoGuestFlow},"back"),n&&c.a.createElement("p",{className:"error"},n),c.a.createElement(Xi.a,{inputClass:"guest-name-input",fieldValue:t,fieldId:"guest-name-input",fieldLabel:"Full Name",severity:n?"error":"",onChange:this.updateAnonUserName,onEnter:this.onCompanyEnter}),c.a.createElement(Mt.a,{buttonClass:"guest-submit",style:r,buttonType:"rp-primary-4",value:"Post",onClicked:this.addComment}))}},{key:"componentDidMount",value:function(){var e=Object(Gt.a)();this.props.updateAnonUserName(e),this.setState({anon_user_name:e,guest_name_box:!0,log_in:!1})}}]),n}(o.Component),Du=Object(l.connect)(null,(function(e){return{updateAnonUserName:function(t){return e(Zr(t))}}}))(Ru);n("sZdI");function Pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Fu=function(e){Y()(n,e);var t=Pu(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props.url;return c.a.createElement("div",{className:"add-url-to-video"},c.a.createElement("div",{className:"add-url-to-video-text",onClick:this.props.onClickAdd},c.a.createElement("span",null,"Add link to page you recorded on?"),c.a.createElement("span",null,e)),c.a.createElement("span",{className:"close",onClick:this.props.onClickClose}))}}]),n}(c.a.PureComponent),ju=Object(l.connect)((function(e){return{url:e.share_video.url_for_display}}))(Fu);function Au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Mu=function(e){Y()(n,e);var t=Au(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.listeneeClass,n=e.slack,r=e.onMentionClick,i=n.team_info;return i?c.a.createElement("div",null,c.a.createElement(ua,{title:"People",editorClass:ue()(t),trigger:"@",handleSelection:r,selfPositioning:!0,suggestions:i.people.map((function(e){return{username:e.name,name:e.profile.real_name||e.name,avatar:e.profile.image_72,id:e.id}}))}),c.a.createElement(ua,{title:"Channel",editorClass:ue()(t),trigger:"#",showTrigger:!0,handleSelection:r,selfPositioning:!0,suggestions:i.channels.map((function(e){return{name:e.name,id:e.id}}))})):null}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.slack;e.team_info||e.fetching||this.props.getSlackInfoCreator()}},{key:"componentDidMount",value:function(){var e=this,t=ue()(this.props.listeneeClass);t[0]&&t[0].addEventListener("keydown",(function(){e.forceUpdate()}))}}]),n}(o.Component),Lu=Object(l.connect)((function(e){return{slack:e.slack}}),(function(e){return{getSlackInfoCreator:function(){return e(aa())}}}))(Mu);n("ku8/");function Vu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Uu=function(e){Y()(n,e);var t=Vu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{did_mount:!1,add_comment_active:!1,comment_mentions:{},show_add_link_bar:!1,render_add_link_bar:!0}),re()(K()(e),"handleCommentClickThroughAreaClick",(function(){e.props.commentsEnabled&&e.addCommentContent.focus()})),re()(K()(e),"handleAddLinkToDescription",(function(){var t=e.props.video,n=t.id,r=t.video_properties.from_url,i=void 0===r?null:r;if(null!=i){Le.h(ve.Ad,{has_content:e.stripMediumContent().trim().length>0,video_id:n});var a="<div>".concat(i,"</div>");e.medium.value(e.medium.value()+a),e.validateComment(),e.setState({show_add_link_bar:!1})}})),re()(K()(e),"handleCloseAddLinkBar",(function(t){e.setState({show_add_link_bar:!1,render_add_link_bar:t})})),re()(K()(e),"addComment",(function(){var t=e.props,n=t.isInGuestFlow,r=t.isLoggedIn;if(t.commentsEnabled){var i=e.stripMediumContent();if(0!==i.length){if(!r&&!n)return e.props.updateInGuestFlow(!0);e.removeInlineCommentReplyVideo(),e.props.addComment(i,e.medium,e.state.comment_mentions),e.props.updateInGuestFlow(!1),e.setState({comment_mentions:{}})}else e.props.updateAddCommentError("Cannot be empty")}})),re()(K()(e),"stripMediumContent",(function(){if(null!=e.medium)return zi(e.medium)})),re()(K()(e),"resetGuestFlow",(function(){e.props.updateInGuestFlow(!1)})),re()(K()(e),"populateInlineCommentReplyVideo",function(){var t=W()(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.addCommentContent.innerText=e.addCommentContent.innerText+n,e.linkPreviewHtml=null,t.prev=2,!hi.textReplace){t.next=7;break}return t.next=6,Object(hi.textReplace)(n,Bi(e.addCommentContent.offsetWidth));case 6:e.linkPreviewHtml=t.sent;case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),Ne.d(t.t0,"Error while populating link preview",{videoUrl:n});case 12:e.addCommentLinkPreviewDiv.innerHTML=e.linkPreviewHtml+e.addCommentLinkPreviewDiv.innerHTML,e.validateComment();case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()),re()(K()(e),"removeInlineCommentReplyVideo",(function(){e.addCommentContent.innerText=e.addCommentContent.innerText.replace(e.props.videoReplyUrl,""),e.props.updateWebRecordingUtilityRecordedVideo(null),e.validateComment()})),re()(K()(e),"validateComment",(function(){e.setState({add_comment_active:e.addCommentContent&&""!==e.addCommentContent.innerText}),e.props.updateAddCommentError(null),e.medium.html.placeholders()})),re()(K()(e),"addMousetrapBindings",(function(){yi()(e.addCommentContent).bind([wi.c,wi.b],(function(){e.addComment()}))})),re()(K()(e),"addMention",(function(t,n){var r=t.result,i=t.query;e.setState({comment_mentions:Ui(r,i,".add-comment-content",e.state.comment_mentions,n)})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.did_mount,r=t.add_comment_active,i=this.props,a=i.commentsEnabled,o=i.errorAddComment,s=i.isFetching,l=i.isInGuestFlow,u=i.currentUserIsOwner,d=i.companyFeatureData,m=i.videoReplyUrl,f=i.wruRecordingInitiated,p=a?"":"comments-disabled",h=r?"is-active":"",v=o?"error":"",g=(d||{}).brand_primary_color,y=function(e){if(e){var t=e.replace(/#/,""),n=1-(.299*parseInt(t.substr(0,2),16)+.587*parseInt(t.substr(2,2),16)+.114*parseInt(t.substr(4,2),16))/255<.4?0:255;return"rgb(".concat(n,", ").concat(n,", ").concat(n,")")}}(g),k=g&&!u?{borderColor:g,backgroundColor:g,color:y}:null,w=k?{color:g}:null,_="error"===v&&w?{border:"1px solid ".concat(g)}:null,E=this.state.show_add_link_bar?"":"hidden",S=s||!h||!a;return c.a.createElement(c.a.Fragment,null,this.props.showAddLinkBar&&c.a.createElement("div",{className:"add-url-to-video-root ".concat(E)},c.a.createElement(ju,{onClickAdd:this.handleAddLinkToDescription,onClickClose:this.handleCloseAddLinkBar})),c.a.createElement("div",{style:_,className:"add-comment ".concat(p," ").concat(v," ").concat(l?"hidden-content":"")},l&&c.a.createElement(Du,{buttonStyle:k,addComment:this.addComment,resetNoGuestFlow:this.resetGuestFlow}),c.a.createElement("div",{className:"add-comment-content",ref:function(t){return e.addCommentContent=t},onInput:this.validateComment}),c.a.createElement("div",{className:"add-comment-actions ".concat(l?"hidden":"")},c.a.createElement("div",{className:"add-comments-click-through-area",onClick:this.handleCommentClickThroughAreaClick}),c.a.createElement("div",{className:"save-and-time"},o&&c.a.createElement("span",{className:"validation-error-react",style:w},o),!o&&c.a.createElement(Tu,null))),m&&c.a.createElement("div",{className:"add-comment-content-link-preview"},c.a.createElement("div",{className:"add-comment-content-link-preview-placeholder",ref:function(t){return e.addCommentLinkPreviewDiv=t},onClick:function(){return Le.h(ve.Ke)}}),c.a.createElement(ie.IconButton,{altText:"Cancel",onClick:function(t){t.stopPropagation(),e.removeInlineCommentReplyVideo(),Le.h(ve.Me)},iconColor:"grey5",icon:c.a.createElement(ie.SvgClose,null),className:"add-comment-content-link-preview-cross-icon"}),c.a.createElement(ie.Spacer,{top:2}),c.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer",tabIndex:"0",onClick:function(e){return e.stopPropagation(),Le.h(ve.Le),!0}},c.a.createElement(ie.Button,null,"Go to Video"))),n&&c.a.createElement(Lu,{onMentionClick:this.addMention,listeneeClass:".add-comment-content"})),c.a.createElement("div",{className:"add-comment-buttons"},c.a.createElement(L.a,{flag:b.L,activationValue:!0},!m&&c.a.createElement(ga.b,{isVideoReply:!0,label:"Record a Reply",isDisabled:f||!a,location:"add-comment"}),m&&c.a.createElement(ie.Button,{icon:c.a.createElement(ie.SvgClose,null),onClick:function(){e.removeInlineCommentReplyVideo(),Le.h(ve.Me)}},"Remove Reply")),c.a.createElement(ie.Spacer,{right:2}),c.a.createElement(ie.Button,{variant:"primary",isDisabled:S,onClick:this.addComment,style:S?null:{backgroundColor:"var(--brandThemedPrimaryButtonBackgroundColor, var(--lns-color-primary))"}},"Post")))}},{key:"componentDidMount",value:function(){this.medium=new gi.a({attributes:null,autofocus:!1,autoHR:!1,element:this.addCommentContent,mode:gi.a.richMode,maxLength:Wi.f,pasteAsText:!1,placeholder:"Write a comment",tags:null}),this.addMousetrapBindings(),this.setState({did_mount:!0});var e=this.props,t=e.currentUserIsOwner,n=e.video,r=e.videoIsTeamShared,i=this.stripMediumContent();(t||r||n.collaboratePermissions.write)&&null!=n&&0===i.length&&this.setState({show_add_link_bar:!0})}},{key:"componentDidUpdate",value:function(e){this.medium.settings.maxLength=this.props.commentsEnabled?Wi.f:0;var t=this.props.videoReplyUrl;t&&!e.videoReplyUrl?this.populateInlineCommentReplyVideo(t):e.videoReplyUrl&&!t&&this.removeInlineCommentReplyVideo()}}]),n}(o.Component),Bu=Object(l.connect)((function(e){var t=e.share_video,n=t.current_user_is_owner,r=t.url_for_display,i=t.video,a=t.video_is_team_shared,o=i.comments_enabled,c=i.company_feature_data,s=e.comments,l=s.error_add_comment,u=s.is_fetching,d=s.in_guest_flow,m=s.comments,f=e.user.is_logged_in,p=m.every((function(e){return-1===e.content.indexOf(r)})),h=Boolean(i.video_properties.from_url),v=e.webRecordingUtility,g=v.videoUrl,b=v.recordingInitiated;return{commentsEnabled:o,showAddLinkBar:!u&&(n||a||i.collaboratePermissions.write)&&p&&o&&h,errorAddComment:l,isFetching:u,isInGuestFlow:d,isLoggedIn:f,companyFeatureData:c,currentUserIsOwner:n,video:i,videoIsTeamShared:a,videoReplyUrl:g,wruRecordingInitiated:b}}),(function(e){return{addComment:function(t,n,r){return e(ui(t,n,r))},updateInGuestFlow:function(t){return e(ii(t))},updateAddCommentError:function(t){return e(Yr(t))},updateWebRecordingUtilityRecordedVideo:function(t){return e(Object(ki.p)(t))}}}))(Uu);n("r38f");function qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Wu=function(e){Y()(n,e);var t=qu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{did_mount:!1,add_reply_enabled:!1,comment_mentions:{}}),re()(K()(e),"addMention",(function(t,n){var r=t.result,i=t.query;e.setState({comment_mentions:Ui(r,i,".add-reply-content",e.state.comment_mentions,n)})})),re()(K()(e),"addReply",(function(){var t=e.props,n=t.comment,r=t.isInGuestFlowReply,i=t.isLoggedIn,a=e.stripMediumContent();if(0!==a.length){if(!i&&!r)return e.props.updateInGuestFlowReply(!0);e.props.addReply(a,n.id,e.state.comment_mentions),e.props.updateInGuestFlowReply(!1),e.setState({comment_mentions:{}})}else e.props.updateAddReplyError("Cannot be empty")})),re()(K()(e),"stripMediumContent",(function(){if(null!=e.medium)return zi(e.medium)})),re()(K()(e),"resetGuestFlow",(function(){e.props.updateInGuestFlowReply(!1)})),re()(K()(e),"addMousetrapBindings",(function(){yi()(e.addReplyContent).bind([wi.c,wi.b],(function(){e.addReply()}))})),re()(K()(e),"onKeyUp",(function(e){e.keyCode!==Qi.c&&e.keyCode!==Qi.d&&(e.keyCode,Qi.e)})),re()(K()(e),"validateReply",(function(){e.setState({add_reply_enabled:e.addReplyContent&&""!==e.addReplyContent.innerText}),e.props.updateAddReplyError(null),e.medium.html.placeholders()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.errorAddReply,r=t.isFetching,i=t.isInGuestFlowReply,a=t.brandColor,o=this.state,s=o.did_mount,l=o.add_reply_enabled,u=n?"error":"",d=l?"is-active":"";return c.a.createElement("div",{className:"add-reply-view ".concat(i?"hidden-content":"")},i&&c.a.createElement(Du,{buttonStyle:a?{backgroundColor:a}:null,addComment:this.addReply,resetNoGuestFlow:this.resetGuestFlow}),c.a.createElement("div",{className:"add-reply-box ".concat(u)},c.a.createElement("div",{className:"add-reply-content",tabIndex:"-1",ref:function(t){return e.addReplyContent=t},onKeyUp:this.onKeyUp,onInput:this.validateReply}),c.a.createElement("div",{className:"add-reply-actions ".concat(i?"hidden":"")},c.a.createElement("div",{className:"click-through-area",onClick:function(){return e.addReplyContent.focus()}}),c.a.createElement("div",{className:"add-reply-actions-save"},n&&c.a.createElement("span",{className:"validation-error-react"},n),c.a.createElement(Mt.a,{buttonClass:d,style:a?{backgroundColor:a}:null,buttonType:"rp-primary-4",disabled:r||!l,value:"Post",onClicked:this.addReply})))),s&&c.a.createElement(Lu,{onMentionClick:this.addMention,listeneeClass:".add-reply-content"}))}},{key:"componentDidMount",value:function(){this.medium=new gi.a({attributes:null,autofocus:!1,autoHR:!1,element:this.addReplyContent,mode:gi.a.richMode,maxLength:Wi.f,pasteAsText:!1,placeholder:"Reply to comment",tags:null}),this.addMousetrapBindings(),this.setState({did_mount:!0})}}]),n}(o.Component),zu=Object(l.connect)((function(e){var t=e.comments;return{errorAddReply:t.error_add_reply,isFetching:t.is_fetching,isInGuestFlowReply:t.in_guest_flow_reply,isLoggedIn:e.user.is_logged_in}}),(function(e){return{addReply:function(t,n,r){return e(di(t,n,r))},updateAddReplyError:function(t){return e($r(t))},updateInGuestFlowReply:function(t){return e(ai(t))}}}))(Wu);n("RwQf");function Gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Hu=function(e){Y()(n,e);var t=Gu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"deleteReply",(function(){var t=e.props.reply;window.confirm("Are you sure you want to delete this reply?")&&e.props.deleteReply(t)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.companyFeatureData,r=e.reply,i=e.user,a=r.avatar&&r.avatar.thumb,o=(n||{}).brand_primary_color,s=!t&&o?{color:o}:null;return c.a.createElement("div",{className:"reply-container",id:"reply-".concat(r.id)},c.a.createElement("hr",null),a&&c.a.createElement("img",{src:Object(Ve.b)(a),className:"reply-avatar"}),!a&&c.a.createElement("img",{src:At.a,className:"reply-avatar"}),c.a.createElement("div",{className:"comment-reply"},c.a.createElement("div",{className:"reply-header"},c.a.createElement("div",{className:"user-name"}," ",r.user_name," ")),c.a.createElement("div",{className:Ti.c,dangerouslySetInnerHTML:{__html:Li(r)},onClick:Mi}),c.a.createElement("div",{className:"actions-section"},Vi(r,t,i)&&c.a.createElement("span",{className:"delete-reply",onClick:this.deleteReply,style:s},"Delete"),c.a.createElement("span",{className:"reply-date-section"},Ai(r.createdAt)))))}}]),n}(o.Component),Ju=Object(l.connect)((function(e){var t=e.share_video,n=e.user;return{currentUserIsOwner:t.current_user_is_owner,companyFeatureData:t.video.company_feature_data,user:n}}),(function(e){return{deleteReply:function(t){return e(fi(t))}}}))(Hu);n("FiwZ");function Qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ku=function(e){Y()(n,e);var t=Qu(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{scroll_to_add_reply:!1}),re()(K()(e),"onCommentContentClick",(function(t){t.target.className===Ti.g&&e.handleClickTimestamp(t)})),re()(K()(e),"handleClickTimestamp",(function(e){document.body.scrollTo(0,0),Mi.call(e.target,e)})),re()(K()(e),"deleteComment",(function(){var t=e.props.comment;window.confirm("Are you sure you want to delete this comment?")&&e.props.deleteComment(t.id)})),re()(K()(e),"showAddReply",(function(){var t=e.props.comment;e.setState({scroll_to_add_reply:!0}),e.props.updateAddReplyId(t.id)})),re()(K()(e),"showReplies",(function(){var t=e.props,n=t.comment,r=t.expandedIds;e.props.updateExpandedReplyIds(r.concat(n.id))})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.addReplyId,n=e.comment,r=e.commentsEnabled,i=e.commentList,a=e.companyFeatureData,o=e.currentUserIsOwner,s=e.user,l=n.replies&&n.replies.map((function(e){return c.a.createElement(Ju,{key:e.id,reply:e})})),u=n.avatar&&n.avatar.thumb;u&&(u=Object(Ve.b)(u));var d=(a||{}).brand_primary_color,m=d&&!o?{color:d}:null;return c.a.createElement("div",null,c.a.createElement("div",{className:"post-container",id:"comment-".concat(n.id)},c.a.createElement(Oa.a,{avatarSrc:u,name:n.user_name}),c.a.createElement("div",{className:"comment-post","data-seconds":n.time_stamp},c.a.createElement("div",{className:"comment-header"},c.a.createElement("div",{className:"user-name"}," ",n.user_name," "),c.a.createElement("div",{className:"timestamp"},c.a.createElement("a",{href:"#",className:Ti.g,style:m,onClick:this.handleClickTimestamp,"data-seconds":n.time_stamp},Object(Ri.d)(n.time_stamp)))),c.a.createElement("div",{className:Ti.a,dangerouslySetInnerHTML:{__html:Li(n)},onClick:this.onCommentContentClick}),r&&c.a.createElement("div",{className:"actions-section"},c.a.createElement("div",{className:"right"},Vi(n,o,s)&&c.a.createElement("span",{className:"delete",style:m,onClick:this.deleteComment},"Delete"),c.a.createElement("span",{className:"show-add-reply",style:m,onClick:this.showAddReply},"Reply"),c.a.createElement("span",{className:"date-section"},Ai(n.createdAt)))),r&&l&&l.length>0&&c.a.createElement("hr",null),r&&l,r&&t===n.id&&c.a.createElement(zu,{comment:n,brandColor:o?null:d}))),i.length>1&&_a()(i).id!==n.id&&c.a.createElement("hr",null))}},{key:"componentDidUpdate",value:function(e){var t=this.state.scroll_to_add_reply,n=this.props.comment;if((e.comment.replies||[]).length!==(n.replies||[]).length){var r=document.querySelector(Ti.d);hi.linkReplace&&r&&Object(hi.linkReplace)(Ti.f,Bi(r.offsetWidth)),window.setTimeout(qi,Ti.e)}if(t){var i=ue()(".container-comments"),a=ue()(".add-reply-content");a[0]&&(i.animate({scrollTop:i.scrollTop()-i.offset().top+a.offset().top-45},1e3),a[0].focus(),this.setState({scroll_to_add_reply:!1}))}}}]),n}(o.Component),$u=Object(l.connect)((function(e){var t=e.comments,n=e.share_video,r=e.user,i=t.add_reply_id,a=t.comments,o=n.current_user_is_owner,c=n.video;return{addReplyId:i,commentsEnabled:c.comments_enabled,commentList:a,companyFeatureData:c.company_feature_data,currentUserIsOwner:o,user:r}}),(function(e){return{deleteComment:function(t){return e(mi(t))},updateAddReplyId:function(t){return e(Xr(t))},updateExpandedReplyIds:function(t){return e(ri(t))}}}))(Ku);n("uD/X");function Yu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Xu=function(e){Y()(n,e);var t=Yu(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n="";e.commentsEnabled||(n="comments-disabled");var r=t.map((function(e){return c.a.createElement($u,{key:e.id,comment:e})}));return c.a.createElement("div",{className:"container-comments ".concat(n)},r)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",qi)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.comments,n=e.commentsEnabled;if(t.length>0&&n){var r=document.querySelector(Ti.b);r&&(hi.linkReplace&&Object(hi.linkReplace)(Ti.f,Bi(r.offsetWidth)),window.setTimeout(qi,Ti.e))}window.addEventListener("resize",qi)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.comments,r=t.commentsEnabled;if(e.comments.length!==n.length&&r){var i=document.querySelector(Ti.b);i&&(hi.linkReplace&&Object(hi.linkReplace)(Ti.f,Bi(i.offsetWidth)),window.setTimeout(qi,Ti.e))}}}]),n}(o.Component),Zu=Object(l.connect)((function(e){return{comments:e.comments.comments,commentsEnabled:e.share_video.video.comments_enabled}}))(Xu);n("g28d");function ed(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var td=function(e){Y()(n,e);var t=ed(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"fetchCommentsAndSendMarkers",W()(B.a.mark((function t(){var n,r,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.video,i=n.password,!(null==r||r.needs_password&&null==i)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.fetchComments();case 5:e.sendMarkers();case 6:case"end":return t.stop()}}),t)})))),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.hasFetched;return e.shouldNotLoad?null:c.a.createElement("div",{className:"comments-view"},c.a.createElement(Bu,null),t.length>0&&n&&c.a.createElement(Zu,null))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldNotLoad;window.top.addEventListener("message",(function(t){switch(t.data.type){case be.e:case be.k:e.fetchCommentsAndSendMarkers()}}),!1),t||this.fetchCommentsAndSendMarkers()}},{key:"componentDidUpdate",value:function(e){var t=e.comments,n=e.hasFetched,r=e.iframeLoaded,i=e.password,a=e.video,o=this.props,c=o.comments,s=o.hasFetched,l=o.iframeLoaded,u=o.password,d=o.video;if(null!=d)return null==d||null!=a||d.needs_password?d.needs_password&&null==i&&null!=u?this.fetchCommentsAndSendMarkers():l&&!r?this.sendMarkers():void(t.length!==c.length&&n===s&&this.sendMarkers()):this.fetchCommentsAndSendMarkers()}},{key:"sendMarkers",value:function(){var e=this.props,t=e.comments;e.iframeLoaded&&this.props.updateVideoPlayerCommentMarkers(t.map((function(e){return{time:e.time_stamp}})))}}]),n}(o.Component),nd=Object(l.connect)((function(e){var t=e.share_video,n=t.password,r=t.video,i=e.comments,a=i.comments,o=i.has_fetched;return{shouldNotLoad:null==r||r.needs_password&&!n||r.viewer_needs_permission,comments:a,hasFetched:o,password:n,video:r}}),(function(e){return{fetchComments:function(){return e(pi())},updateVideoPlayerCommentMarkers:function(t){return e(Object(v.w)(t))}}}))(td),rd=n("XLjq"),id=n.n(rd),ad=n("xdnN"),od=function(){var e=c.a.useState(!1),t=st()(e,2),n=t[0],r=t[1],i=Object(dt.d)(),a=Object(Ge.a)(),s=Object(ad.a)(),l=Object(o.useCallback)((function(){return{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:i.id}}),[i.id]),u=function(){Object(Le.h)(ve.L,l()),r(!n)};return Object(o.useEffect)((function(){var e,t,n=(null==s||null===(e=s.videos)||void 0===e?void 0:e.total_workspace_videos)+(null==s||null===(t=s.screenshots)||void 0===t?void 0:t.total_workspace_screenshots)>=(null==a?void 0:a.TOTAL_ASSETS);n&&Object(Le.h)(ve.M,l()),r(n)}),[s,l,a]),c.a.createElement(mn.a,{names:we.c},c.a.createElement(ie.Modal,{isOpen:n,onCloseClick:u,onBackgroundClick:u,maxWidth:55},c.a.createElement("img",{className:"logo accenture",src:id.a}),c.a.createElement(ie.Spacer,{bottom:3}),c.a.createElement(ie.Text,{fontWeight:"medium",alignment:"center",size:"large"},"Youre over your limit of ",null==a?void 0:a.TOTAL_ASSETS," free videos and screenshots."),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Text,{size:"medium",alignment:"center",color:"bodyDimmed"},"This recording is on us, but well enforce the limit soon. Upgrading also unlocks unlimited recording time and a toolkit of new features to help get your message across."),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Button,{variant:"upgrade",size:"large",icon:c.a.createElement(ie.SvgSparkle,null),onClick:function(){Object(Le.h)(ve.K,l(),(function(){window.location.href=y.J}))}},"Upgrade")))};function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var sd=function(e){Y()(n,e);var t=cd(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=null!=this.props.currentTrimRange,t=e?this.props.onCancelCurrentTrimRange:null;return c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgClose,null),isDisabled:!e,onClick:t},"Cancel")}}]),n}(o.Component),ld=function(e){var t=null!=e.selectedTrimRange,n=t?e.onDiscardTrimRange:null;return c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgCut,null),isDisabled:!t,onClick:n},"Remove Trim")};n("EF/v");function ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var dd=function(e){Y()(n,e);var t=ud(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"trim-bar-end-current-trim-range-button"},this.props.showActionDot&&c.a.createElement(Ja,{position:"topLeft"}),c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgCut,null),onClick:this.props.onEndCurrentTrimRange},"Remove"))}}]),n}(o.Component);n("Ii/r");function md(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var fd=function(e){Y()(n,e);var t=md(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.newTrimChanges,r=e.showActionDot,i=null==t&&n,a=i?"enabled":"",o=i?this.props.onPublishChanges:null;return c.a.createElement("div",{className:"trim-bar-button ".concat(this.constructor.className," ").concat(a)},r&&c.a.createElement(Ja,{position:"topLeft"}),c.a.createElement(ie.TextButton,{isDisabled:!i,onClick:o,icon:c.a.createElement(ie.SvgCheckCircle,null)},"Publish Changes"))}}]),n}(o.Component);re()(fd,"className","trim-bar-publish-changes-button");var pd=fd;function hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var vd=function(e){Y()(n,e);var t=hd(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.redoStack;return null==t&&n.length>0?c.a.createElement("div",{className:"ml:medium"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgReplyRight,null),onClick:this.props.onRedoTrim},"Redo")):null}}]),n}(o.Component);n("dCsK");function gd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var bd=function(e){Y()(n,e);var t=gd(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"deactivateBoundTimeout",null),re()(K()(e),"mousePressKickInTimeout",null),re()(K()(e),"mousePressTimeout",null),re()(K()(e),"state",{mouse_pressed:!1}),re()(K()(e),"decrementTime",(function(){e.stepTime(-100,e.decrementTime)})),re()(K()(e),"incrementTime",(function(){e.stepTime(100,e.incrementTime)})),re()(K()(e),"activateTrimBound",W()(B.a.mark((function t(){var n,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.time,window.clearTimeout(e.deactivateBoundTimeout),r="left"===e.props.half?Ua.h:Ua.i,t.next=5,e.props.updateSelectedTrimBoundCreator(r);case 5:n===e.props.time&&e.setDeactivateBoundTimeout();case 6:case"end":return t.stop()}}),t)})))),re()(K()(e),"clearMousePressTimeout",(function(){window.clearTimeout(e.mousePressKickInTimeout),window.clearTimeout(e.mousePressTimeout),e.setState({mouse_pressed:!1})})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.time,r=t?"active":"",i=Object(Ri.d)(Math.floor(n/1e3)),a=String(Math.floor(n%1e3/100)),o="".concat(i,".").concat(a);return c.a.createElement("div",{className:"trim-pill ".concat(r),onClick:this.activateTrimBound},c.a.createElement("div",{className:"time-display"},o),c.a.createElement("div",{className:"arrows"},c.a.createElement("span",{className:"up arrow",onMouseDown:this.incrementTime,onMouseUp:this.clearMousePressTimeout}),c.a.createElement("span",{className:"down arrow",onMouseDown:this.decrementTime,onMouseUp:this.clearMousePressTimeout})))}},{key:"setDeactivateBoundTimeout",value:function(){var e=this;window.clearTimeout(this.deactivateBoundTimeout),this.deactivateBoundTimeout=window.setTimeout((function(){e.props.updateSelectedTrimBoundCreator(null)}),Ua.g)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.active!==this.props.active?window.clearTimeout(this.deactivateBoundTimeout):e.active&&e.time!==this.props.time?this.setDeactivateBoundTimeout():void 0}},{key:"stepTime",value:function(){var e=W()(B.a.mark((function e(t,n){var r,i,a,o,c,s=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.clearTimeout(this.mousePressKickInTimeout),window.clearTimeout(this.mousePressTimeout),r=this.props,i=r.half,a=r.min,o=r.time,c=Math.round(Math.max(a,o+t)),this.props.onTimeChange(i,c),this.state.mouse_pressed){e.next=12;break}return e.next=9,new Promise((function(e){s.mousePressKickInTimeout=window.setTimeout(e,300)}));case 9:if(!this.state.mouse_pressed){e.next=11;break}return e.abrupt("return");case 11:this.setState({mouse_pressed:!0});case 12:this.mousePressTimeout=window.setTimeout(n,50);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(o.Component);n("JMyD");function yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yd(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _d=function(e){Y()(n,e);var t=wd(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"boundingRange",Object(to.d)(e.props.currentTrimRange,e.props.trimRanges,1e3*e.props.duration)),re()(K()(e),"onPillTimeChange",(function(t,n){var r=kd({},e.props.currentTrimRange),i="left"===t,a=Object(to.f)(n,r,e.boundingRange,i,Ua.d);i?r.from=a:r.to=a,e.props.updateCurrentTrimRangeCreator(r),window.top.postMessage({type:be.d,numSeconds:a/1e3},"*")})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.selectedTrimBound,r=t.to-Ua.d,i=this.boundingRange.from,a=this.boundingRange.to,o=t.from+Ua.d,s=n===Ua.h,l=n===Ua.i;return c.a.createElement("div",{className:"trim-range-pill-bar"},c.a.createElement(bd,{time:t.from,active:s,half:"left",max:r,min:i,onTimeChange:this.onPillTimeChange,updateSelectedTrimBoundCreator:this.props.updateSelectedTrimBoundCreator}),c.a.createElement("span",{className:"divider"}),c.a.createElement(bd,{time:t.to,active:l,half:"right",max:a,min:o,onTimeChange:this.onPillTimeChange,updateSelectedTrimBoundCreator:this.props.updateSelectedTrimBoundCreator}))}}]),n}(o.Component),Ed=Object(l.connect)((function(e){var t=e.trimming;return{currentTrimRange:t.current_trim_range,selectedTrimBound:t.selected_trim_bound,trimRanges:t.trim_ranges}}),(function(e){return{updateCurrentTrimRangeCreator:function(t){return e(Object(Ae.h)(t))},updateSelectedTrimBoundCreator:function(t){return e(Object(Ae.i)(t))}}}))(_d);function Sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Cd=function(e){Y()(n,e);var t=Sd(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.undoStack,r=null==t&&n.length>0,i=r?this.props.onUndoTrim:null;return c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgReplyLeft,null),isDisabled:!r,onClick:i},"Undo")}}]),n}(o.Component);n("/oQN");function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Nd=new Error("invalid trim operation"),Td=function(e){Y()(n,e);var t=xd(n);function n(e){var r;return G()(this,n),(r=t.call(this,e)).handleDiscardSelectedTrimRange=r.handleDiscardSelectedTrimRange.bind(K()(r)),r.handleEndCurrentTrimRange=r.handleEndCurrentTrimRange.bind(K()(r)),r.handleTrimAction=r.handleTrimAction.bind(K()(r)),r}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.duration,r=e.newTrimChanges,i=e.redoStack,a=e.selectedTrimRange,o=e.undoStack,s=e.trimRanges,l=null,u=null,d=null,m=null;return null!=t?(null!=a?l=c.a.createElement(ld,{selectedTrimRange:a,onDiscardTrimRange:this.handleDiscardSelectedTrimRange}):(l=c.a.createElement(sd,{currentTrimRange:t,onCancelCurrentTrimRange:this.props.onCancelCurrentTrimRange}),u=c.a.createElement(dd,{showActionDot:this.props.showCutActionDot,onEndCurrentTrimRange:this.handleEndCurrentTrimRange})),m=c.a.createElement(Ed,{duration:n})):(l=c.a.createElement(ld,{selectedTrimRange:a,onDiscardTrimRange:this.handleDiscardSelectedTrimRange}),d=c.a.createElement(pd,{showActionDot:this.props.showPublishActionDot,currentTrimRange:t,newTrimChanges:r,onPublishChanges:this.props.onPublishChanges})),c.a.createElement("div",{className:"share-video-trim-bar"},c.a.createElement("div",{className:"left-section"},s.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Cd,{currentTrimRange:t,onUndoTrim:this.props.onUndoTrim,undoStack:o}),c.a.createElement(vd,{currentTrimRange:t,onRedoTrim:this.props.onRedoTrim,redoStack:i}))),c.a.createElement("div",{className:"middle-section"},m,d),c.a.createElement("div",{className:"right-section"},(t||a)&&l,c.a.createElement("div",{className:"mr:medium"}),t&&u))}},{key:"componentDidMount",value:function(){window.top.addEventListener("message",this.handleTrimAction,!1)}},{key:"componentWillUnmount",value:function(){window.top.removeEventListener("message",this.handleTrimAction)}},{key:"handleTrimAction",value:function(e){var t=e.data,n=void 0===t?{}:t;if(e.source!==window&&n.type===be.x){var r=n.id,i=n.operation,a=n.trimBound,o=n.trimRange,c=n.trimRanges,s=n.updatedVideo;switch(i){case Ua.a:return this.props.addTrimRangeCreator(o);case Ua.f:return this.props.removeTrimRangeCreator(r);case Ua.b:return this.props.enterTrimModeCreator(c);case Ua.c:return this.props.leaveTrimModeCreator(s);case Ua.e:return this.props.redoTrimOperationCreator();case Ua.j:return this.props.undoTrimOperationCreator();case Ua.k:return this.props.updateCurrentTrimRangeCreator(o);case Ua.l:return this.props.updateSelectedTrimBoundCreator(a);case Ua.m:return this.props.updateSelectedTrimRangeCreator(o);case Ua.n:return this.props.updateTrimRangeCreator(o);default:Ne.d(Nd,"bad trim operation",{operation:i})}}}},{key:"handleEndCurrentTrimRange",value:function(){var e=this.props.currentTrimRange;this.props.onEndCurrentTrimRange(e)}},{key:"handleDiscardSelectedTrimRange",value:function(){var e=this.props.selectedTrimRange;this.props.onDiscardTrimRange(e.id)}}]),n}(o.Component),Od=Object(l.connect)(null,(function(e){return{addTrimRangeCreator:function(t){return e(Object(Ae.a)(t,!1,!1))},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t,!1))},leaveTrimModeCreator:function(t){return e(Object(Ae.c)(t,!1))},redoTrimOperationCreator:function(){return e(Object(Ae.e)(!1))},removeTrimRangeCreator:function(t){return e(Object(Ae.f)(t,!1,!1))},undoTrimOperationCreator:function(){return e(Object(Ae.g)(!1))},updateCurrentTrimRangeCreator:function(t){return e(Object(Ae.h)(t,!1))},updateSelectedTrimBoundCreator:function(t){return e(Object(Ae.i)(t,!1))},updateSelectedTrimRangeCreator:function(t){return e(Object(Ae.j)(t,!1))},updateTrimRangeCreator:function(t){return e(Object(Ae.k)(t,!1,!1))}}}))(Td);n("Uian");function Id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Rd=function(e){Y()(n,e);var t=Id(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"enterTrimMode",(function(){var t=e.props.video,n=t.id,r=t.processing_information.trim_ranges,i=void 0===r?[]:r;e.props.enterTrimModeCreator(i),e.props.onEnterTrimMode(),Le.h(ve.Hb,{id:n,has_been_trimmed:i.length>0})})),re()(K()(e),"publishChanges",(function(){var t=e.props.video;e.props.patchTrimVideoCreator(t,e.props.onLeaveTrimMode)})),re()(K()(e),"handleEndCurrentTrimRange",(function(t){var n=e.props.trimRanges;null!=Gr()(n,(function(e){return e.id===t.id}))?e.props.updateTrimRangeCreator(t):e.props.addTrimRangeCreator(t)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.duration,r=e.inTrimMode,i=e.newTrimChanges,a=e.redoStack,o=e.selectedTrimRange,s=e.theaterMode,l=e.trimRanges,u=e.undoStack,d=e.video;return c.a.createElement("div",{className:se()("share-video-control-bar",{"theater-mode":s})},!r&&d.use_emojis&&c.a.createElement(vo.a,{hideReaction:Va.c,sharePageEmojis:!0}),r&&c.a.createElement(Od,{currentTrimRange:t,duration:n,newTrimChanges:i,redoStack:a,selectedTrimRange:o,undoStack:u,trimRanges:l,onEndCurrentTrimRange:this.handleEndCurrentTrimRange,onCancelCurrentTrimRange:this.props.cancelCurrentTrimRange,onDiscardTrimRange:this.props.removeTrimRangeCreator,onPublishChanges:this.publishChanges,onRedoTrim:this.props.redoTrimOperationCreator,onUndoTrim:this.props.undoTrimOperationCreator}))}}]),n}(o.Component),Dd=Object(l.connect)((function(e){var t=e.trimming,n=t.current_trim_range,r=t.in_trim_mode,i=t.new_changes,a=t.redo_stack,o=t.selected_trim_range,c=t.trim_ranges,s=t.undo_stack,l=e.share_video,u=l.cta_show,d=l.cta_modal_show,m=l.cta_enabled,f=e.user.current.has_named_video_views,p=e.multi_share.dm_content,h=e.video_player.theater_mode;return{currentTrimRange:n,ctaEnabled:m,hasNamedVideoViews:f,hasSlackData:p&&p.length>1,inTrimMode:r,newTrimChanges:i,redoStack:a,selectedTrimRange:o,theaterMode:h,trimRanges:c,undoStack:s,showCta:u,showCtaModal:d}}),(function(e){return{addTrimRangeCreator:function(t){return e(Object(Ae.a)(t))},cancelCurrentTrimRange:function(){return e(Object(Ae.h)(null))},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t))},patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))},removeTrimRangeCreator:function(t){return e(Object(Ae.f)(t))},redoTrimOperationCreator:function(){return e(Object(Ae.e)())},undoTrimOperationCreator:function(){return e(Object(Ae.g)())},updateTrimRangeCreator:function(t){return e(Object(Ae.k)(t))}}}))(Rd);n("mk/i");function Pd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Fd=function(e){Y()(n,e);var t=Pd(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"onClickHandler",(function(){var t=e.props,n=t.from_public_share_page,r=t.is_inline_embed_on_loom,i=t.parent_location,a=t.videoId,o=t.ownerId,c=t.viewerIsOwner,s=t.onClick;s&&s(),Le.h(ve.zd,{from_public_share_page:n,is_inline_embed_on_loom:r,parent_location:i,video_id:a,owner_id:o,owner_click:c})})),e}return J()(n,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.ctaMods,a=r.ctaUrl,o=r.ctaText;return i&&(e=i.color,t=i.background_color,n=i.border_radius),e=e||Object(ie.getColorValue)("white"),t=t||Object(ie.getColorValue)("orange"),c.a.createElement("a",{className:"cta-button",target:a&&"_blank",rel:"noopener noreferrer",onClick:this.onClickHandler,style:{color:e,backgroundColor:t,borderRadius:"".concat(n,"px")},size:o?o.length:0,href:a&&(a.indexOf("http")>-1?a:"//".concat(a))},o||c.a.createElement("span",{className:"call-to-action-placeholder"},"Call-to-action"))}}]),n}(o.Component),jd=Object(l.connect)((function(e){var t=e.share_video,n=t.cta_mods,r=t.cta_text,i=t.cta_url,a=e.video_player,o=a.from_public_share_page,c=a.is_inline_embed_on_loom,s=a.parent_location,l=a.video||{},u=l.id,d=l.owner_id;return{ctaMods:n,ctaText:r,ctaUrl:i,from_public_share_page:o,is_inline_embed_on_loom:c,parent_location:s,videoId:u,ownerId:d,viewerIsOwner:d===e.user.current.id}}))(Fd);n("u0sN");function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Md=function(e){Y()(n,e);var t=Ad(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{background_color_err:!1,text_color_err:!1,border_radius_err:!1,url_err:!1,in_preview:!1}),re()(K()(e),"render",(function(){var t=e.props,n=t.ctaModalShow,r=t.currentUserIsOwner;return n&&r?c.a.createElement("div",{className:"video-cta-modal-new in-preview"},c.a.createElement(jd,null)):null})),e}return n}(o.Component),Ld=Object(l.connect)((function(e){var t=e.share_video.current_user_is_owner;return{ctaModalShow:e.editor.cta_flow,currentUserIsOwner:t}}),null)(Md),Vd=(n("n25y"),function(e){var t=e.icon,n=e.className,r=e.children,i=Vo()(e,["icon","className","children"]);return c.a.createElement("div",{className:n},c.a.createElement("div",Mo()({className:"white-text-button p:small inlineFlex items:center text:small weight:medium"},i),c.a.createElement(ie.Icon,{icon:t,color:"white",className:"mr:small"}),r))});function Ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bd=function(e){Y()(n,e);var t=Ud(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUpgradeUpsell",(function(){Le.h(ve.Sc,{fab_type:"cta"},(function(){window.location.href="/account-settings?showUpgrade=true#billing"}))})),re()(K()(e),"handleClick",(function(){Le.h(ve.h);var t=e.props,n=t.areVideoSettingsOpen,r=t.areViewerInsightsOpen,i=t.endVideoSettingsFlow,a=t.isVideoPlayerFullScreen,o=t.requestVideoPlayerLeaveFullScreen,c=t.startCTAFlow,s=t.toggleViewerInsightsUI;r&&s(),n&&i(),a&&o(),c()})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.ctaEnabled,n=e.disabled,r=e.hasCTAScope,i=e.userCanEditVideo,a=e.workspaces.find((function(e){return e.isSelected})),o=null;return o=r?c.a.createElement(Vd,{isDisabled:n,icon:c.a.createElement(ie.SvgCallToAction,null),onClick:this.handleClick},t?"Edit call-to-action":"Call-to-action"):c.a.createElement(qo.a,{title:"Call-to-action",placement:"leftCenter",message:Bo.a},c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Le.h(ve.g,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:a.id},(function(){window.location.href=y.J}))}},c.a.createElement(Vd,{icon:c.a.createElement(ie.SvgCallToAction,null),isDisabled:!0},"Call-to-Action"))),i&&!Be.isMobile&&o}}]),n}(c.a.Component),qd=Object(l.connect)((function(e){var t,n,r,i=e.share_video.cta_enabled;return{areVideoSettingsOpen:null===(t=e.editor)||void 0===t?void 0:t.video_settings_flow,areViewerInsightsOpen:Object(Yc.b)(e),ctaEnabled:i,hasCTAScope:Object(He.a)(e,we.A),isVideoPlayerFullScreen:null===(n=e.video_player)||void 0===n?void 0:n.full_screen,userCanEditVideo:Object(Je.a)(e),workspaces:null===(r=e.workspace)||void 0===r?void 0:r.workspaces}}),(function(e){return{endVideoSettingsFlow:function(){return e(Object(jo.c)())},requestVideoPlayerLeaveFullScreen:function(){return e(Object(v.d)())},startCTAFlow:function(){return e(Object(jo.g)())},toggleViewerInsightsUI:function(){return e(Object(Hc.c)())}}}))(Bd);function Wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var zd=function(e){Y()(n,e);var t=Wd(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUpgradeNowClick",(function(){Le.h(ve.Sc,{fab_type:"custom_thumbnail"}),window.location.href="/account-settings?showUpgrade=true#billing"})),re()(K()(e),"handleAddCoverClick",(function(){Le.h(ve.O);var t=e.props,n=t.areVideoSettingsOpen,r=t.areViewerInsightsOpen,i=t.endVideoSettingsFlow,a=t.isVideoPlayerFullScreen,o=t.requestVideoPlayerLeaveFullScreen,c=t.startThumbnailFlow,s=t.toggleViewerInsightsUI;r&&s(),n&&i(),a&&o(),c()})),e}return J()(n,[{key:"render",value:function(){var e,t=this.props,n=t.collaboratePermissions,r=t.currentUserIsOwner,i=t.thumbnails,a=t.onRemoveCoverClick,o=t.videoId,s=t.disabled,l=t.hasThumbnailScope,u=t.videoIsTeamShared,d=t.workspaces.find((function(e){return e.isSelected})),m=i[dc.a],f=m?"Edit Thumbnail":"Remove Thumbnail",p=m?this.handleAddCoverClick:a.bind(null,o);return e=l?i[dc.d]?c.a.createElement(Vd,{isDisabled:s,icon:c.a.createElement(ie.SvgImage1,null),onClick:p},f):c.a.createElement(Vd,{isDisabled:s,icon:c.a.createElement(ie.SvgImage1,null),onClick:this.handleAddCoverClick},"Thumbnail"):c.a.createElement(qo.a,{content:"Upgrade to Pro",placement:"leftCenter",title:"Custom thumbnail ",message:Bo.c},c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Object(Le.h)(ve.l,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:d.id},(function(){window.location.href=y.J}))}},c.a.createElement(Vd,{icon:c.a.createElement(ie.SvgImage1,null),isDisabled:!0},"Thumbnail"))),(r||u||n.write)&&!Be.isMobile&&e}}]),n}(c.a.Component),Gd=Object(l.connect)((function(e){var t,n,r=e.share_video,i=r.current_user_is_owner,a=r.video_is_team_shared,o=r.video;return{areVideoSettingsOpen:null===(t=e.editor)||void 0===t?void 0:t.video_settings_flow,areViewerInsightsOpen:Object(Yc.b)(e),collaboratePermissions:o.collaboratePermissions,currentUserIsOwner:i,hasThumbnailScope:Object(He.a)(e,we.I),isVideoPlayerFullScreen:null===(n=e.video_player)||void 0===n?void 0:n.full_screen,thumbnails:o.thumbnails,videoId:o.s3_id,videoIsTeamShared:a,workspaces:e.workspace.workspaces}}),(function(e){return{endVideoSettingsFlow:function(){return e(Object(jo.c)())},onRemoveCoverClick:function(t){return e(Object(_.l)(t))},requestVideoPlayerLeaveFullScreen:function(){return e(Object(v.d)())},startThumbnailFlow:function(){return e(Object(jo.h)())},toggleViewerInsightsUI:function(){return e(Object(Hc.c)())}}}))(zd);function Hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Jd=function(e){Y()(n,e);var t=Hd(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.collaboratePermissions,n=e.currentUserIsOwner,r=e.enterTrimEnabled,i=e.onClick,a=e.disabled,o=e.videoIsTeamShared;return!Be.isMobile&&(n||o||t.write)&&c.a.createElement(Vd,{isDisabled:a||!r,icon:c.a.createElement(ie.SvgScissors,null),onClick:r?i:void 0},"Trim video")}}]),n}(c.a.Component);re()(Jd,"defaultProps",{onClick:function(){}});var Qd=Object(l.connect)((function(e){var t=e.share_video,n=t.player_ready,r=t.video,i=t.current_user_is_owner,a=t.video_is_team_shared,o=r.processing_information,c=void 0===o?{}:o,s=c.trim_id,l=c.trim_progress,u=n||null!=s&&100!==l;return{collaboratePermissions:r.collaboratePermissions,currentUserIsOwner:i,enterTrimEnabled:u,videoIsTeamShared:a}}))(Jd),Kd=function(e){var t=e.onEnterTrimMode,n=Object(l.useDispatch)(),r=Object(l.useSelector)((function(e){var t,n;return{areVideoSettingsOpen:null===(t=e.editor)||void 0===t?void 0:t.video_settings_flow,areViewerInsightsOpen:Object(Yc.b)(e),isVideoPlayerFullScreen:null===(n=e.video_player)||void 0===n?void 0:n.full_screen}})),i=r.areVideoSettingsOpen,a=r.areViewerInsightsOpen,o=r.isVideoPlayerFullScreen;return c.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},c.a.createElement(mn.a,{names:we.F},c.a.createElement(Vd,{onClick:function(){a&&n(Object(Hc.c)()),o?(n(Object(v.d)()),n(Object(jo.i)())):n(i?Object(jo.c)():Object(jo.i)())},icon:c.a.createElement(ie.SvgTune,{style:{transform:"rotate(90deg)"}})},"Video preferences")),c.a.createElement(Qd,{onClick:t}),c.a.createElement(qd,null),c.a.createElement(Gd,null))},$d=n("xB0M"),Yd=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"}))},Xd=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"}))},Zd=function(e){return c.a.createElement("svg",Mo()({viewBox:"0 0 24 24",fill:"none"},e),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"}))},em=function(e){var t=e.children,n=e.className,r=Vo()(e,["children","className"]),i="".concat(n?n+" ":"","border p:large radius:medium");return c.a.createElement("div",Mo()({className:i},r),t)};n("dA7E");function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var im={Rounded:{value:25,icon:c.a.createElement(Yd,null)},Squared:{value:0,icon:c.a.createElement(Zd,null)},"Slightly rounded":{value:4,icon:c.a.createElement(Xd,null)}},am=["orange","teal","yellowDark","blue","offWhite","grey8","white"].map((function(e){var t=ie.hslaColors[e],n=t.h,r=t.s,i=t.l;return tc(n,r,i)})),om=function(e){Y()(n,e);var t=rm(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{corner_dropdown:!1,bg_color_picker:!1,text_color_picker:!1,text_color_err:!1,background_color_err:!1,url_err:!1,return_to_time:null}),re()(K()(e),"movePlayerToEnd",(function(){e.setState({return_to_time:e.props.currentTime}),e.props.requestVideoPlayerCurrentTime(e.props.videoDuration)})),re()(K()(e),"handleCornerClick",(function(t){e.setState({corner_dropdown:!1}),e.handleCtaRadiusInput(function(e){return im[e].value}(t)),e.validate()})),re()(K()(e),"handleOnKeyUp",(function(t){t.keyCode===Qi.f&&e.props.clearCTAWidgetState()})),re()(K()(e),"getBorderRadiusLabel",(function(e){return e===im.Rounded.value?"Rounded":e===im.Squared.value?"Squared":"Slightly rounded"})),re()(K()(e),"handleCtaBackgroundColorInput",(function(t){var n=e.props.ctaMods;e.setState({background_color_err:!1}),t.length>7||(e.props.updateVideoCtaMods(nm(nm({},n),{},{background_color:t})),e.validate())})),re()(K()(e),"handleCtaTextColorInput",(function(t){var n=e.props.ctaMods;e.setState({text_color_err:!1}),t.length>7||(e.props.updateVideoCtaMods(nm(nm({},n),{},{color:t})),e.validate())})),re()(K()(e),"handleCtaRadiusInput",(function(t){var n;if(e.setState({border_radius_err:!1}),Number.isInteger(Number(t))){n=t>200?199:t<0?0:t;var r=e.props.ctaMods;e.props.updateVideoCtaMods(nm(nm({},r),{},{border_radius:n})),e.validate()}})),re()(K()(e),"handleCtaUrlInput",(function(t){e.setState({url_err:!1}),e.props.updateVideoCtaUrl(t)})),re()(K()(e),"handleCtaTextInput",(function(t){e.props.updateVideoCtaText(t),e.validate()})),re()(K()(e),"saveEligible",(function(){var t=e.state,n=t.background_color_err,r=t.text_color_err,i=t.url_err,a=e.props,o=a.ctaMods,c=a.ctaText,s=a.ctaUrl;return!(n||r||i)&&o&&c&&s})),re()(K()(e),"save",W()(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.instantValidate(),e.saveEligible()){t.next=3;break}return t.abrupt("return");case 3:return n=e.props.ctaMods,t.next=6,e.props.saveCTA();case 6:e.props.showConfirmationModal("Call-to-action saved"),Le.h(ve.i,n||{});case 8:case"end":return t.stop()}}),t)})))),re()(K()(e),"clearSettings",(function(){e.props.clearCTAWidgetState()})),re()(K()(e),"handleDelete",W()(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.clearCTAWidgetState(),t.next=3,e.props.updateVideoCtaCreator();case 3:e.props.showConfirmationModal("Call-to-action deleted");case 4:case"end":return t.stop()}}),t)})))),re()(K()(e),"instantValidate",(function(){var t=e.props,n=t.ctaMods,r=t.ctaUrl;n&&n.color&&!Object(Wi.p)(n.color)&&e.setState({text_color_err:!0}),n&&n.background_color&&!Object(Wi.p)(n.background_color)&&e.setState({background_color_err:!0}),n&&n.border_radius&&!Number.isInteger(Number(n.border_radius))&&e.setState({border_radius_err:!0}),r&&!Object(Wi.r)({exact:!0,strict:!1}).test(r)&&e.setState({url_err:!0})})),re()(K()(e),"validate",xo()(e.instantValidate,300)),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.bg_color_picker,r=t.text_color_picker,i=t.background_color_err,a=t.text_color_err,o=t.url_err,s=this.props,l=s.ctaEnabled,u=s.ctaText,d=s.ctaUrl,m=s.ctaMods,f=this.saveEligible();return c.a.createElement(em,null,c.a.createElement(ie.Distribute,{gap:"auto"},c.a.createElement(ie.Text,{variant:"title"},"Create a call-to-action"),c.a.createElement("span",{className:"navigation-close",onClick:this.clearSettings})),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{labelFor:"button-text",label:"Button text"},c.a.createElement(ie.TextInput,{autoFocus:!0,onChange:function(t){return e.handleCtaTextInput(t.target.value)},onKeyUp:function(t){return e.handleOnKeyUp(t)},id:"button-text",value:u||""}))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{labelFor:"button-link",label:"Button link (URL)",errorMessage:o?"Yikes! Doesnt look like a valid URL":""},c.a.createElement(ie.TextInput,{onBlur:function(){return e.instantValidate()},onChange:function(t){return e.handleCtaUrlInput(t.target.value)},onKeyUp:function(t){return e.handleOnKeyUp(t)},id:"button-link",value:d||"",hasError:o,type:"url"}))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement("div",{className:"picker-input",onClick:function(){return e.setState({bg_color_picker:!0})}},c.a.createElement(ie.FormField,{label:"Button color",labelFor:"button-color",errorMessage:i?"Yikes! Doesnt look like a valid color":null},c.a.createElement(ie.TextInput,{onChange:function(t){return e.handleCtaBackgroundColorInput(t.target.value)},onKeyUp:function(t){return e.handleOnKeyUp(t)},id:"button-color",value:(m||{}).background_color,hasError:i})),c.a.createElement("img",{src:Ko.a,className:"picker-icon"}),c.a.createElement("div",{className:"form-color-picker"},c.a.createElement(nc.a,{onClickOutside:function(){return e.setState({bg_color_picker:!1})},show:n,disableAlpha:!0,presetColors:am,color:(m||{}).background_color,onChangeComplete:function(t){return e.handleCtaBackgroundColorInput(t.hex)}})))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement("div",{className:"picker-input",onClick:function(){return e.setState({text_color_picker:!0})}},c.a.createElement(ie.FormField,{label:"Text color",labelFor:"text-color",errorMessage:a?"Yikes! Doesnt look like a valid color":null},c.a.createElement(ie.TextInput,{onChange:function(t){return e.handleCtaTextColorInput(t.target.value)},onKeyUp:function(t){return e.handleOnKeyUp(t)},id:"text-color",value:(m||{}).color,hasError:a})),c.a.createElement("img",{src:Ko.a,className:"picker-icon"}),c.a.createElement("div",{className:"form-color-picker"},c.a.createElement(nc.a,{onClickOutside:function(){return e.setState({text_color_picker:!1})},show:r,disableAlpha:!0,presetColors:am,color:(m||{}).color,onChangeComplete:function(t){return e.handleCtaTextColorInput(t.hex)}})))),c.a.createElement(ie.Spacer,{top:"medium"},c.a.createElement(ie.FormField,{label:"Button corner style"},c.a.createElement(ie.Select,{selectedOptionValue:this.getBorderRadiusLabel((m||{}).border_radius),onChange:function(t){return e.handleCornerClick(t.value)},options:Object.entries(im).map((function(e){var t=st()(e,2),n=t[0];return{value:n,title:n,icon:t[1].icon}}))}))),l&&c.a.createElement(ie.Align,{alignment:"center"},c.a.createElement(ie.Spacer,{top:"medium",bottom:"small"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgTrash,null),onClick:this.handleDelete},"Delete call-to-action"))),c.a.createElement("div",{className:"flex width:full mt:large"},c.a.createElement(ie.Button,{variant:"primary",isDisabled:!f,onClick:function(t){return e.save(t)},hasFullWidth:!0},"Save call-to-action")))}},{key:"componentDidMount",value:function(){this.props.videoDuration&&this.movePlayerToEnd(),yi.a.bind(Qi.i,this.props.clearCTAWidgetState,$d.a)}},{key:"componentDidUpdate",value:function(e){!e.ctaMods&&this.props.ctaMods&&this.setState({button_corner_style:this.props.ctaMods.border_radius}),!e.videoDuration&&this.props.videoDuration&&this.movePlayerToEnd()}},{key:"componentWillUnmount",value:function(){var e=this;yi.a.bind(Qi.i,$d.a),this.state.return_to_time&&(this.props.requestVideoPlayerCurrentTime(this.state.return_to_time),this.props.updateVideoPlayerPlaying(),this.props.requestVideoPlayerPlay(),setTimeout((function(){return e.props.requestVideoPlayerPause()})),this.setState({return_to_time:null}))}}]),n}(o.Component),cm=Object(l.connect)((function(e){var t=e.share_video,n=t.cta_enabled,r=t.cta_mods,i=t.cta_text,a=t.cta_url,o=t.cta_modal_show,c=t.current_user_is_owner,s=t.video;return{ctaEnabled:n,ctaMods:r,ctaText:i,ctaUrl:a,ctaModalShow:o,currentUserIsOwner:c,videoDuration:(s&&s.video_properties||{}).duration,currentTime:e.video_player.current_time}}),(function(e){return{updateVideoCtaEnabled:function(t){return e(Object(fe.m)(t))},updateVideoCtaUrl:function(t){return e(Object(fe.r)(t))},updateVideoCtaText:function(t){return e(Object(fe.q)(t))},updateVideoCtaMods:function(t){return e(Object(fe.o)(t))},updateVideoCtaCreator:function(){return e(Object(_.p)())},updateVideoCtaModalShow:function(t){return e(Object(fe.n)(t))},endCTAFlow:function(){return e(Object(jo.a)())},requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},requestVideoPlayerPlay:function(){return e(Object(v.g)())},requestVideoPlayerPause:function(){return e(Object(v.f)())},updateVideoPlayerPlaying:function(){return e(Object(v.V)())},clearCTAWidgetState:function(){return e(Ho())},saveCTA:function(){return e(Jo())},showConfirmationModal:function(t){return e(Object(pt.b)(t))}}}))(om);n("pwzF");function sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lm=function(e){Y()(n,e);var t=sm(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{dragging:!1}),re()(K()(e),"handleDrop",(function(t){e.setState({dragging:!1}),e.props.onDrop(t)})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props.multiple,n=void 0!==t&&t,r=this.state.dragging;return c.a.createElement(vc.a,{className:"share-page-dropzone",disableClick:!0,multiple:n,disabled:!1,activeStyle:{zIndex:1e3},onDragEnter:function(){return e.setState({dragging:!0})},onDragLeave:function(){return e.setState({dragging:!1})},onDrop:this.handleDrop},c.a.createElement(c.a.Fragment,null,r&&c.a.createElement("div",{className:"share-page-drag-and-drop-overlay"}),r&&c.a.createElement("div",{className:"drag-and-drop-overlay-content"},c.a.createElement("div",{className:"flex pb:xlarge justify:center"},c.a.createElement(gc,{color:"var(--lns-color-white)",size:13})),c.a.createElement(ie.Text,{size:"xxlarge",color:"white",fontWeight:"bold"},"Drop anywhere to upload!"))))}}]),n}(o.Component);n("g9nM");function um(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var dm=function(e){Y()(n,e);var t=um(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{useGifDefault:null,useGif:null,interactedWith:!1}),re()(K()(e),"toggleProp",(function(t){return function(){var n;e.setState((n={},re()(n,t,!e.state[t]),re()(n,"interactedWith",!0),n))}})),re()(K()(e),"handleDeleteThumbnail",(function(){var t=e.props.videoId;e.props.removeVideoThumbnail(t),e.props.setLocalThumbnail(null)})),re()(K()(e),"handleExitFlow",(function(){e.props.setLocalThumbnail(null),e.props.endThumbnailFlow()})),re()(K()(e),"handleDropzoneDrop",(function(t){var n=t[0];n&&e.handleFile(n)})),re()(K()(e),"handleBrowseInput",(function(t){var n=t.target.files[0];e.handleFile(n),t.target.value=null})),re()(K()(e),"readFile",(function(t){var n=new FileReader;n.onload=function(t){var n=t.target.result,r=new Image;r.onload=function(){e.props.setLocalThumbnail(n,{width:r.width,height:r.height})},r.src=n},n.readAsDataURL(t)})),re()(K()(e),"handleFile",(function(t){t&&e.readFile(t)})),re()(K()(e),"handleUploadCoverClick",(function(e){e.stopPropagation()})),re()(K()(e),"handleAddCoverClick",(function(){e.props.localThumbnail?e.props.initiateThumbnailSave():document.querySelector("#upload-thumbnail-file").click()})),re()(K()(e),"handleSaveGif",(function(){var t=e.state,n=t.useGif,r=t.useGifDefault,i=e.props.videoId;Le.h(ve.Rb,{useGif:n,useGifDefault:r,videoId:i}),e.props.updateGifSettings(i,n,r&&n)})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.localThumbnail,n=e.uploading,r=e.thumbnails,i=e.preferredDims,a=e.supportGifs,s=this.state,l=s.interactedWith,u=s.useGifDefault,d=s.useGif,m=(r||{})[dc.d],f=!t&&l;return c.a.createElement(em,{className:"thumbnail-form"},c.a.createElement(lm,{multiple:!1,onDrop:this.handleDropzoneDrop}),c.a.createElement("div",{className:"edit-thumbnail-header"},c.a.createElement(ie.Distribute,{gap:"auto"},c.a.createElement(ie.Text,{variant:"title"},m?"Edit thumbnail":"Upload a thumbnail"),c.a.createElement("span",{className:"navigation-close",onClick:this.handleExitFlow}))),c.a.createElement("div",{className:"thumbnail-drop-area"},c.a.createElement("div",{className:"mb:small"},c.a.createElement(gc,{color:"var(--lns-color-orangeDark)",size:6})),c.a.createElement(ie.Text,null,"Drag and drop to upload"),c.a.createElement(ie.Text,{size:"small",color:"bodyDimmed"},i.width," x ",i.height,"px .pngs, and .jpgs work best!")),t&&c.a.createElement("div",null,""),m&&c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"thumb-instructions"},"Adjust positioning and zoom"),c.a.createElement(ie.Text,{alignment:"center",size:"small"},"delete to use a different thumbnail"),c.a.createElement(ie.Spacer,{top:"medium",bottom:"medium"},c.a.createElement(ie.TextButton,{className:"relative",icon:c.a.createElement(ie.SvgTrash,null),onClick:this.handleDeleteThumbnail},"Delete Thumbnail"))),a&&!m&&!t&&c.a.createElement("div",{className:"animated-preview"},c.a.createElement("div",{className:"flex mb:small"},c.a.createElement("span",{className:"grow:1",onClick:this.toggleProp("useGif")},"Animated Thumbnail (gif)"),c.a.createElement(ie.Switch,{index:"use-gif",isActive:d||!1,onClick:this.toggleProp("useGif")})),c.a.createElement("div",{className:"animated-preview-default"},c.a.createElement(Lt.a,{isChecked:u||!1,onEnable:this.toggleProp("useGifDefault"),onDisable:this.toggleProp("useGifDefault")}),c.a.createElement("span",{onClick:this.toggleProp("useGifDefault")},"Use this setting for all videos"))),c.a.createElement("div",{className:"flex width:full mt:medium relative"},!f&&c.a.createElement(ie.Button,{variant:"primary",isDisabled:n,onClick:this.handleAddCoverClick,hasFullWidth:!0},t?"Save":"Browse"),c.a.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:this.handleUploadCoverClick,onChange:this.handleBrowseInput,accept:"image/jpeg,image/pjpeg,image/png"}),f&&c.a.createElement(ie.Button,{variant:"primary",isDisabled:n,onClick:this.handleSaveGif,hasFullWidth:!0},"Save")))}},{key:"componentDidMount",value:function(){var e=this,t=(this.props.thumbnails||{})[dc.a],n=this.props.useGif,r=void 0!==n&&n;this.setState({useGif:r}),yi.a.bind(Qi.g,(function(){e.props.setLocalThumbnail(null),e.props.endThumbnailFlow()}),$d.a),t&&fetch(Object(Ve.b)(t)).then((function(e){if(!e.ok)throw new Error("Failed to fetch current thumbnail");return e.blob()})).then((function(t){e.readFile(t)})).catch((function(){e.props.showErrorBar(g.a,"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image")}))}},{key:"componentWillUnmount",value:function(){yi.a.bind(Qi.g,$d.a)}}]),n}(c.a.Component),mm=Object(l.connect)((function(e){var t=e.share_video,n=t.currentUserIsOwner,r=t.video,i=t.download_url,a=e.video_player,o=a.width,c=a.height,s=e.editor.thumbnail_data,l=e.user.capabilities;return{currentUserIsOwner:n,videoId:r.id,thumbnails:r.thumbnails,localThumbnail:s.thumbnail_local,uploading:s.uploading,preferredDims:{width:o,height:c},useGif:r.use_gif,supportGifs:l&&l.includes(It.e)&&i}}),(function(e){return{removeVideoThumbnail:function(t){return e(Object(_.l)(t))},endThumbnailFlow:function(){return e(Object(jo.b)())},setLocalThumbnail:function(t,n){return e(Object(jo.f)(t,n))},initiateThumbnailSave:function(){return e(Object(jo.e)())},showErrorBar:function(t,n){return e(Object(p.b)(t,n))},showMessage:function(t){return e(Object(pt.b)(t))},updateGifSettings:function(t,n,r){return e(Object(_.o)(t,n,r))}}}))(dm);n("q+qW");function fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var vm=function(e){Y()(n,e);var t=hm(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,loom_branded_player:!0,loom_branded_player_default:!1,use_emojis:!0,use_emojis_default:!1,use_gif_default:!1,use_gif:!1,flipped_camera:!0,show_analytics_to_viewer:!0,original_comments_email_enabled:!0,original_comments_enabled:!0,original_download_enabled:!0,original_flipped_camera:!0,original_show_analytics_to_viewer:!0}),re()(K()(e),"toggleProp",(function(t){return function(){e.setState(re()({},t,!e.state[t]))}})),re()(K()(e),"handleUpdatePassword",(function(t){e.setState({password:t,password_err:null})})),re()(K()(e),"toggleCommentsEnabled",(function(){var t=e.state.comments_enabled;window.setTimeout((function(){e.setState({comments_email_enabled:!t})}),200),e.setState({comments_enabled:!t})})),re()(K()(e),"togglecommentsEmailEnabled",(function(){var t=e.state,n=t.comments_enabled,r=t.comments_email_enabled;(n||r)&&e.setState({comments_email_enabled:!e.state.comments_email_enabled})})),re()(K()(e),"handleSaveClick",(function(){var t=e.state,n=t.comments_enabled,r=t.comments_email_enabled,i=t.download_enabled,o=t.flipped_camera,c=t.show_analytics_to_viewer,s=t.loom_branded_player,l=t.loom_branded_player_default,u=t.use_emojis,d=t.use_emojis_default,m=t.use_gif,f=t.use_gif_default,p=e.props,h=p.video,v=p.onSaveClick,g=p.updateVideoSettings,b=p.updateDefaultVideoSettings,y=function(t){return e.state[t]!==e.state["original_".concat(t)]};Le.h(ve.fd,{comments_enabled:n,comments_email_enabled:r,download_enabled:i,flipped_camera:o,show_analytics_to_viewer:c,use_emojis:u,use_emojis_default:d,loom_branded_player:s,loom_branded_player_default:l,video_id:h.id,comments_enabled_changed:y("comments_enabled"),comments_email_enabled_changed:y("comments_email_enabled"),download_enabled_changed:y("download_enabled"),flipped_camera_changed:y("flipped_camera"),show_analytics_to_viewer_changed:y("show_analytics_to_viewer"),use_emojis_default_changed:y("use_emojis_default"),loom_branded_player_default_changed:y("loom_branded_player_default")}),g({comments_enabled:n,comments_email_enabled:r,download_enabled:i,flipped_camera:o,show_analytics_to_viewer:c,loom_branded_player:s,use_emojis:u,use_gif:m});var k={};d&&(k=pm(pm({},k),{},{use_emojis:u})),f&&(k=pm(pm({},k),{},{use_gif:m})),l&&(k=pm(pm({},k),{},{loom_branded_player:s})),a()(k)||b(k),v()})),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.validationError,r=e.onCancelClick;if(null==t)return null;var i=this.state,a=i.comments_email_enabled,o=i.comments_enabled,s=i.download_enabled,l=i.flipped_camera,u=i.show_analytics_to_viewer,d=i.loom_branded_player,m=i.loom_branded_player_default,f=i.use_emojis_default,p=i.use_emojis,h=i.use_gif_default,v=i.use_gif,g=t.thumbnails[dc.e],b=(t.video_properties||{}).screen_type===ke.a;return c.a.createElement(em,{className:"edit-video-settings"},c.a.createElement("div",{className:"mb:medium"},c.a.createElement(ie.Distribute,{gap:"auto"},c.a.createElement(ie.Text,{variant:"title"},"Settings"),c.a.createElement("span",{className:"navigation-close",onClick:r}))),c.a.createElement(ie.List,{columns:["1fr","auto"],gap:"small"},c.a.createElement(ie.ListRow,{padding:"medium"},"Comments",c.a.createElement(ie.Switch,{index:"comments-enabled",isActive:o,onClick:this.toggleCommentsEnabled})),c.a.createElement(ie.ListRow,{padding:"medium"},"Comment email notifications",c.a.createElement(ie.Switch,{index:"comments-email-enabled",isActive:a,onClick:this.togglecommentsEmailEnabled})),c.a.createElement(ie.ListRow,{padding:"medium"},"Emoji Reactions",c.a.createElement(ie.Switch,{index:"use-emojis",isActive:p,onClick:this.toggleProp("use_emojis")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("use_emojis_default")},c.a.createElement(Lt.a,{isChecked:f,onEnable:this.toggleProp("use_emojis_default"),onDisable:this.toggleProp("use_emojis_default")}),"Make default setting")),g&&c.a.createElement(ie.ListRow,{padding:"medium"},"Animated Thumbnail (gif)",c.a.createElement(ie.Switch,{index:"use-gif",isActive:v,onClick:this.toggleProp("use_gif")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("use_gif_default")},c.a.createElement(Lt.a,{isChecked:h,onEnable:this.toggleProp("use_gif_default"),onDisable:this.toggleProp("use_gif_default")}),"Make default setting")),c.a.createElement(mn.a,{names:we.f},c.a.createElement(ie.ListRow,{padding:"medium"},"Loom Branded Player",c.a.createElement(ie.Switch,{index:"show-end-of-video-screen",isActive:d,onClick:this.toggleProp("loom_branded_player")}),c.a.createElement("div",{className:"video-settings-setting-fullwidth",onClick:this.toggleProp("loom_branded_player_default")},c.a.createElement(Lt.a,{isChecked:m,onEnable:this.toggleProp("loom_branded_player_default"),onDisable:this.toggleProp("loom_branded_player_default")}),"Make default setting"))),c.a.createElement(ie.ListRow,{padding:"medium"},"Viewer can download",c.a.createElement(ie.Switch,{index:"download-enabled",isActive:s,onClick:this.toggleProp("download_enabled")})),c.a.createElement(ie.ListRow,{padding:"medium"},"Show analytics to viewer",c.a.createElement(ie.Switch,{index:"analytics-to-viewer",isActive:u,onClick:this.toggleProp("show_analytics_to_viewer")})),b&&c.a.createElement(ie.ListRow,{padding:"medium"},"Flip camera",c.a.createElement(ie.Switch,{index:"flipped-camera",isActive:l,onClick:this.toggleProp("flipped_camera")})),c.a.createElement("div",{className:"flex width:full mt:large"},n&&c.a.createElement("span",{className:"validation-error"},"Oops! Could not update settings"),c.a.createElement(ie.Container,{width:"100%"},c.a.createElement(ie.Button,{hasFullWidth:!0,variant:"primary",onClick:this.handleSaveClick},"Save preferences")))))}},{key:"componentDidMount",value:function(){var e=this.props.video,t=e.comments_email_enabled,n=e.comments_enabled,r=e.download_enabled,i=e.flipped_camera,a=e.show_analytics_to_viewer,o=e.loom_branded_player,c=void 0===o||o,s=e.use_emojis,l=void 0===s||s,u=e.use_gif,d=void 0!==u&&u;this.setState({comments_email_enabled:t,comments_enabled:n,download_enabled:r,flipped_camera:i,show_analytics_to_viewer:a,loom_branded_player:c,use_emojis:l,use_gif:d,original_comments_email_enabled:t,original_comments_enabled:n,original_download_enabled:r,original_flipped_camera:i,original_show_analytics_to_viewer:a}),yi.a.bind(Qi.g,this.props.onCancelClick,$d.a)}},{key:"componentWillUnmount",value:function(){yi.a.bind(Qi.g,$d.a)}}]),n}(c.a.Component);re()(vm,"defaultProps",{onCancelClick:function(){},onSaveClick:function(){}});var gm=Object(l.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video}}),(function(e){return{updateDefaultVideoSettings:function(t){return e(Object(E.l)(t))},updateVideoSettings:function(t,n){return e(Object(_.r)(t,n))}}}))(vm),bm=n("gsMK");n("SqQd");function ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var km=function(e){Y()(n,e);var t=ym(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.ctaFlow,r=t.thumbnailFlow,i=t.privacySettingsFlow,a=t.customAccessFlow,o=t.videoSettingsFlow,s=t.video,l=(n?" cta":"")+(a?" custom-access":"")+(i?" privacy":"")+(r?" thumbnail":"")+(o?" video-settings":""),u=[n&&c.a.createElement(cm,{key:"cta-form"}),r&&c.a.createElement(mm,{key:"thumbnail-widget"}),o&&c.a.createElement(gm,{key:"video-settings",video:s,onSaveClick:this.props.endVideoSettingsFlow,onCancelClick:this.props.endVideoSettingsFlow})].filter(Boolean);return c.a.createElement("div",{className:"edit-video".concat(l),ref:function(t){return e.container=t}},u.map((function(e){return c.a.createElement("div",{key:e.key},e)})))}},{key:"componentDidUpdate",value:function(e){if(this.props.editorMode!=e.editorMode){var t=document.documentElement;t.className=t.className.replace("editor-mode-enabled",""),this.props.editorMode&&(t.className+=" ".concat("editor-mode-enabled"),this.container&&window.scroll(0,this.container.getBoundingClientRect().y-bm.b))}}}]),n}(o.Component),wm=Object(l.connect)((function(e){var t=e.editor,n=e.share_video,r=n.cta_enabled,i=n.video.thumbnails,a=void 0===i?{}:i,o=e.video_player.in_upload_mode,c=t.cta_flow,s=t.thumbnail_flow,l=t.privacy_settings_flow,u=t.video_settings_flow,d=t.custom_access_flow,m=t.editorMode;return{ctaFlow:c,thumbnailFlow:s,privacySettingsFlow:l,customAccessFlow:d,videoSettingsFlow:u,editorMode:void 0===m?c||s||l||u||d:m,hasCta:r,inUploadMode:o,hasCustomThumbnail:a.full}}),(function(e){return{endVideoSettingsFlow:function(){return e(Object(jo.c)())}}}))(km),_m=n("zxe7"),Em=n("BClo");function Sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Cm=function(e){var t=e.canArchive,n=e.canDelete,r=e.canInviteToEdit,i=e.canStar,a=e.dispatch,o=e.downloadName,c=e.downloadUrl,s=e.hasToolsAccess,l=e.triggerFocusTitle,u=e.video,d={id:u.id,name:u.name,type:"video"},m=function(){var e=W()(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(_.a)(u.id));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=[];t&&f.push({title:_m.a,onClick:m,icon:u.archived?ie.SvgUnarchive:ie.SvgArchive}),i&&f.push({title:u.isUserFavorite?_m.n:_m.l,onClick:function(){a(Object(_.n)(u)),u.isUserFavorite=!u.isUserFavorite},icon:u.isUserFavorite?ie.SvgStar:ie.SvgStarOutline}),s&&f.push({title:_m.e,onClick:function(){var e="Copy of ".concat(u.name);a(Object(Po.a)(u.id,e)).then((function(e){var t="".concat(y.A,"/share/").concat(e.id);Do()(t,{format:"text/plain"}),setTimeout((function(){window.open(t,"_blank")}),1e3)})).then((function(){Le.h(ve.fb,{entity_id:u.id,entity_type:"video",click_source:"share-video"})}))},icon:ie.SvgCopy}),r&&f.push({title:_m.f,onClick:function(){a(Object(Vc.D)(u.id,u.name,!1,Em.g,u.owner_id))},icon:ie.SvgUsersAdd}),s&&f.push({title:_m.i,onClick:function(){a(Object(Lc.j)(!0,[d])),Le.h(ve.lc,{root_folder:u.folder_id,is_owner:u.current_user_is_owner})},icon:ie.SvgFolder},{title:_m.k,onClick:function(){return l()},icon:ie.SvgEdit}),n&&f.push({title:_m.c,onClick:function(){confirm("Are you sure you want to permanently delete this video?")&&a(Object(_.e)(u.id))},icon:ie.SvgTrash}),f.push({title:_m.d,disabled:!c,onClick:function(){return function(e,t){t&&(Object(P.a)(e,t),Le.h(ve.Bd,{video_id:u.id,is_owner:u.current_user_is_owner}),Object(So.b)(u.id))}(o,c)},icon:ie.SvgDownload});return f.map((function(e){var t=e.icon,n=Vo()(e,["icon"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({icon:t()},n)})).sort((function(e,t){return _m.j.indexOf(e.title)-_m.j.indexOf(t.title)}))},xm=function(e){var t=e.downloadUrl,n=e.triggerFocusTitle,r=e.user,i=e.video,a=Object(l.useDispatch)(),o=i.current_user_is_owner,s=Object.keys(i.collaboratePermissions).length>0,u=Object(l.useSelector)((function(e){var t;return{hasPersonalArchiveWriteScope:Object(He.a)(e,we.o),hasSharedLibraryWriteScope:Object(He.a)(e,we.u),hasTeamArchiveWriteScope:Object(He.a)(e,we.x),hasVideoToolsAccessScope:Object(He.a)(e,we.J),videoIsTeamShared:null==e||null===(t=e.share_video)||void 0===t?void 0:t.video_is_team_shared}})),d=(o||u.videoIsTeamShared)&&u.hasVideoToolsAccessScope,m=(o||u.videoIsTeamShared)&&(u.hasVideoToolsAccessScope||u.hasSharedLibraryWriteScope),f=Boolean(null==r?void 0:r.id),p=f,h=o||u.videoIsTeamShared||i.collaboratePermissions.delete,v=h&&(u.videoIsTeamShared?u.hasTeamArchiveWriteScope:!s&&u.hasPersonalArchiveWriteScope),g="".concat(i.name||i.id,".mp4"),b=Cm({canArchive:v,canDelete:h,canInviteToEdit:m,canStar:p,dispatch:a,downloadName:g,downloadUrl:t,hasToolsAccess:d,scopes:u,triggerFocusTitle:n,video:i});if(!(null==b?void 0:b.length))return null;if(1===b.length){var y=b[0],k=y.title,w=y.icon,_=y.onClick,E=y.disabled;return c.a.createElement(ie.IconButton,{altText:k,icon:w,onClick:_,isDisabled:E})}return c.a.createElement(ie.Dropdown,{options:b,trigger:c.a.createElement(ie.IconButton,{altText:"Toggle actions",icon:c.a.createElement(ie.SvgMoreHoriz,null)}),menuPosition:"right",menuZIndex:f?100:1001})},Nm=n("w+SR"),Tm=n("U5my"),Om=n.n(Tm),Im=n("TUH2"),Rm=n("tyAt"),Dm=n("SERz"),Pm=n("vxpg"),Fm=n("ukgg");n("xbrs");function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Am=function(e){var t=e.children,n=e.width,r="absolute top:xlarge right:0 bgc:white py:large radius:medium border shadow:small",i={width:(void 0===n?320:n)+"px",zIndex:1};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.a,"px)")},c.a.createElement("div",{className:r+" right:0",style:i},t)),c.a.createElement(Fm.a,{query:"(max-width: ".concat(uu.f,"px)")},c.a.createElement("div",{className:r+" left:0",style:i},t)))},Mm=function(e){var t=e.children,n=Object(dt.d)();return c.a.createElement(qo.a,{placement:"bottomCenter",maxWidth:42,title:"See Engagement Insights",message:Bo.d},c.a.createElement(ie.Spacer,{top:1}),c.a.createElement("div",{tabIndex:"0",role:"button",className:"disabledButtonWrapper",onClick:function(){Object(Le.h)(ve.Ac,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:n.id},(function(){window.location.href=y.J}))}},t))},Lm=function(e){var t,n=e.closeModal,r=Object(l.useDispatch)(),i=Object(l.useSelector)((function(e){var t,n,r,i,a;return{areVideoCtaSettingsOpen:null===(t=e.editor)||void 0===t?void 0:t.cta_flow,areVideoSettingsOpen:null===(n=e.editor)||void 0===n?void 0:n.video_settings_flow,areVideoThumbnailSettingsOpen:null===(r=e.editor)||void 0===r?void 0:r.thumbnail_flow,areViewerInsightsOpen:Object(Yc.b)(e),isInTrimMode:null===(i=e.trimming)||void 0===i?void 0:i.in_trim_mode,showPaywall:Object(He.a)(e,we.h),videoId:null===(a=Object($s.f)(e))||void 0===a?void 0:a.id,views:Object($s.g)(e)}})),a=i.areVideoCtaSettingsOpen,o=i.areVideoSettingsOpen,s=i.areVideoThumbnailSettingsOpen,u=i.areViewerInsightsOpen,d=i.isInTrimMode,m=i.showPaywall,f=i.videoId,p=i.views,h=(null==p?void 0:p.total)||0,g=(null==p?void 0:p.distinct)||0;if(!h)return c.a.createElement(Am,{width:264},c.a.createElement("div",{className:"px:large py:medium my:large flex flexDirection:column items:center"},c.a.createElement("img",{src:Om.a,width:80,height:80,className:"mb:large"}),c.a.createElement(ie.Text,{alignment:"center",fontWeight:"medium"},"Share your video with someone to see their engagement!")));var b=!1;if(m)for(var y=g-(t=((null==p?void 0:p.named)||[]).map((function(e){return{user:{name:"".concat(e.firstName," ").concat(e.lastName)}}}))).length,k=0;k<y;k++)t.push({user:Object(Pm.a)(k)});else Object(Im.a)(f),b=(t=Object(l.useSelector)(Yc.c).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({commentCount:(e.events||[]).filter((function(e){return"comment"===e.type||"reply"===e.type})).length,reactionCount:(e.events||[]).filter((function(e){return"reaction"===e.type})).length},e)}))).length<g;t.length>100&&t.splice(100);var w=m?Mm:function(e){return e.children},_=function(e){r(Object(Hc.b)(e)),r(Object(v.t)(!1)),a&&r(Object(jo.a)()),o&&r(Object(jo.c)()),s&&r(Object(jo.b)()),d&&r(Object(Ae.c)()),u||(r(Object(Hc.c)()),Object(Rm.b)()),n()};return c.a.createElement(Am,{width:m?264:320},c.a.createElement("div",{className:"borderBottom px:large"},c.a.createElement(ie.Text,{variant:"title"},m?"Viewer":"Engagement"," insights"),c.a.createElement(ie.Text,{color:"bodyDimmed",className:"mt:small mb:medium"},h," total ",Ks()("view",p))),c.a.createElement("div",{className:"modal-viewer-list px:small py:medium thin-scrollbars overflow:auto"},b?c.a.createElement("div",{className:"text:center py:xlarge"},c.a.createElement(ie.Loader,{size:"large"})):t.map((function(e,t){var n=e.commentCount,r=e.reactionCount,i=e.user,a=m?void 0:function(){return _(e)};return c.a.createElement("div",{key:t,className:"flex width:full px:medium py:small items:center pointer hover-bgc:grey2 radius:medium",onClick:a},c.a.createElement("div",{className:"pr:medium"},c.a.createElement(Dm.d,i)),c.a.createElement("div",{className:"grow:1 ellipsis weight:bold"},i.name||"Anonymous"),!m&&c.a.createElement("div",{className:"pl:medium shrink:0 flex items:center weight:medium"},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgComment,null)}),c.a.createElement("div",{className:"pl:xsmall pr:small"},n),c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgSmileAlt,null)}),c.a.createElement("div",{className:"pl:xsmall"},r)))}))),c.a.createElement("div",{className:"borderTop pt:medium px:large"},c.a.createElement(w,null,c.a.createElement(ie.Button,{onClick:function(){return _(null)},hasFullWidth:!0,isDisabled:m,icon:c.a.createElement(ie.SvgBarChart,null)},"See Engagement"))))},Vm=n("hTRH"),Um=function(e){var t=e.user;if(!(null==t?void 0:t.id))return null;var n=Object(o.useRef)(null),r=Object(l.useSelector)(Je.a),i=Object(l.useSelector)($s.g),a=Object(o.useState)(!1),s=st()(a,2),u=s[0],d=s[1];if(!r)return null;var m=(null==i?void 0:i.total)||0,f=(null==i?void 0:i.distinct)||0,p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.max(0,t-3),r=e.length;if(r>=3)return e.slice(0,3);var i=t-r-n;if(i<=0)return e;for(var a=hn()(e),o=0;o<i;o++)a.push(Object(Pm.a)(o));return a}((null==i?void 0:i.named)||[],f),h=function(){return d(!1)};return Object(Vm.a)(n,h),c.a.createElement("div",{className:"relative mr:small",ref:n},c.a.createElement(ie.Button,{onClick:function(){return d(!u)}},c.a.createElement("div",{className:"flex items:center"},p.length?c.a.createElement(Bm,{viewers:p}):null,m," ",Ks()("view",i))),u&&c.a.createElement(Lm,{closeModal:h}))},Bm=function(e){var t=e.viewers,n=void 0===t?[]:t;return c.a.createElement("div",{className:"flex mr:small ml:xsmall"},n.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return c.a.createElement("div",{key:t,className:"viewer-insights-button-avatar-container"},c.a.createElement(Dm.d,Mo()({size:3},e)))})))};var qm=n("kum/"),Wm=function(e){var t=e.children,n=e.setHeaderPortalContext;return Object(o.useEffect)((function(){return n({children:t}),function(){return n({children:null})}}),[t,n]),null},zm=function(e){var t=e.children;return c.a.createElement(qm.a.Consumer,null,(function(e){var n=e.setHeaderPortalContext;return c.a.createElement(Wm,{setHeaderPortalContext:n},t)}))},Gm=function(e){var t=e.downloadUrl,n=e.triggerFocusTitle,r=e.user,i=e.video,a=e.currentUserIsOwner;return c.a.createElement(zm,null,c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.b,"px)")},c.a.createElement("div",{className:"grow:1 flex"},c.a.createElement("div",{className:"flex ml:auto"},c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.a,"px)")},c.a.createElement(Um,{user:r})),c.a.createElement(Nm.a,{className:"relative",currentUserIsOwner:a,shareModalShouldOpenAsDropdown:!0,user:r,video:i}),c.a.createElement("div",{className:"ml:small flex items:center"},c.a.createElement(xm,{downloadUrl:t,triggerFocusTitle:n,user:r,video:i}))))))},Hm=n("5n8E"),Jm=n.n(Hm),Qm=function(e){var t=e.onCloseClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Jm.a.mobileAppCardWrapper},c.a.createElement(ie.Layout,null,c.a.createElement(ie.Layout.Section,{width:"auto"},c.a.createElement(ie.Spacer,{left:"medium",top:"medium"},c.a.createElement("img",{src:$e.a}))),c.a.createElement(ie.Layout.Section,null,c.a.createElement(ie.Spacer,{top:"medium",left:"medium",right:"small"},c.a.createElement("strong",null,"Record, share, and watch on the go.")," The fastest way to record and instantly share a video from your iPhone and iPad.")),c.a.createElement(ie.Layout.Section,{width:"auto"},c.a.createElement(ie.Spacer,{right:"small",top:"small"},c.a.createElement(ie.IconButton,{altText:"Close",icon:c.a.createElement(ie.SvgClose,null),onClick:t})))),c.a.createElement(ie.Container,{padding:"medium"},c.a.createElement(ie.Button,{htmlTag:"a",href:y.d,variant:"primary",hasFullWidth:!0},"Download the app"))),c.a.createElement("div",{className:Jm.a.mobileAppCardSpacer}))};function Km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var $m,Ym=function(e){Y()(n,e);var t=Km(n);function n(){return G()(this,n),t.apply(this,arguments)}return J()(n,[{key:"render",value:function(){return this.props.currentFolderId?c.a.createElement(Fc.a,{currentFolderId:this.props.currentFolderId,onMove:this.props.onMove}):null}}]),n}(c.a.Component),Xm=Object(l.connect)((function(e){var t=e.share_video.video_folders.slice(-1)[0];return{currentFolderId:t?t.id:null}}),(function(e){return{onMove:function(t,n){return e(Object(_.k)(t,n))}}}))(Ym),Zm=($m={},re()($m,tt.d,"This file is currently unsupported on Loom"),re()($m,tt.i,"Suspicious content found in file. This file will be removed from your library."),re()($m,tt.h,"There was an issue processing your video."),re()($m,tt.e,"The Frames Per Second of your video is above the allowed limit: ".concat(tt.a,"fps.")),re()($m,tt.g,"The resolution of your video is above the allowed limit: (4k)"),re()($m,tt.f,"The video length is longer than the allowed limit: ".concat(tt.b," hours")),$m),ef="".concat(y.F,"?upload=1"),tf=function(){window.location.href=y.F},nf=function(){window.location.href=ef},rf=function(){var e=Object(l.useSelector)((function(e){var t,n;return null===(t=e.video_player.video)||void 0===t||null===(n=t.processing_information)||void 0===n?void 0:n.videoUploadValid})),t=Object(l.useSelector)((function(e){var t,n;return null===(t=e.video_player.video)||void 0===t||null===(n=t.processing_information)||void 0===n?void 0:n.videoUploadMessage})),n=Object(l.useSelector)((function(e){var t,n;return(null===(t=e.video_player.video)||void 0===t||null===(n=t.video_properties)||void 0===n?void 0:n.recording_version)===et.d}))&&!1===e;return c.a.createElement(ie.Modal,{isOpen:n,mainButton:c.a.createElement(ie.Button,{href:ef,htmlTag:"a",variant:"primary",onClick:nf},"Upload New FIle"),secondaryButton:c.a.createElement(ie.Button,{href:y.F,htmlTag:"a",onClick:tf},"Go to Personal Library")},c.a.createElement(ie.Text,{fontWeight:"medium",size:"large"},Zm[t]||"The file could not be processed"))},af=n("6V/d"),of=n.n(af),cf=function(e){var t=e.user,n=e.renderToast,r=e.videoDurationLimit,i=Object(l.useDispatch)(),a=Object(dt.d)(),s=Object(o.useState)(!n),u=st()(s,2),d=u[0],m=u[1],f=Object(o.useMemo)((function(){return{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:a.id}}),[a.id]),p=r?r<60?"".concat(r," second"):"".concat(r/60," minute"):"";Object(o.useEffect)((function(){if(d){var e=function(){var e=W()(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(T.getGraphQLClient)(),e.prev=1,e.next=4,n.mutate({mutation:of.a,variables:{userId:t.id}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),I.i(e.t0,{userId:t.id},{team:I.a});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();Object(Le.h)(ve.vc,f),e()}}),[f,d,t.id]),Object(o.useEffect)((function(){if(n){var e=c.a.createElement(ie.Layout,{gap:"small"},c.a.createElement(ie.Layout.Section,{width:36},c.a.createElement(ie.Text,{size:"small",fontWeight:"bold"},"You've hit the ",p," recording limit."),c.a.createElement(ie.Text,{size:"small"},"If you have more to add, upgrade for unlimited recording time.")),c.a.createElement(ie.Layout.Section,null,c.a.createElement(ie.Button,{alignment:"center",variant:"upgrade",icon:c.a.createElement(ie.SvgSparkle,null),onClick:function(){Object(Le.h)(ve.wc,f,(function(){window.location.href=y.J}))}},"Upgrade")));i(Object(pt.b)(e,g.b,6e3))}}),[f,i,n,p]);var h=function(){Object(Le.h)(ve.uc,f),m(!1)};return c.a.createElement(ie.Modal,{isOpen:d,onCloseClick:h,onBackgroundClick:h,maxWidth:55},c.a.createElement(ie.Text,{fontWeight:"medium",alignment:"center",size:"large"},"You've got a lot to say!"),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Text,{size:"small",alignment:"center",color:"bodyDimmed"},"You've hit the ",p," recording limit. If you have more to add, upgrade for unlimited recording time."),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Button,{variant:"upgrade",size:"large",onClick:function(){Object(Le.h)(ve.tc,f,(function(){window.location.href=y.J}))},icon:c.a.createElement(ie.SvgSparkle,null)},"Upgrade for Unlimited Recordings"),c.a.createElement(ie.Spacer,{bottom:2}),c.a.createElement(ie.Text,{size:"small",alignment:"center",onClick:h},"Go to my video"))};n("WQRE");function sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lf=function(e){Y()(n,e);var t=sf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{attachmentUrl:"",error:null}),re()(K()(e),"handleSumbitLink",(function(t){var n=e.state.attachmentUrl;if(!Object(Wi.r)({exact:!0,strict:!1}).test(n))return e.setState({error:"Yikes! Doesnt look like a valid URL"});e.props.createLinkAttachment(n),e.setState({attachmentUrl:""}),t.target.blur()})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state.attachmentUrl,n=null!=this.state.error?"error":"";return c.a.createElement("div",{className:"link-attachment-form relative ".concat(this.state.error?"has-error":"")},c.a.createElement(Xi.a,{onChange:function(t){return e.setState({attachmentUrl:t})},onEnter:this.handleSumbitLink,inputClass:"new-style",fieldLabel:"Paste in https://...",fieldType:"text",fieldValue:t,severity:n,status:this.state.error}),c.a.createElement(ie.Button,{variant:"primary",onClick:this.handleSumbitLink,hasFullWidth:!0},"Save"))}}]),n}(o.Component);n("cILx");function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var df=function(e){Y()(n,e);var t=uf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleUploadInputClick",(function(e){e.stopPropagation()})),re()(K()(e),"handleUploadSelect",(function(){document.querySelector("#upload-attachment-file").click()})),e}return J()(n,[{key:"render",value:function(){var e=this.props.error;return c.a.createElement("div",{className:"upload-attachment-form"},c.a.createElement("img",{src:ts.a,className:"thumb-drag-and-drop-illo"}),c.a.createElement("p",null,"Drag and drop or"," ",c.a.createElement("span",{onClick:this.handleUploadSelect},"choose file")),c.a.createElement("p",{className:"upload-attachment-recommendation ".concat(e?"error":"")},e||"We recommend files under ".concat(Mn(xn.n),"{' '} with the extension .doc, .key, .pages, .zip, .pdf, or .jpg.")),c.a.createElement("input",{type:"file",id:"upload-attachment-file",onClick:this.handleUploadInputClick,onChange:this.props.onSelection,multiple:!0}))}}]),n}(o.Component);n("PZxD");function mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ff=function(e){Y()(n,e);var t=mf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{downloading:!1,downloadProgress:0,downloadProgressInstance:null}),re()(K()(e),"handleOpen",(function(){var t=e.props.attachment,n=t.type,r=t.upload_complete,i=t.url;if("link"===n)return Le.h(ve.q,e.getTrackProperties()),window.open(i,"_blank");r&&e.handleDownload()})),re()(K()(e),"handleDelete",(function(t){t.stopPropagation(),e.props.onDelete(e.props.attachment.id)})),re()(K()(e),"handleDownload",(function(){if(e.state.downloading)return!1;var t=e.props.attachment,n=t.download_url,r=t.name,i=new yr.a((function(t){return e.setState({downloadProgress:t})}),(function(){Le.h(ve.q,e.getTrackProperties()),e.resetDownloadState(),i.save()}),(function(){return e.resetDownloadState()}));i.fetch(n,r),e.setState({downloading:!0,downloadProgressInstance:i})})),re()(K()(e),"resetDownloadState",(function(){e.setState({downloading:!1,downloadProgress:0,downloadProgressInstance:null})})),re()(K()(e),"getTrackProperties",(function(){var t=e.props,n=t.attachment,r=n.type,i=n.url,a=n.mime,o=n.name,c=n.owner_id,s=t.currentUserIsOwner;return{video_id:t.videoId,is_video_owner:s,attachment_type:r,attachment_url:i,mime:a,name:o,owner_id:c}})),e}return J()(n,[{key:"render",value:function(){var e=this.props.attachment,t=this.state,n=t.downloading,r=t.downloadProgress,i="link"===e.type,a=i||e.upload_complete;return c.a.createElement("div",{className:"attachment-widget-item ".concat(a?"complete":"")},c.a.createElement("span",{className:"attachment-name-section"},c.a.createElement(ie.Text,{hasEllipsis:!0},e.name)),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"attachment-buttons-section"},c.a.createElement(ie.IconButton,{altText:i?"Open ".concat(e.name):"Download ".concat(e.name),icon:i?c.a.createElement(ie.SvgExternalLink,null):c.a.createElement(ie.SvgDownload,null),onClick:this.handleOpen})),c.a.createElement("div",{className:"attachment-buttons-section"},c.a.createElement(ie.IconButton,{altText:"Delete ".concat(e.name),icon:c.a.createElement(ie.SvgClose,null),onClick:this.handleDelete}))),n&&c.a.createElement("div",{className:"circular-progress-bar-section"},c.a.createElement(br.a,{percentage:r,strokeWidth:10,styles:{path:{stroke:Object(ie.getColorValue)("blurple"),strokeLinecap:"round"},trail:{stroke:Object(ie.getColorValue)("white")}}})))}},{key:"componentWillUnmount",value:function(){this.state.downloadProgressInstance&&this.state.downloadProgressInstance.abort()}}]),n}(o.Component),pf=function(e){Y()(n,e);var t=mf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"handleClose",(function(){e.props.updateAttachmentInputSelectionError(null),e.props.closeWidget()})),re()(K()(e),"handleIncludeTimestamp",(function(){e.props.updateIncludeTimestamp(!0)})),re()(K()(e),"handleRemoveTimestamp",(function(){e.props.updateIncludeTimestamp(!1)})),re()(K()(e),"handleSumbitLink",(function(){var t=e.state.attachmentUrl;e.props.createLinkAttachment(t)})),re()(K()(e),"handleFileSelection",(function(t){var n=t.target.files;n[0]&&e.handleFiles(n)})),re()(K()(e),"handleFiles",(function(t){for(var n=0;n<t.length;n++)e.props.createUploadAttachment(t[n])})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.attachments,r=t.createWithTimestamp,i=t.currentTime,a=t.currentUserIsOwner,o=t.numCompleteAttachments,s=t.inputSelectionError,l=t.videoId;return t.widgetActive?c.a.createElement("div",{className:"attachment-widget"},c.a.createElement(lm,{multiple:!0,onDrop:this.handleFiles}),c.a.createElement("span",{className:"close"},c.a.createElement(ie.IconButton,{altText:"Cancel",icon:c.a.createElement(ie.SvgClose,null),onClick:this.handleClose})),c.a.createElement(ie.Text,{variant:"title"},"Link Resources"),c.a.createElement(lf,{createLinkAttachment:this.props.createLinkAttachment}),c.a.createElement(df,{onSelection:this.handleFileSelection,error:s}),c.a.createElement(ie.Spacer,{top:2,bottom:2},c.a.createElement(ie.Container,{backgroundColor:"border",height:"1px"})),c.a.createElement("div",{className:"create-with-timestamp"},c.a.createElement(Lt.a,{isChecked:r,isDisabled:!1,onEnable:this.handleIncludeTimestamp,onDisable:this.handleRemoveTimestamp}),c.a.createElement("span",null,"Attach at"," ",c.a.createElement("span",{className:"time-link"},Object(Ri.d)(Math.round(i))))),c.a.createElement(ie.Spacer,{top:4},o>0&&c.a.createElement("span",null,o," ","attachment".concat(o>1?"s":"")),n.map((function(t,n){return c.a.createElement(ff,{key:n,attachment:t,currentUserIsOwner:a,onDelete:e.props.deleteAttachment,videoId:l})})))):c.a.createElement("div",{className:"attachment-widget deactivated"},c.a.createElement(ie.Text,{variant:"title"},"Attach Files"),c.a.createElement("div",{className:"mt:small mb:medium"},c.a.createElement(ie.Text,{htmlTag:"p"},"Attach files from your computer or link with a URL to give your viewers more context.")),c.a.createElement(ie.Button,{onClick:this.props.openWidget,hasFullWidth:!0},"Attach Files"))}},{key:"componentDidMount",value:function(){this.props.attachmentsFetchedOnce||this.props.fetchAllAttachmentsCreator()}}]),n}(o.Component),hf=Object(l.connect)((function(e){var t=e.attachments,n=t.attachments,r=t.fetched_once,i=t.upload_queue,a=e.share_video,o=a.current_user_is_owner,c=a.video.id,s=e.video_player.current_time,l=e.attachments,u=l.createWithTimestamp,d=l.input_selection_error,m=l.widget_active,f=n.sort((function(e){return e.createdAt})).filter((function(e){return"link"===e.type||e.upload_complete}));return i.forEach((function(e){f.find((function(t){return e.id===t.id}))||(f=[e].concat(hn()(f)))})),{attachments:f,attachmentsFetchedOnce:r,currentUserIsOwner:o,createWithTimestamp:u,currentTime:s,inputSelectionError:d,numCompleteAttachments:f.length,videoId:c,widgetActive:m}}),(function(e){return{closeWidget:function(){return e(yn(!1))},createLinkAttachment:function(t){return e(or(t))},createUploadAttachment:function(t){return e(ar(t))},deleteAttachment:function(t){return e(tr(t))},fetchAllAttachmentsCreator:function(){return e(nr())},openWidget:function(){return e(yn(!0))},updateAttachmentInputSelectionError:function(t){return e(bn(t))},updateIncludeTimestamp:function(t){return e(kn(t))}}}))(pf),vf=n("5PRh"),gf=n.n(vf),bf=function(e){var t=e.title,n=e.onExit,r=e.height,i=e.children;return c.a.createElement(ie.Distribute,{direction:"column"},c.a.createElement(ie.Container,{borderSide:"all",width:"100%",radius:"medium"},c.a.createElement(ie.Distribute,{alignment:"center",isSpread:!0,className:gf.a.title},c.a.createElement(ie.Text,{fontWeight:"bold"},t),c.a.createElement(ie.IconButton,{altText:"Close",icon:c.a.createElement(ie.SvgClose,null),onClick:n})),c.a.createElement(ie.Container,{borderSide:"top",height:r||"auto",className:gf.a.content},i)))},yf=n("hvB1"),kf=n.n(yf),wf=n("SbR3"),_f=n("hcJO"),Ef=n.n(_f),Sf=function(e){var t=e.index,n=e.currentIndex,r=e.style,i=e.setRowHeight,a=e.phrases,s=e.handleRowClick,l=e.hasStarted,u=a[t],d=u.ts,m=u.value,f=Object(o.useRef)(null),p=Object(o.useState)(n===t),h=st()(p,2),v=h[0],g=h[1],b=(r.height,Vo()(r,["height"]));return Object(o.useEffect)((function(){g(n===t)}),[n,t]),Object(o.useEffect)((function(){f.current&&i(t,f.current.clientHeight)}),[t,i]),c.a.createElement("div",{style:b,className:se()(Ef.a.container),onMouseUp:function(){s(t)},ref:f},c.a.createElement("div",{className:se()(Ef.a.row,l&&v&&Ef.a.highlight,function(){return 0===t?Ef.a.marginTop:t===a.length-1?Ef.a.marginBottom:""}())},c.a.createElement("div",{className:Ef.a.timestamp},c.a.createElement(ie.Text,{color:"blurple"},function(e){var t=Object(Ri.c)(e);return"00"===t.split(":")[0]?t.slice(3):t.slice(1)}(d))),c.a.createElement("div",{className:Ef.a.transcript},c.a.createElement(ie.Text,null,m))))},Cf=[{ts:.03,value:"Okay. Heres an easy way to convert a design to a dark theme."},{ts:5.22,value:"So first I'm going to duplicate this frame. And now if I select"},{ts:14.37,value:"the frame here, I can see all the colors that are used and"},{ts:19.2,value:"some of them will be behind this button. So expand this. And basically"},{ts:25.62,value:"I'm going to pick all the colors that start with light slush and"},{ts:31.65,value:"just pick the dark version of it. So, uh, you will see these"},{ts:37.77,value:"two sections, light and dark, and these colors are, these ones are the"},{ts:45.42,value:"same as these ones, but the light and dark version and the order"},{ts:49.41,value:"is the same. So for example, if the first one is light body,"},{ts:55.17,value:"then the first one here should be dark body. So, uh, if this"},{ts:59.91,value:"is light background, the third one, then the third one here is dark"},{ts:63.99,value:"background. And so this, um, helps me to visually jump. Uh, if I"},{ts:70.83,value:"don't need to read the title, I can see if, if, uh, um,"},{ts:75.42,value:"on this one and I want to go to the dark version of"},{ts:77.67,value:"it. I just have to jump here. So I'm gonna start replacing this"},{ts:83.73,value:"one by one. Okay. Get none. And, uh, you will see that some"},{ts:115.68,value:"colors are not, uh, light or dark. Uh, they are just like, for"},{ts:123.27,value:"example, fix my use just queen is one of the base colors. And,"},{ts:129.45,value:"uh, this one is no, sorry. This one is from the grade scale."},{ts:133.59,value:"Uh, so these colors, um, are just more starting colors. Uh, so if"},{ts:140.73,value:"you don't want something to change depending on dark or light, then you"},{ts:146.76,value:"can just choose a base color. So not light or dark. Um, and"},{ts:154.89,value:"if you want to color to adopt a theme, then choose a one"},{ts:160.14,value:"starting with light or dark. Uh, you can also check these in here."},{ts:167.28,value:"So lens colors, you can see, this is a bit better than checking"},{ts:173.4,value:"them. Pick my thing because you can, you have a kind of a"},{ts:176.91,value:"better way of sealing the colors. Um, you can see, we have a"},{ts:181.66,value:"gray scale based colors and the theme colors, and most of the colors"},{ts:186.52,value:"shoot in the design should be thin colors so that we can do"},{ts:191.47,value:"this, uh, toggling. Uh, and then some of the colors will be not"},{ts:198.88,value:"light or dark. Um, like for example, this green line. So, yep. That's"},{ts:204.79,value:"it? Oh yeah. And one more thing. So these two are the same"},{ts:209.32,value:"component. And so I can now, um, change this out now, change the"},{ts:218.59,value:"copy. And since this is a component, it will adapt on light on"},{ts:222.61,value:"dark and, uh, you know, I can modify this component and see how"},{ts:227.98,value:"it looks on there. Okay. That's it."}],xf=function(){var e=Object(l.useDispatch)(),t=Cf,n=Object(o.useRef)(null),r=Object(o.useRef)({}),i=Object(l.useSelector)($s.e),a=Object(l.useSelector)($s.b),s=Object(l.useSelector)($s.d),u=Object(o.useState)(null),d=st()(u,2),m=d[0],f=d[1],p=Object(o.useState)(!1),h=st()(p,2),g=h[0],b=h[1],y=Object(o.useState)("top"),k=st()(y,2),w=k[0],_=k[1],E=Object(o.useState)("up"),S=st()(E,2),C=S[0],x=S[1],N=function(e){return r.current[e]||60},T=function(e,t){r.current[e]=t,n.current.resetAfterIndex(e?e-1:e)},O=function(e){var t=e.scrollOffset;!e.scrollUpdateWasRequested&&t>0&&b(!0)},I=function(n){var r=document.getSelection(),i=t[n].ts;"Range"!==r.type&&(f(n),e(Object(v.b)(i)),a?s&&e(Object(v.g)()):(e(Object(v.V)()),e(Object(v.g)())))};Object(o.useEffect)((function(){var e=function(e,t){var n=t.length;if(e>=t[t.length-1].ts)return t.length-1;for(var r=0,i=n-1;r<=i;){var a=r+(i-r)/2|0;if(t[a].ts<e)r=a+1;else{if(!(t[a].ts>e))return a;i=a-1}}return i<0?0:r>n-1?n:r<i?r:i}(i,t);e!==m&&n.current&&(f(e),g||n.current.scrollToItem(e-1,"start"))}),[i,m,f,t,g]);var R=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;x(m<t+1?"up":"down"),_(m<n?"top":"bottom")};return c.a.createElement(c.a.Fragment,null,c.a.createElement(kf.a,null,(function(e){var r=e.height,i=e.width;return c.a.createElement(wf.VariableSizeList,{height:r,itemCount:t.length,itemSize:N,estimatedItemSize:60,width:i,ref:n,onScroll:O,overscanCount:20,onItemsRendered:R},(function(e){var n=e.index,r=e.style;return Sf({index:n,currentIndex:m,style:r,setRowHeight:T,phrases:t,handleRowClick:I,hasStarted:a})}))})),g&&a&&c.a.createElement("div",{className:se()(Ef.a.btnContainer,"top"===w?Ef.a.top:Ef.a.bottom)},c.a.createElement(ie.Button,{variant:"primary",icon:"up"===C?c.a.createElement(ie.SvgArrowUpward,null):c.a.createElement(ie.SvgArrowDownward,null),hasFullWidth:!0,onClick:function(){n.current.scrollToItem(m-1,"start"),b(!1)}},"Back to active scrolling")))},Nf=Object(o.lazy)((function(){return n.e(38).then(n.bind(null,"67P/"))})),Tf=function(e){var t=e.onActivate,n=Object(l.useSelector)($s.a),r=Object(l.useDispatch)();Object(o.useEffect)((function(){n&&(r(Object(v.l)()),Object(Rm.a)(n),Object(Rm.h)())}),[r,n]);return c.a.createElement(em,{className:"viewer-insights"},c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(Nf,{onExit:function(e){t(e),Object(Rm.d)()}})))};n("vHDo");function Of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var If=function(e){Y()(n,e);var t=Of(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"defaultStyle",{width:"auto",height:"auto",overflow:"auto"}),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.speechFlow,n=e.theaterMode,r=e.useEmojis,i=e.userCanEdit,a=e.video,o=e.viewerInsightsActive,s=e.transcriptVisible;return c.a.createElement("div",{className:se()("right-panel",{"speech-flow":t,"theater-mode":n,"use-emojis":r})},s&&!n&&c.a.createElement(bf,{title:"Transcript",onExit:this.props.onTranscriptExit,height:"".concat(484,"px")},c.a.createElement(xf,null),!1),i&&o&&c.a.createElement(Tf,{onActivate:this.props.toggleViewerInsightsUI}),i&&c.a.createElement(mn.a,{names:we.B},c.a.createElement(wm,{onEnterTrimMode:this.props.onEnterTrimMode,video:a})),i&&c.a.createElement(L.a,{flag:b.A,activationValue:!0},c.a.createElement(mn.a,{names:we.B},c.a.createElement(hf,null))))}},{key:"connect",value:function(e){var t=this;Gt.c(M.h,(function(n){var r,i=Object(P.d)("redirect_after");t.trackEvent(ve.Dc),e(),r=decodeURIComponent(i),Object(Ht.a)(r)&&(r="/"),null!=n.error&&(r+="?oauth_error="+n.error),n.loginSuccess?qe.e((function(){window.location.href=r})):window.location.href=r}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=function(n){return!e[n]&&t.props[n]};n("editorActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".edit-video")),n("attachmentWidgetActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".attachment-widget")),n("speechFlow")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance('[widget="speech-coach"]')),n("viewerInsightsActive")&&(Jc.a.endSession(!0),this.exitAnimation=this.getWidgetAnimeInstance(".viewer-insights")),["editorActive","viewerInsightsActive","attachmentWidgetActive","speechFlow"].some((function(n){return function(n){return e[n]&&!t.props[n]}(n)}))&&this.exitAnimation&&this.exitAnimation()}},{key:"getWidgetAnimeInstance",value:function(e){var t=e.substr(1)+"-active",n=document.querySelectorAll(".right-panel>*:not(".concat(e,")"));return Object(Ii.j)((function(){n.forEach((function(e){return e.classList.add("right-panel-faded-elements")})),document.body.classList.add(t,"right-panel-box-raised")})),function(){Object(Ii.j)((function(){document.body.classList.add("right-panel-box-back"),document.body.classList.remove("right-panel-box-raised")})),setTimeout((function(){Object(Ii.j)((function(){n.forEach((function(e){return e.classList.remove("right-panel-faded-elements")})),document.body.classList.remove(t,"right-panel-box-back")}))}),250)}}},{key:"trackEvent",value:function(e){Le.h(e,{video_id:this.props.video.id})}}]),n}(o.Component),Rf=Object(l.connect)((function(e){return{attachmentWidgetActive:Kc(e),video:Object(Je.b)(e),editorActive:$c(e),speechFlow:e.speechCoach.speechFlow,useEmojis:Object(Je.d)(e),viewerInsightsActive:Object(Yc.b)(e),hasWorkspaceEngagementPaywallsScope:Object(He.a)(e,we.h)}}),(function(e){return{completeTriggerCreator:function(t){return e(Object(je.b)(t))},toggleViewerInsightsUI:function(){return e(Object(Hc.c)())}}}))(If),Df=n("6pWW"),Pf=(n("c/Ym"),function(e){var t={width:e.percentage};return c.a.createElement("div",{className:"thumb-zoom-level",style:t},c.a.createElement("span",null))});n("Euk2");function Ff(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var jf=function(e){var t=e.height,n=e.width;return c.a.createElement("div",{className:"rule-of-thirds-container",style:{width:n,height:t}},c.a.createElement("div",{className:"rule-of-thirds-line horizontal",style:{top:t/3,width:n}}),c.a.createElement("div",{className:"rule-of-thirds-line horizontal",style:{top:2*t/3,width:n}}),c.a.createElement("div",{className:"rule-of-thirds-line vertical",style:{left:n/3,height:t}}),c.a.createElement("div",{className:"rule-of-thirds-line vertical",style:{left:2*n/3,height:t}}))},Af=function(e){Y()(n,e);var t=Ff(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{window_dims:{height:0,width:0},scale:1,position:{x:0,y:0},dragging:!1}),re()(K()(e),"onPositionChange",(function(t){e.setState({position:t})})),re()(K()(e),"handleMove",(function(){e.state.dragging||e.setState({dragging:!0})})),re()(K()(e),"handleInteractionEnd",(function(){e.setState({dragging:!1})})),re()(K()(e),"onZoomSliderMove",(function(t){var n=e.zoomSlider.calculateDistance(t);e.setState({scale:1+3*n})})),re()(K()(e),"getZoomPercent",(function(){return(e.state.scale-1)/3})),re()(K()(e),"zoomIn",(function(){var t=e.state.scale;e.setState({scale:Math.min(t+.1,4)})})),re()(K()(e),"zoomOut",(function(){var t=e.state.scale;e.setState({scale:Math.max(t-.1,1)})})),re()(K()(e),"handleThumbnailUpload",(function(){if(!e.props.currentlyUploading){var t=e.props,n=t.videoId,r=t.thumbnailLocalUrl,i=t.ogImageDimensions,a=e.state,o=a.scale,c=a.position,s=i.width,l=i.height,u=e.cropper.getCroppingRect(),d=u.x,m=u.y,f=u.width,p=u.height;e.props.uploadVideoThumbnail(n,r,{x:d,y:m,width:f,height:p,full_width:s,full_height:l,position_info:{scale:o,position:c}})}})),re()(K()(e),"updateDimension",(function(){var t=e.container.getBoundingClientRect(),n=t.height,r=t.width;e.setState({window_dims:{height:n,width:r}})})),re()(K()(e),"setOgThumbnailPositioning",(function(){var t=e.props.ogThumbnailDims.position_info,n=t.position,r=t.scale;e.setState({position:n,scale:r})})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.thumbnailLocalUrl,r=t.currentlyUploading,i=this.state,a=i.window_dims,o=i.scale,s=i.dragging,l=i.position;return c.a.createElement("div",{ref:function(t){return e.container=t},className:"thumbnail-cropper-window"+(n||r?" is-editing":"")},n&&c.a.createElement(ml.a,{position:l,ref:function(t){return e.cropper=t},image:n,width:a.width,height:a.height,scale:o,style:{cursor:"move"},onMouseMove:this.handleMove,onMouseUp:this.handleInteractionEnd,onPositionChange:this.onPositionChange,border:0}),!s&&!r&&n&&c.a.createElement("img",{src:bl.a,className:"thumb-drag-instructions"}),n&&!r&&c.a.createElement(jf,{height:a.height,width:a.width}),r&&c.a.createElement(Vt.a,null),n&&!r&&c.a.createElement("div",{className:"thumb-zoom-pill"},c.a.createElement("img",{src:vl.a,className:"thumb-zoom-pill-scale",onClick:this.zoomOut}),c.a.createElement(kl.a,{ref:function(t){return e.zoomSlider=t},label:"Date Range",getPercent:this.getZoomPercent,valueNow:this.getZoomPercent,onMouseMove:this.onZoomSliderMove},c.a.createElement(Pf,null)),c.a.createElement("img",{src:pl.a,className:"thumb-zoom-pill-scale",onClick:this.zoomIn})))}},{key:"componentDidMount",value:function(){this.updateDimension(),window.addEventListener("resize",this.updateDimension),this.props.ogThumbnailDims&&this.setOgThumbnailPositioning()}},{key:"componentDidUpdate",value:function(e){!e.shouldSave&&this.props.shouldSave&&this.handleThumbnailUpload(),!e.ogThumbnailDims&&this.props.ogThumbnailDims&&this.setOgThumbnailPositioning()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimension)}}]),n}(o.Component),Mf=Object(l.connect)((function(e){var t=e.editor.thumbnail_data,n=e.share_video.video,r=n&&n.thumbnails||{};return{thumbnailLocalUrl:t.thumbnail_local,ogImageDimensions:t.og_dims,shouldSave:t.initiate_save,currentlyUploading:t.uploading,ogThumbnailDims:(r||{}).og_thumbnail_crop_dims}}),(function(e){return{uploadVideoThumbnail:function(t,n,r){return e(Object(_.s)(t,n,r))}}}))(Af);n("W/2B");function Lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Vf=function(e){Y()(n,e);var t=Lf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{show_confirmation_modal:!1}),re()(K()(e),"leaveTrimMode",(function(){e.props.leaveTrimModeCreator(),e.props.onLeave()})),re()(K()(e),"onReturnClicked",(function(){if(!e.state.show_confirmation_modal){if(e.props.newChanges)return e.setState({show_confirmation_modal:!0});e.leaveTrimMode()}})),re()(K()(e),"onPublishClicked",(function(){var t=e.props.video;e.props.patchTrimVideoCreator(t,e.props.onLeave)})),e}return J()(n,[{key:"render",value:function(){var e=this.state.show_confirmation_modal,t="";return this.props.newChanges&&e&&(t="show"),c.a.createElement("div",{className:"return-to-video-react-container"},c.a.createElement("div",{className:"return-to-video-button"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgArrowBack,null),onClick:this.onReturnClicked},"Return to video")),c.a.createElement("div",{className:"return-to-video-confirmation-modal ".concat(t)},c.a.createElement("p",null,"Are you sure you'd like to discard your changes?"),c.a.createElement("div",{className:"button-bar"},c.a.createElement(Mt.a,{buttonClass:"return-button",value:"Discard",buttonType:"rp-secondary-3",onClicked:this.leaveTrimMode}),c.a.createElement(Mt.a,{buttonClass:"publish-button",value:"Publish Changes",buttonType:"rp-primary-3",onClicked:this.onPublishClicked}))))}},{key:"componentDidUpdate",value:function(e){!e.newChanges&&this.props.newChanges&&this.state.show_confirmation_modal&&this.setState({show_confirmation_modal:!1})}},{key:"handleClickOutside",value:function(){this.state.show_confirmation_modal&&this.setState({show_confirmation_modal:!1})}}]),n}(o.Component),Uf=Object(l.connect)((function(e){return{newChanges:e.trimming.new_changes}}),(function(e){return{leaveTrimModeCreator:function(){return e(Object(Ae.c)())},patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))}}}))(ca()(Vf));n("cLZe");function Bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var qf=function(e){Y()(n,e);var t=Bf(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"onRevertToOriginalClicked",W()(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.video,window.confirm("Are you sure you'd like to delete all of your edits?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.props.updateTrimRangesCreator([]);case 5:return t.next=7,e.props.patchTrimVideoCreator(n,e.props.onRevertClicked);case 7:case"end":return t.stop()}}),t)})))),e}return J()(n,[{key:"render",value:function(){var e=this.props,t=e.originalRanges,n=e.video,r=t.length>0?"enabled":"";return c.a.createElement("div",{className:"trim-footer"},c.a.createElement("div",{className:"left-section"},c.a.createElement(Uf,{onLeave:this.props.onRevertClicked,video:n})),c.a.createElement("div",{className:"middle-section"},c.a.createElement("div",{className:"".concat(this.constructor.className," ").concat(r)},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgUndo,null),isDisabled:t.length<1,onClick:this.onRevertToOriginalClicked},"Revert to Original"))),c.a.createElement("div",{className:"right-section"},c.a.createElement("a",{className:"trim-help",href:y.ab,target:"_blank",rel:"noreferrer noopener"},c.a.createElement(ie.TextButton,{icon:c.a.createElement(ie.SvgHelp,null)},"Help Center"))))}}]),n}(o.Component);re()(qf,"className","revert-to-original-button");var Wf=Object(l.connect)((function(e){return{originalRanges:e.trimming.original_ranges}}),(function(e){return{patchTrimVideoCreator:function(t,n){return e(Object(Ae.d)(t,n))},updateTrimRangesCreator:function(t){return e(Object(Ae.l)(t))}}}))(qf),zf=function(e){var t=e.isOpen,n=e.onCloseModal,r=e.videoId,i=e.videoIsTeamShared,a=e.videoIsSharedWithUser,s=Object(o.useState)(!1),u=st()(s,2),d=u[0],m=u[1],f=Object(l.useDispatch)(),p=function(){var e=W()(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f(Object(_.a)(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=W()(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f(Object(_.e)(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),v=Object(l.useSelector)((function(e){return{hasTeamArchiveWriteScope:Object(He.a)(e,we.x),hasPersonalArchiveWriteScope:Object(He.a)(e,we.o)}})),g=i?v.hasTeamArchiveWriteScope:!a&&v.hasPersonalArchiveWriteScope;return c.a.createElement(ie.Modal,{isOpen:t,onCloseClick:n,onBackgroundClick:n,title:"How would you like to remove this video?",mainButton:c.a.createElement(ie.Button,{isDisabled:d,onClick:h,variant:"primary"},"Delete"),alternativeButton:g&&c.a.createElement(ie.Button,{isDisabled:d,onClick:p},"Archive")})};n("1JgU");var Gf=function(e){var t=e.parentProperties,n=t.id,r=t.title,i=t.duration,a=t.ownerName,o=t.thumbnail,s=t.ownerThumbnail;return c.a.createElement("a",{className:"share-video-parent-indicator-container",target:"_blank",rel:"noopener noreferrer",href:Object(Ds.j)({id:n})},c.a.createElement("div",{className:"video-thumbnail"},c.a.createElement("img",{className:"video-thumbnail",src:Object(Ve.b)(o)}),c.a.createElement("div",{className:"video-thumbnail-overlay"}),c.a.createElement("div",{className:"video-thumbnail-overlay hover-info"},c.a.createElement(ie.Text,{color:"white"},Object(Ri.b)(i)))),c.a.createElement(ie.Spacer,{right:3}),c.a.createElement("div",{className:"video-title-and-owner"},c.a.createElement("div",{className:"video-title"},c.a.createElement(ie.Text,{hasEllipsis:!0},"Original Video"," ",c.a.createElement(ie.Text,{isInline:!0,fontWeight:"medium"},r))),c.a.createElement(ie.Distribute,{alignment:"center"},c.a.createElement("img",{src:Object(Ve.b)(s.thumb),className:"video-owner-thumbnail"}),c.a.createElement(ie.Spacer,{right:1}),c.a.createElement(ie.Text,{size:"small"},a))))},Hf=n("RmPs"),Jf=n.n(Hf),Qf=n("IcNW"),Kf=n("d4Ua"),$f=n.n(Kf),Yf=function(e){var t=e.deleteLinkHandler,n=Object(l.useDispatch)(),r=Object(o.useState)(!0),i=st()(r,2),a=i[0],s=i[1],u=Object(o.useState)(!1),d=st()(u,2),m=d[0],f=d[1],p=Object(l.useSelector)((function(e){return e.share_video})),h=p.video,v=p.shareVideoAliases,g=Object(o.useRef)(),b=function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.value;!v.map((function(e){return e.email})).includes(t)&&Wi.m(t)&&t&&(n(Object(_.c)(h.id,t)),g.current.value="")};return c.a.createElement(ie.Container,{className:$f.a.sfdcModalContainer},c.a.createElement(ie.Text,null,v.length>0?"Each email address will be given a special link to track the recipients activity.":"Add emails to generate custom links and track how each contact engages with your video."),c.a.createElement(ie.Spacer,{bottom:"medium"}),c.a.createElement(ie.Text,{fontWeight:"bold"},"Email"),c.a.createElement(ie.Spacer,{bottom:"xsmall"}),c.a.createElement(ie.Distribute,{gap:"small"},c.a.createElement(ie.TextInput,{ref:g,type:"email",placeholder:"Enter lead email address...",className:$f.a.emailInput,onChange:function(e){var t=e.target.value;Wi.m(t)?(f(!1),s(!1)):(f(0!==(null==t?void 0:t.length)),s(!0))},onKeyDown:function(e){return e.keyCode===Qi.e&&b()},hasError:m}),c.a.createElement(ie.Button,{variant:"neutral",isDisabled:a,onClick:function(){return!a&&b()}},"Add")),m&&c.a.createElement(ie.Text,{color:"danger",className:"mt:xsmall"},"Please enter a valid email."),c.a.createElement(ie.Spacer,{top:"medium"}),v.length>0?c.a.createElement(Qf.a,{fromModal:!0,deleteLinkHandler:t.bind(undefined)}):c.a.createElement(ie.Distribute,{direction:"column",alignment:"center",className:"mt:xlarge"},c.a.createElement("img",{src:Jf.a,className:$f.a.emptyIcon}),c.a.createElement(ie.Spacer,{top:"large"}),c.a.createElement(ie.Text,{variant:"title"},"No emails have been added yet"),c.a.createElement(ie.Spacer,{top:"small"}),c.a.createElement(ie.Text,{color:"bodyDimmed",alignment:"center"},"Add an email to track how a contact engages with your Loom video directly in Salesforce.")))},Xf=function(e){var t=e.email;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ie.Text,{color:"bodyDimmed"},"Any engagement will no longer be tracked in Salesforce."),c.a.createElement(ie.Container,{paddingTop:"large",paddingBottom:"small"},c.a.createElement(ie.TextInput,{value:t,isDisabled:!0})))},Zf=n("tVSK"),ep=n.n(Zf),tp=function(e){var t=e.showModal,n=Object(l.useDispatch)(),r=Object(o.useState)(null),i=st()(r,2),a=i[0],s=i[1],u=Object(l.useSelector)((function(e){return e.share_video})).shareVideoAliases,d=function(){return n(Object(fe.c)(!1))};return c.a.createElement(ie.Modal,{title:a?"Are you sure you want to delete this contact?":"Salesforce",className:ep.a.sfdcModal,isOpen:t,onCloseClick:function(){return d()},onBackgroundClick:function(){return d()},alternativeButton:a&&c.a.createElement(ie.Button,{onClick:function(){return s(null)}},"Back"),mainButton:a?c.a.createElement(ie.Button,{variant:"primary",onClick:function(){return function(){a&&(n(Object(_.d)(a.id)),s(null))}()}},"Yes, delete contact"):u.length>0?c.a.createElement(ie.Button,{variant:"primary",onClick:function(){return d()}},"Done"):null},a?c.a.createElement(Xf,{email:a.email}):c.a.createElement(Yf,{deleteLinkHandler:function(e){return s(e)}.bind(undefined)}))},np=n("Brn7");n("5T66");function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){re()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ap(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var i=te()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var op=Be.isMobile&&Be.isIOS,cp=function(e){var t=e.show,n=e.name,r=e.pingOwner,i=e.ownerPinged,a=e.goToLoom,s=c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-title"},"This video is currently inactive."),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-content"},"We'll let ".concat(n||"the owner"," know you'd like to watch their video.")),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-action"},c.a.createElement(Mt.a,{onClicked:r,buttonType:"rp-primary-2",value:"Yes! Let them know."}))),l=c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-title"},"Thanks!"),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-content"},"Your request is on its way! "),c.a.createElement("div",{className:"share-video-inactive-video-contact-modal-action"},c.a.createElement(Mt.a,{capitalize:!1,onClicked:a,buttonType:"rp-primary-2",value:"Go to loom.com"})));return c.a.createElement("div",{className:"share-video-inactive-video-contact-modal"},c.a.createElement(Jl.a,{show:t,dark:!0,showClose:!1},i?l:s))},sp=function(e){var t=e.showRecordingTimerPaywall,n=e.video,r=e.user,i=e.hasSeenRecordingLimitModal,a=e.fromRecorderParam,o=e.recordingLimitParam,s=Object(Ge.a)(ge.c);if(!a)return null;var l=!o;return c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(od,null),t&&s&&o&&c.a.createElement(cf,{video:n,user:r,renderToast:i,videoDurationLimit:s}))},lp=function(e){Y()(n,e);var t=ap(n);function n(){var e;G()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),re()(K()(e),"state",{show_create_recording_tooltip:!1,show_ext_install_bubb:!1,show_signup_modal:!1,show_share_dropdown:!1,startTimeParam:Object(P.d)("t"),video_id:window.location.pathname.replace("/share/",""),ownerPinged:!1,mobileAppCardIsVisible:!0,forceFocusTitle:!1}),re()(K()(e),"attachPlayerToTheaterElement",(function(){document.querySelector(".theater-player-container").appendChild(document.querySelector(".embed-video-frame-wrapper")),e.forceUpdate()})),re()(K()(e),"removePlayerFromTheaterElement",(function(){var t=document.querySelector(".left-panel");t.insertBefore(document.querySelector(".embed-video-frame-wrapper"),t.firstChild),e.forceUpdate()})),re()(K()(e),"pingOwner",(function(){e.props.sendInactiveVideoOwnerPing(),e.setState({ownerPinged:!0})})),re()(K()(e),"goToLoom",(function(){return window.location.pathname=y.N})),re()(K()(e),"handleInstallModalButtonClick",(function(){var t=e.props.video.id;Le.h(ve.bd,{video_id:t})})),re()(K()(e),"handleAccountOverlayClose",(function(){e.setState({show_signup_modal:!1})})),re()(K()(e),"handleAccountOverlayOpen",(function(){e.setState({show_signup_modal:!0})})),re()(K()(e),"handleExtensionInstalled",(function(){var t=e.props.isLoggedIn;if(e.setState({show_ext_install_bubb:!1}),!t)return e.props.updateLoginOrSignUp(!1),e.setState({show_signup_modal:!0});qe.a&&e.setState({show_create_recording_tooltip:!0})})),re()(K()(e),"handleExtensionInstallError",(function(t){var n=e.props.isLoggedIn;e.props.showErrorBar(g.a,t),n||(e.props.updateLoginOrSignUp(!1),e.setState({show_signup_modal:!0}))})),re()(K()(e),"handleDeleteButtonClicked",(function(){e.props.updateShareVideoShowRemoveModal(!0)})),re()(K()(e),"handleLeaveRemoveModal",(function(){e.props.updateShareVideoShowRemoveModal(!1)})),re()(K()(e),"handleEnterTrimMode",(function(){var t=e.props.video,n=t.id,r=t.processing_information.trim_ranges,i=void 0===r?[]:r;e.props.enterTrimModeCreator(i),e.props.updateShareVideoInTrimMode(!0),Le.h(ve.Hb,{id:n,has_been_trimmed:i.length>0})})),re()(K()(e),"handleLeaveTrimMode",(function(){e.props.updateShareVideoInTrimMode(!1)})),re()(K()(e),"handleDownloadUnverifiedClicked",(function(t){if(t.preventDefault(),!e.props.video.owner_verified){var n=e.props.currentUserIsOwner?"you":"the sender",r=e.props.currentUserIsOwner?"your":"their";window.alert("In order to download this video, "+n+" must verify "+r+" email.")}return!1})),re()(K()(e),"handleNotificationDialogPromptAction",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.e];!1===a.complete&&!0===a.show&&(Le.h(ve.pc),e.props.updateNotificationSettings(ye.o),e.props.postNotificationSettings(ye.o))}})),re()(K()(e),"handleNotificationDialogPromptClose",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.e];!1===a.complete&&!0===a.show&&(Le.h(ve.qc),e.props.completeTriggerCreator(_e.e))}})),re()(K()(e),"handleNotificationStatusBarAction",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.d];!1===a.complete&&!0===a.show&&(Le.h(ve.ec,{go_to_use_cases:!0,from_page:"Share Video"}),e.props.completeTriggerCreator(_e.d),ze(ue()(".status-bar"),(function(){ue()("#container").removeClass("has-status-bar")})),Object(P.e)("".concat(y.A).concat(y.db)))}})),re()(K()(e),"handleNotificationStatusBarClose",(function(){var t=e.props,n=t.isLoggedInChecked,r=t.isLoggedIn,i=t.triggers;if(n&&r){var a=i[_e.d];!1===a.complete&&!0===a.show&&(Le.h(ve.ec,{go_to_use_cases:!1,from_page:"Share Video"}),e.props.completeTriggerCreator(_e.d),ze(ue()(".status-bar"),(function(){ue()("#container").removeClass("has-status-bar")})))}})),re()(K()(e),"toggleShareDropdown",(function(){e.state.show_share_dropdown||Le.h(ve.Qc),e.setState({show_share_dropdown:!e.state.show_share_dropdown})})),re()(K()(e),"hideShareDropdown",(function(){e.setState({show_share_dropdown:!1})})),re()(K()(e),"copyLink",(function(){return Ue.a(e.copyLinkInput)})),re()(K()(e),"handleClickCopyLink",(function(){oe.a.timeline({targets:".mobile-actions-link-success",easing:"easeInOutQuad",duration:250}).add({opacity:[0,1]}).add({delay:2500,opacity:[1,0]}),e.copyLink()})),re()(K()(e),"handleShareVideoEvents",(function(t){var n=t.origin||t.originalEvent&&t.originalEvent.origin||"",r=t.data||t.originalEvent&&t.originalEvent.data||{};if(!(n.indexOf(y.A)<0))switch(r.type){case be.a:e.props.updateShareVideo(ip(ip({},e.props.video),{},{video_properties:ip(ip({},e.props.video.video_properties),{},{height:r.height,width:r.width})}));break;case be.b:e.inlineInstall(r.source);break;case be.e:e.props.updateShareVideoPassword(r.password),e.props.fetchShareVideoDownloadUrlCreator();break;case be.f:e.props.updateShareVideo(ip(ip({},e.props.video),{},{video_properties:ip(ip({},e.props.video.video_properties),{},{duration:r.duration})}));break;case be.k:e.props.updateShareVideo(ip(ip({},e.props.video),{},{processing_information:r.processing_information})),e.props.fetchShareVideoDownloadUrlCreator();break;case be.s:e.setState({show_create_recording_tooltip:!1})}})),re()(K()(e),"handleMobileAppCardClose",(function(){e.setState({mobileAppCardIsVisible:!1})})),re()(K()(e),"getCopyLinkConfirmation",(function(){return c.a.createElement("div",{className:"flex items:center"},c.a.createElement("img",{src:mu.a,width:"40",height:"40",className:"mr:small"}),"Loom link copied to clipboard!")})),e}return J()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.video_id,r=t.show_share_dropdown,i=t.show_create_recording_tooltip,a=t.show_signup_modal,s=t.startTimeParam,l=t.forceFocusTitle,u=this.props,d=u.ctaEnabled,m=u.currentUserIsOwner,f=u.downloadUrl,p=u.errorBarShown,h=u.fetchingVideo,v=u.focusTitle,g=u.fromRecorderParam,k=u.hasSeenRecordingLimitModal,w=u.hasVideoToolsAccessScope,_=u.iframeLoaded,E=u.inTrimMode,S=u.isLoggedIn,C=u.isTeamAccount,x=u.needsPermission,T=u.playerReady,O=u.recordingLimitParam,I=u.sfdcModalShow,R=u.showCollaborateModal,D=u.showCtaModal,P=u.showMoveModal,F=u.showRecordingTimerPaywall,j=u.showRemoveModal,A=u.showThumbnailCropper,M=u.showUploadAttachmentProgressModal,V=u.showVideoSettings,U=u.theaterMode,B=u.toggleTranscriptVisible,q=u.transcriptVisible,W=u.updateVideoNameCreator,z=u.useEmojis,G=u.user,H=u.userCanEdit,J=u.video,Q=u.videoIsSharedWithUser,K=u.videoIsTeamShared,$=u.videoPlayerControlsActive,Y=u.videoPlayerHasStarted,X=u.viewerInsightsActive,Z=J.video_properties,ee=J.parentVideoProperties,te=Z.isVideoReply,ne=J.company_feature_data||null,re=!E&&(q||X||D||A||V),ae=function(){e.setState({forceFocusTitle:!0},(function(){e.setState({forceFocusTitle:!1})}))},oe=c.a.createElement(fn.a,{userCanEdit:H&&w,shouldFocusTitle:m&&v,forceFocusTitle:m&&l,video:J,onTitleUpdate:W}),ce=H&&!A&&($||!Y)&&c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.b,"px)")},c.a.createElement(Kd,{onEnterTrimMode:this.handleEnterTrimMode}));return c.a.createElement(ln.a,{companyFeatureData:ne,useLegacyNavigation:!C,mainContentHasFullWidth:!0},!S&&c.a.createElement(Tt,{afterAuthCallback:function(){return window.location.reload()},show:a,onDismiss:this.handleAccountOverlayClose}),c.a.createElement(Hl.a,null,c.a.createElement("div",{className:se()("share-video-new-container",{"current-user-is-owner":m,"error-bar-shown":p,"theater-mode":U})},c.a.createElement("div",{className:se()("theater-player-container",{"theater-mode":U,"use-emojis":z})}),c.a.createElement("div",{className:se()("panels-container")},c.a.createElement("div",{className:se()("left-panel",{"use-emojis":z})},c.a.createElement(Zl,{editVideoButtons:ce,startTime:s,videoId:n},D&&c.a.createElement(Ld,null),!Be.isMobile&&(z||E)&&c.a.createElement(Dd,{duration:J.video_properties.duration,hasGmailAccount:G.has_gmail_account,isLoggedIn:S,isProtected:J.is_protected,onLeaveTrimMode:this.handleLeaveTrimMode,playerReady:T,video:J}),A&&c.a.createElement(Mf,{videoId:J.id})),E&&c.a.createElement(Wf,{onRevertClicked:this.handleLeaveTrimMode,video:J}),c.a.createElement("div",{className:"video-metadata-slideable"},c.a.createElement("div",{className:"below-video"},c.a.createElement(Fm.a,{query:"(max-width: ".concat(uu.e,"px)")},c.a.createElement("div",{className:"share-video-title-tools flex"},oe,c.a.createElement(wt.a,null),c.a.createElement(xm,{downloadUrl:f,triggerFocusTitle:ae,user:G,video:J}))),c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.b,"px)")},c.a.createElement("div",{className:"share-video-title-tools"},oe,c.a.createElement(wt.a,null))),c.a.createElement(dn.a,{currentUserIsOwner:m,date:J.createdAt,name:J.owner_full_name,user:G,userAvatarSrc:J.owner_avatar&&Object(Ve.b)(J.owner_avatar.thumb),video:J,videoIsSharedWithUser:Q,videoIsTeamShared:K}),c.a.createElement(Fm.a,{query:"(min-width: ".concat(uu.g,"px) and (max-width: ").concat(uu.e,"px)")},d&&c.a.createElement("div",{className:"mt:large"},c.a.createElement(jd,null))),c.a.createElement(Fm.a,{query:"(max-width: ".concat(uu.c,"px)")},c.a.createElement("div",{className:"mobile-actions mt:large"},c.a.createElement("div",{className:"share-wrapper mt:large px:medium"},c.a.createElement("button",{className:"mobile-actions-link c:blurple",onClick:this.handleClickCopyLink},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgLink,null),color:"blurple",className:"mr:small"}),"Copy Link"),c.a.createElement("div",{className:"mobile-actions-link-success"},"Link Copied!"),c.a.createElement("div",{className:"mobile-actions-share ignore-react-onclickoutside-share mt:medium",onClick:this.toggleShareDropdown},c.a.createElement(ie.Icon,{icon:c.a.createElement(ie.SvgShare,null),className:"mr:small"}),c.a.createElement(Df.a,{align:"left",vAlign:"auto",isLoggedIn:S,outsideClickIgnoreClass:"ignore-react-onclickoutside-share",onHide:this.hideShareDropdown,show:r,currentUserIsOwner:m,hasGmailAccount:G.has_gmail_account,video:J}),"Share"),c.a.createElement("input",{className:"mobile-actions-input",ref:function(t){return e.copyLinkInput=t},readOnly:!0,value:"".concat(y.A,"/share/").concat(J.id)})),d&&c.a.createElement(jd,null)))),te&&c.a.createElement(Gf,{parentProperties:ee}),q&&c.a.createElement("div",{className:U?"share-page-card-below-panel-theater":"share-page-card-below-panel"},c.a.createElement(bf,{title:"Transcript",height:"".concat(396,"px"),onExit:function(){return B(!1)}},c.a.createElement(xf,null),!1)),H&&c.a.createElement("div",{className:"tablet-actions"},c.a.createElement(mn.a,{names:we.B},c.a.createElement(wm,{onEnterTrimMode:this.handleEnterTrimMode,video:J}))),!m&&c.a.createElement(L.a,{flag:b.A,activationValue:!0},c.a.createElement(Cu,null)),(m||K||Q||J.comments_enabled)&&c.a.createElement(nd,{iframeLoaded:_})),c.a.createElement(Rt.a,null),C&&P?c.a.createElement(tu.a,{isSharePage:!0}):c.a.createElement(Xm,null)),re&&c.a.createElement(Rf,{onEnterTrimMode:this.handleEnterTrimMode,theaterMode:U,userCanEdit:H,user:G,transcriptVisible:q,onTranscriptExit:function(){return B(!1)}})),S&&c.a.createElement(o.Fragment,null,c.a.createElement(Dt.a,{onAction:this.handleNotificationDialogPromptAction,onClose:this.handleNotificationDialogPromptClose}),c.a.createElement(Ll,{onAction:this.handleNotificationStatusBarAction,onClose:this.handleNotificationStatusBarClose}),c.a.createElement(un.a,null)),c.a.createElement(zf,{isOpen:j,videoId:n,onCloseModal:this.handleLeaveRemoveModal,videoIsTeamShared:K,videoIsSharedWithUser:Q})),i&&c.a.createElement(Gl,{onClose:function(){e.setState({show_create_recording_tooltip:!1})}}),c.a.createElement(sn,null),c.a.createElement(sp,{showRecordingTimerPaywall:F,hasSeenRecordingLimitModal:k,fromRecorderParam:g,recordingLimitParam:O,video:J,user:G}),c.a.createElement(rf,null),c.a.createElement(cp,{goToLoom:this.goToLoom,pingOwner:this.pingOwner,ownerPinged:this.state.ownerPinged,name:J.owner_name,show:!m&&!J.active_status}),!h&&x&&c.a.createElement(eu.a,null),M&&c.a.createElement(hu,null),R&&c.a.createElement(np.a,null),c.a.createElement("div",{id:"gmail-integration-share-page-placeholder"})),Object(N.b)()&&Object(N.a)()&&c.a.createElement("div",{className:"share-video-loom-badge-section"},c.a.createElement(_t.a,{href:"https://www.loom.com",title:"Loom homepage"})),op&&this.state.mobileAppCardIsVisible&&c.a.createElement(L.a,{flag:b.O,activationValue:!0},c.a.createElement(Qm,{onCloseClick:this.handleMobileAppCardClose})),c.a.createElement(Gm,{user:G,video:J,downloadUrl:f,currentUserIsOwner:m,triggerFocusTitle:ae}),c.a.createElement(L.a,{flag:b.C,activationValue:!0},c.a.createElement(tp,{showModal:I})))}},{key:"componentDidMount",value:function(){var e=W()(B.a.mark((function e(){var t,n,r,i,a,o,c,s,l,u,d,m,f,p,h,v,g;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("message",this.handleShareVideoEvents),t=this.props,n=t.currentUserIsOwner,r=t.fetchGoogleInfoCreator,i=t.fetchShareVideoDownloadUrlCreator,a=t.fromFirstVideoViewEmail,o=t.fromRecorderParam,c=t.isLoggedIn,s=t.showConfirmationModal,l=t.subscribeGifReady,u=t.theaterMode,d=t.toggleViewerInsightsUI,m=t.updateVideoCtaShow,f=t.updateVideoIframeVisibility,p=t.user,h=void 0===p?{}:p,v=t.video,g=void 0===v?{}:v,u&&this.attachPlayerToTheaterElement(),g.complete&&(f(),i()),l(g.id),h.oauth&&!h.has_named_video_views&&r(),!0===h.capabilities[It.b]&&m(!0),e.next=9,new Promise((function(e){qe.c(e)}));case 9:e.sent||!qe.a&&(Be.isMobile||Be.isChrome)||this.setState({show_ext_install_bubb:!0}),Le.f("Individual Video",{url:null,is_owner:Boolean(n),is_logged_in:c}),this.setState({startTimeParam:Object(P.d)("t")}),a&&d(),o&&this.copyLink()&&s(this.getCopyLinkConfirmation());case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.inTrimMode,r=t.theaterMode;if(!e.theaterMode&&r&&this.attachPlayerToTheaterElement(),e.theaterMode&&!r&&this.removePlayerFromTheaterElement(),n!=e.inTrimMode){var i=document.documentElement;i.className=i.className.replace("trim-mode-enabled",""),n&&(i.className+=" ".concat("trim-mode-enabled"))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleShareVideoEvents)}},{key:"inlineInstall",value:function(){var e=W()(B.a.mark((function e(t){var n=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe.a){e.next=2;break}return e.abrupt("return",this.handleExtensionInstalled());case 2:return e.next=4,new Promise((function(e){qe.c(e)}));case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",this.handleExtensionInstalled());case 7:qe.b(t,(function(){n.handleExtensionInstalled()}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(o.Component),up=Object(l.connect)((function(e){var t=e.share_video,n=t.current_user_is_owner,r=t.download_url,i=t.iframe_loaded,a=t.player_ready,o=t.show_remove_modal,c=t.cta_enabled,s=t.video,l=t.video_is_team_shared,u=t.sfdcModalShow,d=e.user,m=d.is_logged_in,f=d.is_logged_in_checked,p=d.current,h=e.attachments.showUploadAttachmentProgressModal,v=e.checklist.has_reached_recording_limit,g=e.triggers.triggers,b=e.trimming.in_trim_mode,y=e.error_bar.showing,k=e.multi_share.dm_content,w=void 0===k?[]:k,_=e.editor,E=_.cta_flow,S=_.thumbnail_flow,C=_.video_settings_flow,x=e.video_player,N=x.controlsActive,T=x.has_started,O=x.is_fetching,I=x.viewer_needs_permission,R=x.theater_mode,D=x.transcriptVisible,P=e.moveModal.showMoveModal,F=Object.keys(s.collaboratePermissions).length>0,j=Ot.b.includes(p.account_type),A=Object(He.a)(e,we.r),M=e.videos_dashboard.show_collaborate_modal;return{ctaEnabled:c,currentUserIsOwner:n,dm_content:w,downloadUrl:r,errorBarShown:y,fetchingVideo:O,hasSeenRecordingLimitModal:v,hasVideoToolsAccessScope:Object(He.a)(e,we.J),iframeLoaded:i,inTrimMode:b,isLoggedIn:m,isLoggedInChecked:f,isTeamAccount:j,needsPermission:I,playerReady:a,sfdcModalShow:u,showCollaborateModal:M,showCtaModal:E,showMoveModal:P,showRecordingTimerPaywall:A,showRemoveModal:o,showThumbnailCropper:S,showUploadAttachmentProgressModal:h,showVideoSettings:C,theaterMode:R,transcriptVisible:D,triggers:g,useEmojis:s.use_emojis,user:p,userCanEdit:Object(Je.a)(e),video:s,videoIsSharedWithUser:F,videoIsTeamShared:l,videoPlayerControlsActive:N,videoPlayerHasStarted:T,viewerInsightsActive:Object(Yc.b)(e)}}),(function(e){return{postVerifyEmail:function(){return e(Object(E.n)())},enterTrimModeCreator:function(t){return e(Object(Ae.b)(t))},completeTriggerCreator:function(t){return e(Object(je.b)(t))},fetchGoogleInfoCreator:function(){return e(De())},fetchShareVideoDownloadUrlCreator:function(){return e(Object(_.f)())},fetchVideoCreator:function(t){return e(Object(_.g)(t))},getFeatureFlag:function(t){return e(Object(w.a)(t))},postNotificationSettings:function(t){return e(Object(Fe.a)(t,"Re-enabled From Video Page"))},showConfirmationModal:function(t){return e(Object(pt.b)(t))},showErrorBar:function(t,n){return e(Object(p.b)(t,n))},showStatusBar:function(t){return e(he(t))},updateLoginOrSignUp:function(t){return e(Object(de.c)(t))},updateNotificationSettings:function(t){return e(Object(me.d)(t))},updateShareVideo:function(t){return e(Object(fe.d)(t))},updateShareVideoInTrimMode:function(t){return e(Object(fe.h)(t))},updateShareVideoPassword:function(t){return e(Object(fe.i)(t))},updateShareVideoShowRemoveModal:function(t){return e(Object(fe.k)(t))},updateVideoCtaShow:function(t){return e(Object(fe.p)(t))},updateVideoNameCreator:function(t){return e(Object(_.q)(t))},sendInactiveVideoOwnerPing:function(){return e(Object(Me.e)())},updateVideoIframeVisibility:function(t){return e(Object(fe.s)(t))},subscribeGifReady:function(t){return e(Object(_.m)(t))},toggleTranscriptVisible:function(t){return e(Object(v.m)(t))},toggleViewerInsightsUI:function(){return e(Object(Hc.c)())}}}))(lp),dp=(n("7tgu"),"1"===Object(P.d)("focus_title")),mp="1"===Object(P.d)("muted"),fp="loom-video-first-view-updated"===Object(P.d)("source_email"),pp="1"===Object(P.d)("from_recorder"),hp="1"===Object(P.d)("recording_limit"),vp=Object(P.d)("t"),gp=Object(P.d)("oauth_error"),bp=Object(P.d)("provider"),yp=Object(P.d)("data")?JSON.parse(atob(Object(P.d)("data"))):{},kp=bp===M.e;O.a();try{window[k.c]&&function(){![dp,mp,fp,pp,hp,gp,bp].find(Boolean)&&a()(yp)||window.history.replaceState("","",window.location.pathname),"push"===yp.referrer&&Object(R.b)(yp),f.a.polyfill();var e=I.h(),t=[d.a];e&&t.push(Object(S.a)(e));var n=D.a(F.a,t),i=document.getElementById("container");(function(e){if(kp)return e.dispatch(Object(h.d)(!0)),void(gp&&e.dispatch(Object(h.f)(!0)));gp&&e.dispatch(Object(p.b)(g.a,decodeURIComponent(gp)))})(n),n.dispatch(Object(v.o)(!0)),n.dispatch(Object(E.c)()),n.dispatch(Object(_.j)(window[k.c])),n.dispatch(Object(w.a)(b.M)),Object(N.d)(),window[k.c]&&!window[k.c].current_user_is_owner&&"true"===function(e){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var t={},n=e.split(C),r=0;r<n.length;r++){var i=n[r],a=i.indexOf("=");if(!(a<0)){var o=i.substr(0,a).trim(),c=i.substr(++a,i.length).trim();'"'==c[0]&&(c=c.slice(1,-1)),null==t[o]&&(t[o]=x(c))}}return t}(document.cookie)[A.d]&&n.dispatch(Object(v.t)(!0)),window.reduxStore=n,Object(s.render)(Object(T.wrapGraphQLProvider)(c.a.createElement(l.Provider,{store:n},c.a.createElement(r.ApolloProvider,{client:Object(T.getGraphQLClient)()},c.a.createElement(j.a,null,c.a.createElement(L.a,{flag:b.H,activationValue:!0},c.a.createElement(up,{focusTitle:dp,mutedParam:mp,timeParam:vp,fromFirstVideoViewEmail:fp,fromRecorderParam:pp,recordingLimitParam:hp})),c.a.createElement(L.a,{flag:b.H,activationValue:!1},c.a.createElement(lu,{focusTitle:dp,mutedParam:mp,timeParam:vp,fromRecorderParam:pp,recordingLimitParam:hp})),c.a.createElement(ga.a,null))),c.a.createElement(V.a,null))),i)}()}catch(e){var wp;if(!["SecurityError"].includes(e.name))I.e(e,{message:"Share Video page",hasVideo:Boolean(null===(wp=window)||void 0===wp?void 0:wp[k.c])},{team:"create"})}window[k.c]||(window.location.href=y.I)},kD5e:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetInsightsForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"engagementInsightsSummaryForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasWatchSession"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaClicks"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackedViews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:392}};n.loc.source={body:"query GetInsightsForVideo($videoId: ID!) {\n  engagementInsightsSummaryForVideo(videoId: $videoId) {\n    viewers {\n      hasWatchSession\n      percentCompleted\n      cta\n      ctaClicks\n      trackedViews\n      views\n      user {\n        id\n        avatar\n        name\n        color\n        variant\n      }\n      events {\n        type\n        ts\n        id\n        content\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetInsightsForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetInsightsForVideo")},kHQO:function(e,t,n){e.exports=n.p+"img/icons/image-d5d2887585c314245e57b8090cd70c37.svg"},kbNZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteVideoAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteVideoAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"attachmentId"}}}],directives:[]}]}}],loc:{start:0,end:98}};n.loc.source={body:"mutation DeleteVideoAttachment($attachmentId: ID!) {\n  deleteVideoAttachment(id: $attachmentId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.DeleteVideoAttachment=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DeleteVideoAttachment")},kjBy:function(e,t,n){},"ku8/":function(e,t,n){},lRop:function(e,t,n){},lWl8:function(e,t,n){},lr5j:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteFavorite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"FavoriteEntity"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteFavorite"},arguments:[{kind:"Argument",name:{kind:"Name",value:"entities"},value:{kind:"Variable",name:{kind:"Name",value:"entities"}}}],directives:[]}]}}],loc:{start:0,end:96}};n.loc.source={body:"mutation DeleteFavorite($entities: [FavoriteEntity]!) {\n  deleteFavorite(entities: $entities)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.DeleteFavorite=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DeleteFavorite")},luHq:function(e,t,n){},lv48:function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,a=i-(r||i);e.diff=a,e.prev=r,e.curr=i,r=i;for(var o=new Array(arguments.length),c=0;c<o.length;c++)o[c]=arguments[c];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n})),t.formatArgs.call(e,o);var l=n.log||t.log||console.log.bind(console);l.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("FGiv"),t.names=[],t.skips=[],t.formatters={}},ly35:function(e,t,n){},lyd3:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUserReachedRecordingLimitChecklistItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"successful"},name:{kind:"Name",value:"updateUserReachedRecordingLimitChecklistItem"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[]}]}}],loc:{start:0,end:147}};n.loc.source={body:"mutation UpdateUserReachedRecordingLimitChecklistItem($userId: ID!) {\n  successful: updateUserReachedRecordingLimitChecklistItem(userId: $userId)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.UpdateUserReachedRecordingLimitChecklistItem=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UpdateUserReachedRecordingLimitChecklistItem")},lzNQ:function(e,t,n){},m3co:function(e,t,n){},mP8B:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/explore-team-library-4ebf0df70389e7861ac0952849ab5909.png"},mTrM:function(e,t,n){var r={"./down.png":"ms5F","./down@2x.png":"FcDb","./down@3x.png":"VvU8","./gradient.png":"VAwS","./joy.png":"I2Ha","./joy@2x.png":"UKhD","./joy@3x.png":"+IMt","./love.png":"9RnX","./love@2x.png":"0t9N","./love@3x.png":"76FJ","./nervous.png":"981Y","./nervous@2x.png":"V6R/","./nervous@3x.png":"GRyb","./up.png":"yrut","./up@2x.png":"fKvb","./up@3x.png":"6k+U","./wow.png":"W48i","./wow@2x.png":"IEDO","./wow@3x.png":"6ype","./yay.png":"Xtis","./yay@2x.png":"C3Os","./yay@3x.png":"9CgV"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="mTrM"},miX2:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("q1tI"),b=n.n(g);n("EvSo");function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var k=function(e){var t=e.label,n=e.selected,r=e.value,i=e.onSelection;return b.a.createElement("div",{className:"radio-button-container","data-val":r,onClick:i},b.a.createElement("div",{"data-val":r,className:"radio-button-check".concat(n?" radio-selected":"")},b.a.createElement("div",{"data-val":r,className:"radio-button-check-center"})),b.a.createElement("span",{"data-val":r,className:"radio-label"},t))},w=function(e){u()(n,e);var t=y(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"onSelectRadioButton",(function(t){e.props.onSelection(t.target.dataset.val)})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.selectedValue,r=t.options,i=t.groupClass;return b.a.createElement("div",{className:i},r.map((function(t){var r=t.label,i=t.value;return b.a.createElement(k,{label:r,value:i,key:i,onSelection:e.onSelectRadioButton,selected:i===n})})))}}]),n}(g.Component);t.a=w},"mk/i":function(e,t,n){},mm4L:function(e,t,n){},ms5F:function(e,t,n){e.exports=n.p+"img/video-player/down-22df2d1cf2d312b657a09f7d2ac22874.png"},mzwJ:function(e,t,n){},n25y:function(e,t,n){},nPC0:function(e,t,n){},nSHx:function(e,t,n){},nib4:function(e,t,n){},o5ip:function(e,t,n){},oCzN:function(e,t,n){},oEZn:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("IPhx");t.AbstractTokenizer=class{constructor(t){this.position=0,this.numBuffer=e.alloc(10),this.fileInfo=t||{}}async readToken(t,n){const i=e.alloc(t.len);if(await this.readBuffer(i,{position:n})<t.len)throw new r.EndOfStreamError;return t.get(i,0)}async peekToken(t,n=this.position){const i=e.alloc(t.len);if(await this.peekBuffer(i,{position:n})<t.len)throw new r.EndOfStreamError;return t.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.EndOfStreamError;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.EndOfStreamError;return e.get(this.numBuffer,0)}async close(){}}}).call(this,n("tjlA").Buffer)},oFKY:function(e,t,n){e.exports={loomSignupOverlay:"signup-overlay_loomSignupOverlay_253",loomSignupSecondaryTitle:"signup-overlay_loomSignupSecondaryTitle_3tn"}},oG2x:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetTeamVideosFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"organizationId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teamVideosFolder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"organizationId"},value:{kind:"Variable",name:{kind:"Name",value:"organizationId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:140}};n.loc.source={body:"query GetTeamVideosFolder($organizationId: ID) {\n  teamVideosFolder(organizationId: $organizationId) {\n    id\n    name\n    special_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetTeamVideosFolder=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetTeamVideosFolder")},oMRN:function(e,t){e.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},ogwt:function(e,t,n){e.exports=n.p+"img/illustrations/drag-and-drop-csv-4be30918ae56de3041f273944ef8a8e7.svg"},ohBV:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),a=(n("ls82"),n("yXPU")),o=n.n(a),c=n("J4zp"),s=n.n(c),l=n("pVnL"),u=n.n(l),d=n("q4mm"),m=n("TSYQ"),f=n.n(m),p=n("q1tI"),h=n.n(p),v=n("TZiV"),g=n.n(v),b=n("Vg22"),y=n("m884"),k=n("AGlj"),w=n("IVYN"),_=n("sDAx"),E=n("CtBj"),S=n("RgX/"),C=n("qlJH"),x=n("MDHM"),N=(n("ma9I"),n("rB9j"),n("hByQ"),n("lSNA")),T=n.n(N),O=n("LpSC"),I=n.n(O),R=n("zixt"),D=n("DauL"),P=n("V9h2"),F=n("t7Qn"),j=n("kZ0K"),A=n("jvaU"),M=n("i1sZ"),L=n.n(M),V=n("WBqd"),U=n("0X1P"),B=n("8N09"),q=n("wv65"),W="This email belongs to a Company account. Speak with your administrator about provisioning a Loom account for this email.",z="Oops! Something went wrong on our end. Please try that again.";function G(e){return function(){var t=o()(i.a.mark((function t(n){var r,a,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(q.getGraphQLClient)(),t.prev=1,t.next=4,r.mutate({mutation:L.a,variables:{email:e}});case 4:return a=t.sent,o=a.data,(c=o.checkIfUserWithEmailExists)&&n(Object(C.e)("You appear to already have an account.")),t.abrupt("return",c);case 11:t.prev=11,t.t0=t.catch(1),n(Object(U.b)(B.a,"Oops! Something went wrong")),j.d(t.t0,"Error while checking for user existence");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}var H=n("xmpO"),J=n("0Syt"),Q=(n("SLk9"),function(e){var t=u()({},e),n=Object(p.useState)(!0),r=s()(n,2),i=r[0],a=r[1];return h.a.createElement(d.Distribute,{className:"loom-masked-input-container"},h.a.createElement(d.TextInput,u()({type:i?"password":"text",placeholder:i?"":"password"},t)),h.a.createElement(d.IconButton,{altText:i?"Reveal password":"Hide password",icon:h.a.createElement(d.SvgEye,null),iconColor:i?"grey4":"black",onClick:function(){return a(!i)}}))});function K(e){var t=e.email,n=e.setEmail,r=e.password,i=e.setPassword,a=e.isSignUp,o=e.errorStr,c=e.overlayMode,s=a?e.expansionHandler:e.signInHandler,l="Create Free Account";return Object(x.b)((function(e){return e.orgToken}))?l="Create account":c&&(l="Signup with email"),h.a.createElement(h.a.Fragment,null,h.a.createElement(d.FormField,{className:"loom-email-form-field",label:"Email",labelFor:"email",errorMessage:a&&o?o:""},h.a.createElement(d.TextInput,{id:"email",placeholder:"Enter your email...",value:t,onChange:n,type:"email",onKeyDown:function(e){e.keyCode===w.e&&s()}})),!a&&h.a.createElement(h.a.Fragment,null,h.a.createElement(d.Spacer,{top:1}),h.a.createElement(d.FormField,{className:"loom-email-form-field",label:"Password",labelFor:"password",errorMessage:o},h.a.createElement(d.TextInput,{id:"password",placeholder:"",value:r,onChange:i,type:"password",onKeyDown:function(e){e.keyCode===w.e&&s()}}))),h.a.createElement(d.Spacer,{top:2}),h.a.createElement(d.Button,{size:c?"medium":"large",variant:"primary",hasFullWidth:!0,onClick:s},a?l:"Sign In"))}t.a=function(e){var t=Object(b.useDispatch)(),n=Object(p.useRef)(),r=Object(p.useState)(""),a=s()(r,2),c=a[0],l=a[1],u=Object(p.useState)(""),m=s()(u,2),v=m[0],w=m[1],x=Object(p.useState)(""),N=s()(x,2),O=N[0],M=N[1],L=Object(p.useState)(""),U=s()(L,2),B=U[0],q=U[1],$=Object(p.useState)([]),Y=s()($,2),X=Y[0],Z=Y[1],ee=Object(p.useState)(!1),te=s()(ee,2),ne=te[0],re=te[1],ie=Object(p.useState)(!1),ae=s()(ie,2),oe=ae[0],ce=ae[1],se=Object(b.useSelector)((function(e){return e.login.plain_error})),le=Object(b.useSelector)((function(e){return e.login.password_error})),ue=Object(b.useSelector)((function(e){return e.login.email_error})),de=Object(b.useSelector)((function(e){return e.login.is_fetching})),me=e.emailAddress,fe=e.expanded,pe=e.isSignUp,he=e.overlayMode,ve=se||le||ue,ge=Object(p.useState)(me||""),be=s()(ge,2),ye=be[0],ke=be[1],we=function(e){return function(n){e(n.target.value),t(Object(C.a)(null)),t(Object(C.d)(null)),t(Object(C.e)(null))}};Object(p.useEffect)((function(){Z(Object(J.s)(c))}),[c]);var _e=he?"medium":"large";if(!fe)return h.a.createElement(K,{overlayMode:he,errorStr:se||le||ue,isSignUp:pe,email:ye,setEmail:we(ke),password:c,setPassword:we(l),expansionHandler:o()(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(G(ye));case 2:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:e.expansionHandler(!0),E.h(k.zb,{action:"opened"});case 7:case"end":return n.stop()}}),n)}))),signInHandler:function(){t(function(e,t,n){return function(r){r(Object(C.b)(!0)),P.b(e,t).done((function(){r(Object(C.b)(!1)),F.e((function(){var e=Object(A.d)("redirect_after")||n;if(e){var t=decodeURIComponent(e);Object(V.a)(t)&&(t="/"),window.location.href=t}else window.location.href=_.N}))})).fail((function(e){r(Object(C.b)(!1)),e.status===R.j?e.responseText.length>0?r(Object(C.e)(e.responseText)):r(Object(C.e)("Your login information was incorrect. Please check and try again.")):e.status===R.e?e.responseText.length>0?r(Object(C.e)(e.responseText)):r(Object(C.e)(W)):r(Object(C.e)(z))}))}}(ye,c,window.location.href)),E.h(k.xb)}});var Ee=ye&&c&&v&&O&&B;return h.a.createElement("div",{className:f()("loom-signup-component-email-form",he&&"overlay-mode")},!he&&h.a.createElement("div",{className:"loom-signup-email-form-back-button"},h.a.createElement(d.TextButton,{icon:h.a.createElement(d.SvgArrowBack,null),onClick:function(){e.expansionHandler(!1),E.h(k.zb,{action:"closed"})}},"Back")),h.a.createElement(d.Text,{size:"xlarge",fontWeight:"bold"},"What is your name?"),h.a.createElement(d.Spacer,{top:1}),h.a.createElement(d.Text,null,"This is the name that will appear on your videos."),h.a.createElement(d.Spacer,{top:he?3:4}),h.a.createElement(d.FormField,{className:"loom-email-form-field",label:"Email",labelFor:"email",errorMessage:ue},h.a.createElement(d.TextInput,{id:"email",type:"email",placeholder:"Juniper@loom.com",value:ye,onChange:we(ke)})),h.a.createElement(d.Spacer,{top:2}),h.a.createElement("div",{className:"loom-signup-component-email-form-name"},h.a.createElement(d.FormField,{className:"loom-email-form-field",label:"First Name",labelFor:"first-name"},h.a.createElement(d.TextInput,{id:"first-name",placeholder:"Juniper",value:v,onChange:we(w)})),h.a.createElement(d.Spacer,{left:1,right:1,top:2}),h.a.createElement(d.FormField,{className:"loom-email-form-field",label:"Last Name",labelFor:"last-name"},h.a.createElement(d.TextInput,{id:"last-name",placeholder:"Fruite",value:O,onChange:we(M)}))),h.a.createElement(d.Spacer,{top:2}),h.a.createElement(d.FormField,{className:"loom-password-form-field",label:"Password",labelFor:"password"},h.a.createElement(Q,{id:"password",value:c,onChange:we(l)})),h.a.createElement(d.Spacer,{top:2}),h.a.createElement(d.FormField,{className:"loom-password-form-field",label:"Confirm Password",labelFor:"confirm-password",errorMessage:le||se},h.a.createElement(Q,{id:"confirm-password",value:B,onChange:we(q)})),h.a.createElement(d.Spacer,{top:2}),h.a.createElement(S.a,{containerProps:{width:"100%"},passwordViolations:X}),h.a.createElement(d.Spacer,{top:2}),h.a.createElement(g.a,{ref:n,sitekey:y.b,size:"invisible",onChange:function(){ce(!0)},onExpired:function(){n.current.reset()},onErrored:function(){n.current.reset()}}),h.a.createElement("div",{className:"loom-signup-component-email-form-tc"},h.a.createElement(d.Checkbox,{onChange:function(){re(!ne),ne||n.current.execute(),E.h(k.kd,{checked:!ne})},isChecked:ne}),h.a.createElement(d.Spacer,{left:1}),h.a.createElement(d.Text,null,"I agree to Looms ",h.a.createElement(d.Link,{href:_.Z,target:"_blank",onClick:function(){E.h(k.id)}},"terms and conditions"))),h.a.createElement(d.Spacer,{top:4}),h.a.createElement("div",{className:"loom-signup-component-email-form-button"},he&&h.a.createElement(h.a.Fragment,null,h.a.createElement(d.Button,{onClick:function(){e.expansionHandler(!1),E.h(k.zb,{action:"closed"})}},"Go Back"),h.a.createElement(d.Spacer,{right:1})),h.a.createElement(d.Button,{icon:!de&&!he&&h.a.createElement(d.SvgArrowForward,null),iconPosition:"right",isDisabled:!ne||!oe||ve||!Ee||de,hasLoader:de,variant:"primary",size:_e||(H.isMobile?"large":"medium"),hasFullWidth:H.isMobile,onClick:function(){if(Ee)if(Object(J.m)(ye)){var e=Object(J.s)(c);if(e.length)t(Object(C.d)(Object(J.n)(e)));else{var n=Object(J.o)(v);n?t(Object(C.e)(n)):c===B?(t(function(e){var t=e.email,n=e.password,r=e.firstName,i=e.lastName,a=void 0===i?null:i,o=e.redirectURL,c=void 0===o?null:o,s=e.termsAccepted,l=void 0!==s&&s;return function(e){e(Object(C.b)(!0)),E.g((function(){var i=E.d(),o=i.anonID,s=i.deviceID,u=JSON.stringify({anonID:o,deviceID:s,email:t,password:n,firstName:r,lastName:a,termsAccepted:l});I()("/v1/users".concat(window.location.search),{method:"POST",credentials:"include",headers:T()({},R.b,D.e),body:u}).then((function(t){if(t.status===R.d)return e(Object(C.e)("You appear to already have an account.")),e(Object(C.b)(!1)),!1;if(t.status===R.e)return e(Object(C.e)(W)),e(Object(C.b)(!1)),!1;if(t.status>=400)throw new Error("POST /v1/users - HTTP response: ".concat(t.status));return!0})).then((function(t){e(Object(C.b)(!1)),t&&F.e((function(){window.location.href=decodeURIComponent(Object(A.d)("redirect_after")||c||"".concat(_.db).concat(window.location.search))}))})).catch((function(t){e(Object(C.b)(!1)),e(Object(C.e)(z)),j.d(t,"Error in signUpUserCreator")}))}))}}({email:ye,password:c,firstName:v,lastName:O,redirectURL:window.location.href,termsAccepted:ne})),E.h(k.yb)):t(Object(C.d)("Oops! The passwords do not match."))}}else t(Object(C.a)("This email is invalid"));else t(Object(C.e)("All fields are required."))}},he?"Sign Up":"Continue")))}},oyEm:function(e,t,n){},p0Er:function(e,t,n){},p9ZL:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n("peh1"),i=function(e){return e.video_player},a=Object(r.createSelector)(i,(function(e){return e.video})),o=Object(r.createSelector)(a,(function(e){return e.id})),c=Object(r.createSelector)(a,(function(e){return e.views})),s=(Object(r.createSelector)(i,(function(e){return e.duration})),Object(r.createSelector)(i,(function(e){return e.reactions})),Object(r.createSelector)(i,(function(e){return e.isMainVideoOnSharePage}))),l=Object(r.createSelector)(i,(function(e){return e.has_started})),u=Object(r.createSelector)(i,(function(e){return e.paused})),d=Object(r.createSelector)(i,(function(e){return e.current_time}))},pCSO:function(e,t,n){},pa6B:function(e,t,n){},pwzF:function(e,t,n){},"q+qW":function(e,t,n){},q3kp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMyVideosFolder"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"myVideosFolder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"special_id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:82}};n.loc.source={body:"query GetMyVideosFolder {\n  myVideosFolder {\n    id\n    name\n    special_id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetMyVideosFolder=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetMyVideosFolder")},q94c:function(e,t,n){e.exports=n.p+"img/video-player/pause-61304f06cc9f2529d362d046ed8c207a.svg"},qGIU:function(e,t,n){},qTMz:function(e,t,n){},qTz4:function(e,t,n){},qXd6:function(e,t){e.exports=i,i.strict=a,i.loose=o;var n=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function i(e){return a(e)||o(e)}function a(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function o(e){return r[n.call(e)]}},qaTk:function(e,t,n){e.exports={tooltipContainer:"star-tooltip_tooltipContainer_1Bs",tooltipActions:"star-tooltip_tooltipActions_2C9",tooltipActionShowMeHow:"star-tooltip_tooltipActionShowMeHow_1vR"}},qlJH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n("iDef"),i=function(e){return{type:r.Ge,err:e}},a=function(e){return{type:r.He,isFetching:e}},o=function(e){return{type:r.Ke,err:e}},c=function(e){return{type:r.Je,err:e}},s=function(e){return{type:r.Ie,logIn:e}}},qp16:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteSharedPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entityId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteSharedPermission"},arguments:[{kind:"Argument",name:{kind:"Name",value:"entityId"},value:{kind:"Variable",name:{kind:"Name",value:"entityId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],directives:[]}]}}],loc:{start:0,end:129}};n.loc.source={body:"mutation deleteSharedPermission($entityId: ID!, $userId: ID!) {\n  deleteSharedPermission(entityId: $entityId, userId: $userId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.deleteSharedPermission=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"deleteSharedPermission")},qvkj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,r.default)(t)&&t.indexOf("cross-fade(")>-1)return i.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n("sUt/"));var i=["-webkit-",""];e.exports=t.default},"r/Vq":function(e,t,n){n("I+eb")({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},r38f:function(e,t,n){},r3wq:function(e,t,n){e.exports=n.p+"img/invite-success-68c59ebe4d1d423d4e22735177db0472.png"},r4PL:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateLinkAttachmentForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoTimestamp"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createLinkAttachmentForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}},{kind:"Argument",name:{kind:"Name",value:"videoTimestamp"},value:{kind:"Variable",name:{kind:"Name",value:"videoTimestamp"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"upload_complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:369}};n.loc.source={body:"mutation CreateLinkAttachmentForVideo(\n  $videoId: String!\n  $name: String!\n  $url: String!\n  $videoTimestamp: Int\n) {\n  createLinkAttachmentForVideo(\n    videoId: $videoId\n    name: $name\n    url: $url\n    videoTimestamp: $videoTimestamp\n  ) {\n    id\n    owner_id\n    video_id\n    video_timestamp\n    type\n    name\n    s3_id\n    upload_complete\n    mime\n    url\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CreateLinkAttachmentForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CreateLinkAttachmentForVideo")},r67q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RegularUserVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"folder_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"complete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumbnail_is_png"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trim_ranges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultPlay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ogFull"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullPlay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"defaultThumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"static"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"use_gif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"received_a_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"current_user_is_owner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_protected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"needs_password"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"do_not_show_comments"},arguments:[],directives:[]}]}}],loc:{start:0,end:546}};n.loc.source={body:"fragment VideoFragment on RegularUserVideo {\n  id\n  active_status\n  owner_id\n  folder_id\n  name\n  download_enabled\n  complete\n  archived\n  video_properties {\n    thumbnail_is_png\n  }\n  processing_information {\n    trim_id\n    trim_ranges {\n      from\n    }\n  }\n  thumbnails {\n    default\n    defaultPlay\n    ogFull\n    full\n    fullPlay\n    defaultGif\n    defaultGifPlay\n  }\n  defaultThumbnails {\n    default\n    static\n  }\n  use_gif\n  received_a_view\n  createdAt\n\n  current_user_is_owner\n  is_protected\n  needs_password\n  do_not_show_comments\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},rF1Q:function(e,t,n){},rIt1:function(e,t,n){},rJ0v:function(e,t,n){},rQru:function(e,t,n){e.exports=n.p+"img/icons/spreadsheet-d55af6dde7ca50d41308e1c3bfef2d66.svg"},rWSj:function(e,t,n){},rWdj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("RKIb");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){switch(i(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(e){var t=function(e){var t=e[String(r.a)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(t){var n=t.call(e);return"string"==typeof n?n:a(n)}if(Array.isArray(e))return"["+e.map(a).join(", ")+"]";var o=Object.keys(e).map((function(t){return"".concat(t,": ").concat(a(e[t]))})).join(", ");return o?"{ "+o+" }":"{}"}return String(e);default:return String(e)}}},sDA0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BulkDeleteFolders"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bulkDeleteFolders"},arguments:[{kind:"Argument",name:{kind:"Name",value:"folderIds"},value:{kind:"Variable",name:{kind:"Name",value:"folderIds"}}}],directives:[]}]}}],loc:{start:0,end:93}};n.loc.source={body:"mutation BulkDeleteFolders($folderIds: [ID]!) {\n  bulkDeleteFolders(folderIds: $folderIds)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.BulkDeleteFolders=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"BulkDeleteFolders")},sI3t:function(e,t,n){!function(t,r){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(6)),l=r(n(4)),u=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={percentage:e.initialAnimation?0:e.percentage},n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.props.initialAnimation&&(this.initialTimeout=setTimeout((function(){e.requestAnimationFrame=window.requestAnimationFrame((function(){e.setState({percentage:e.props.percentage})}))}),0))}},{key:"componentWillReceiveProps",value:function(e){this.setState({percentage:e.percentage})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.initialTimeout),window.cancelAnimationFrame(this.requestAnimationFrame)}},{key:"getBackgroundPadding",value:function(){return this.props.background?null==this.props.backgroundPadding?this.props.strokeWidth:this.props.backgroundPadding:0}},{key:"getPathDescription",value:function(){var e=this.getPathRadius(),t=this.props.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+e+"\n      a "+e+","+e+" "+t+" 1 1 0,"+2*e+"\n      a "+e+","+e+" "+t+" 1 1 0,-"+2*e+"\n    "}},{key:"getPathStyles",value:function(){var e=2*Math.PI*this.getPathRadius(),t=(100-Math.min(Math.max(this.state.percentage,0),100))/100*e;return{strokeDasharray:e+"px "+e+"px",strokeDashoffset:(this.props.counterClockwise?-t:t)+"px"}}},{key:"getPathRadius",value:function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()}},{key:"render",value:function(){var e=this.props,t=(e.percentage,e.className),n=e.classes,r=e.styles,i=e.strokeWidth,a=e.text,o=this.getPathDescription();return s.default.createElement("svg",{className:n.root+" "+t,style:r.root,viewBox:"0 0 100 100"},this.props.background?s.default.createElement("circle",{className:n.background,style:r.background,cx:50,cy:50,r:50}):null,s.default.createElement("path",{className:n.trail,style:r.trail,d:o,strokeWidth:i,fillOpacity:0}),s.default.createElement("path",{className:n.path,d:o,strokeWidth:i,fillOpacity:0,style:Object.assign({},r.path,this.getPathStyles())}),a?s.default.createElement("text",{className:n.text,style:r.text,x:50,y:50},a):null)}}]),t}(s.default.Component);u.propTypes={percentage:l.default.number.isRequired,className:l.default.string,text:l.default.string,classes:l.default.objectOf(l.default.string),styles:l.default.objectOf(l.default.object),strokeWidth:l.default.number,background:l.default.bool,backgroundPadding:l.default.number,initialAnimation:l.default.bool,counterClockwise:l.default.bool},u.defaultProps={strokeWidth:8,className:"",text:null,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},styles:{root:{},trail:{},path:{},text:{},background:{}},background:!1,backgroundPadding:null,initialAnimation:!1,counterClockwise:!1},t.default=u},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r,a,o,c,s){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,o,c,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(5);e.exports=function(){function e(e,t,n,r,o,c){c!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(3)()},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e},function(e,t,n){e.exports=n(0)}])}(n("q1tI"))}()},"sUt/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},sZdI:function(e,t,n){},sh0B:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"n",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return v}));var r="add",i="remove",a="update",o="enter",c="leave",s="redo",l="undo",u="update-selected-trim-bound",d="update-selected-trim-range",m="update-current-trim-range",f=100,p=3e3,h="lower",v="upper"},sikb:function(e,t,n){},sknw:function(e,t,n){},sm9F:function(e,t,n){e.exports={container:"dashboard-onboarding-cards_container_2MY",cardFadeIn:"dashboard-onboarding-cards_cardFadeIn_3lt",cardContainer:"dashboard-onboarding-cards_cardContainer_1YY",contentWrapper:"dashboard-onboarding-cards_contentWrapper_3mL",btnWrapper:"dashboard-onboarding-cards_btnWrapper_1A4",dashboardOnboardingCardCompletionFade:"dashboard-onboarding-cards_dashboardOnboardingCardCompletionFade_27D",cardFadeOut:"dashboard-onboarding-cards_cardFadeOut_3VU",actionsWrapper:"dashboard-onboarding-cards_actionsWrapper_3Sz"}},sov6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkOnboardingCardAsDismissed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardKey"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"onboarding"},name:{kind:"Name",value:"markOnboardingCardAsComplete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardKey"},value:{kind:"Variable",name:{kind:"Name",value:"cardKey"}}},{kind:"Argument",name:{kind:"Name",value:"workspaceId"},value:{kind:"Variable",name:{kind:"Name",value:"workspaceId"}}}],directives:[]}]}}],loc:{start:0,end:181}};n.loc.source={body:"mutation MarkOnboardingCardAsDismissed($cardKey: String!, $workspaceId: ID!) {\n  onboarding: markOnboardingCardAsComplete(\n    cardKey: $cardKey\n    workspaceId: $workspaceId\n  )\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.MarkOnboardingCardAsDismissed=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"MarkOnboardingCardAsDismissed")},tAWj:function(e,t,n){},tVSK:function(e,t,n){e.exports={sfdcModal:"salesforce-modal_sfdcModal_1YM"}},taqO:function(e,t,n){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)r(e,t[n]);else r(e,t)},e.exports=t.default},tdDo:function(e,t,n){e.exports=n.p+"img/icons/link-6259567f740a5d10f7f92db6cc019ba4.svg"},tyAt:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return b}));n("pNMO"),n("TeQF"),n("QWBl"),n("5DmW"),n("27RR"),n("tkto"),n("FZtP");var r,i=n("lSNA"),a=n.n(i),o=n("AGlj"),c=n("CtBj");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){r=e},d=function(){return c.h(o.ub,{videoId:r})},m=function(){return c.h(o.sb,{videoId:r})},f=function(){return c.h(o.tb,{videoId:r})},p=function(){return c.h(o.rb,{videoId:r})},h=function(){return c.h(o.gb,{videoId:r})},v=function(){return c.h(o.wb,{videoId:r})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.h(o.pb,l({videoId:r},e))},b=function(){return c.h(o.qb,{videoId:r})}},u0sN:function(e,t,n){},u8xI:function(e,t,n){},uC1E:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateShareVideoAlias"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createShareVideoAlias"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anonymousId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:199}};n.loc.source={body:"mutation CreateShareVideoAlias($videoId: String!, $email: String!) {\n  createShareVideoAlias(videoId: $videoId, email: $email) {\n    id\n    videoId\n    email\n    anonymousId\n    organizationId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.CreateShareVideoAlias=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CreateShareVideoAlias")},"uD/X":function(e,t,n){},uODP:function(e,t,n){},uONY:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendEmailVerificationEmail"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendEmailVerificationEmail"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}}],directives:[]}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation SendEmailVerificationEmail($email: String) {\n  sendEmailVerificationEmail(email: $email)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.SendEmailVerificationEmail=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"SendEmailVerificationEmail")},uOgQ:function(e,t,n){},uVON:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},uasF:function(e,t,n){!function(t,n){e.exports=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([,function(e,t,n){e.exports=n(14)},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=new RegExp("^".concat("(https?://)?(www.)?((use)?loom.com/share/[a-f0-9]+)","$")),i=new RegExp("".concat("(https?://)?(www.)?((use)?loom.com/share/[a-f0-9]+)"),"g"),a=/((use)?loom)+\.com/i,o="lo-link-replaced"},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function c(e){n(o,i,a,c,s,"next",e)}function s(e){n(o,i,a,c,s,"throw",e)}c(void 0)}))}}},,,,,,,function(e,t,n){var r=n(18),i=n(19),a=n(20);e.exports=function(e,t){return r(e)||i(e,t)||a()}},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(4),o=n.n(a),c=n(13),s=n.n(c),l=n(3),u=n.n(l),d=n(11),m=n.n(d),f=n(2),p=function(e){return f.d.test(e)},h=function(e){return p(e)},v=function(e){return"A"===e.nodeName&&!e.className.includes(f.a)&&h(e.href)},g={isLoomUrl:p};function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}var y=/src=["']+(https?:\/\/[a-zA-z\d\.\/?&]+)/,k=function(e,t){var n=t.width,r=t.height,i=e.width,a=e.height;if(n||r)return e;var o,c,s,l,d=e.html.match(y);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{html:(o=m()(d,2)[1],c=a/i,s="".concat(100*c,"%"),l="position: relative; padding-bottom: ".concat(s,"; height: 0;"),'<div class="lo-emb-vid" style="'.concat(l,'"><iframe src="').concat(o,'" ')+'frameborder="0" webkitallowfullscreen mozallowfullscreen '+'allowfullscreen style="'.concat("position: absolute; top: 0; left: 0; width: 100%; height: 100%;",'"></iframe></div>'))})},w=function(e,t){if(p(e))return function(e,t){var n=t.width,r=t.height,i=n?"&maxwidth=".concat(n):"",a=r?"&maxheight=".concat(r):"",o=e.match(f.b),c=m()(o,1)[0];return"https://www.".concat(c,"/v1/oembed?url=").concat(e).concat(i).concat(a)}(e,t);throw new Error("URL is not from a supported video provider")},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(h(e))return fetch(w(e,t)).then((function(e){return e.json()})).then((function(e){return k(e,t)})).catch((function(){throw new Error("Unable to fetch oembed data")}));throw new Error("URL is not from a supported video provider")},E=function(e,t){var n,r,i=(n=t,(r=document.createElement("div")).innerHTML=n,r.firstChild);e.parentNode.insertBefore(i,e)},S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"a",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(document.querySelectorAll(t)).filter(v).forEach((e=o()(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t.href,n);case 2:return r=e.sent,a=r.html,E(t,a),t.className="".concat(t.className," ").concat(f.a),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}))};function C(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=e.match(f.d),n=m()(t,4)[3];return{originalUrl:e,requestUrl:"https://".concat(n)}},T=function(){var e=o()(i.a.mark((function e(t,n){var r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(r=t||"").match(f.c)){e.next=4;break}return e.abrupt("return",r);case 4:return c=a.map(N).map(function(){var e=o()(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t.requestUrl,n);case 2:return r=e.sent,a=r.html,e.abrupt("return",x({},t,{embedCode:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(c);case 7:return s=e.sent,e.abrupt("return",s.reduce((function(e,t){var n=t.originalUrl,r=t.embedCode,i=new RegExp(n,"g");return e.replace(i,r)}),r));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();n.d(t,"oembed",(function(){return _})),n.d(t,"linkReplace",(function(){return S})),n.d(t,"textReplace",(function(){return T})),n.d(t,"validate",(function(){return g}))},function(e,t,n){var r=n(15),i=n(16),a=n(17);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new N(r||[]);return a._invoke=function(e,t,n){var r=u;return function(i,a){if(r===m)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var c=S(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?f:d,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u="suspendedStart",d="suspendedYield",m="executing",f="completed",p={};function h(){}function v(){}function g(){}var b={};b[a]=function(){return this};var y=Object.getPrototypeOf,k=y&&y(y(T([])));k&&k!==n&&r.call(k,a)&&(b=k);var w=g.prototype=h.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(n,i){function a(){return new Promise((function(t,a){!function t(n,i,a,o){var c=l(e[n],e,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return t("throw",e,a,o)}))}o(c.arg)}(n,i,t,a)}))}return t=t?t.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return v.prototype=w.constructor=g,g.constructor=v,g[c]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(E.prototype),E.prototype[o]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,i){var a=new E(s(t,n,r,i));return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}}])}()}("undefined"!=typeof self&&self)},ukgg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("J4zp"),i=n.n(r),a=n("q1tI");function o(e){var t=e.children,n=e.query,r=Object(a.useRef)(window.matchMedia(n)),o=Object(a.useState)((function(){return r.current.matches})),c=i()(o,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){var e=r.current,t=function(e){return l(e.matches)};return e.addListener(t),function(){return e.removeListener(t)}}),[r]),s?t:null}},usMN:function(e,t,n){e.exports=n.p+"img/icons/presentation-f2806a2ce8ae53ce873ed46a5a22b4fd.svg"},ut5j:function(e,t,n){"use strict";n.d(t,"a",(function(){return Er}));n("qePV"),n("07d7"),n("SuFq"),n("rB9j"),n("JfAA"),n("Rm1S");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),f=n("q1tI"),p=n.n(f),h=n("Vg22"),v=n("8aGn"),g=n("CvgE"),b=n("sh0B"),y=n("rIMS"),k=n("Kl37"),w=n("xmpO"),_=n("kZ0K"),E=n("jvaU"),S=n("Ylmw"),C=n("peh1"),x=function(e){return e.video_player},N=Object(C.createSelector)(x,(function(e){return e.video})),T=Object(C.createSelector)((function(e){return(e.user||{}).current}),(function(e){return e.id})),O=Object(C.createSelector)(T,x,N,(function(e,t,n){var r=t.isMainVideoOnSharePage,i=n.id,a=n.owner_id,o=n.videoAnalyticsEnabled,c=void 0!==o&&o,s=n.current_user_is_owner,l=n.processing_information,u=(l=void 0===l?{}:l).trim_id;return{userId:e,trimId:void 0===u?null:u,videoId:i,ownerId:a,isOwner:s,videoAnalyticsEnabled:c,isMainVideoOnSharePage:r}})),I=(n("pNMO"),n("ma9I"),n("TeQF"),n("QWBl"),n("yq1k"),n("yXV3"),n("2B1R"),n("sMBO"),n("5DmW"),n("27RR"),n("tkto"),n("JTJg"),n("FZtP"),n("pVnL")),R=n.n(I),D=n("o0o1"),P=n.n(D),F=(n("ls82"),n("yXPU")),j=n.n(F),A=n("PJYZ"),M=n.n(A),L=n("lSNA"),V=n.n(L),U=n("TSYQ"),B=n.n(U),q=n("LRsK"),W=n("AGlj"),z=n("5Jhr"),G=n("zi8n"),H=n("sDAx"),J=n("MnkA"),Q=n("CtBj"),K=n("/Fp1"),$=n("OqXw"),Y=n("b/E6"),X=n("NE1i"),Z=(n("+2oP"),n("ToJy"),n("uoTU")),ee=n.n(Z),te=n("JMQS"),ne=n("L14X"),re=ne.a.slice().sort();function ie(e){var t=ee()(re,e);if(-1!==t){var n=t+1;n>=re.length&&(n=0),te.b.dispatch(Object(v.h)(re[n]))}}var ae=n("/CCh"),oe=n("e8EB"),ce=n.n(oe),se=n("/vRW"),le=n("joSB"),ue=n("q4mm"),de=n("J4zp"),me=n.n(de);n("tAWj");function fe(e){return p.a.createElement("div",{className:B()("video-player-button-hover-tag",e.position,{hovered:e.hovered})},e.text)}n("p0Er");function pe(e){var t=Object(f.useState)(!1),n=me()(t,2),r=n[0],i=n[1],a=Object(f.useState)(!1),o=me()(a,2),c=o[0],s=o[1],l=r&&!e.seeking,u=c&&!e.seeking;return p.a.createElement("button",{className:B()("control-bar-button",e.className,{hovered:l}),onClick:function(t){e.onClick(t),t.detail&&document.activeElement.blur(),i(!1)},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},onFocus:function(){return s(!0)},onBlur:function(){return s(!1)}},e.children,p.a.createElement(fe,{text:e.hoverTagText,hovered:l||u,position:"top"}))}n("RjTu");function he(e){var t=e.fullScreen?"Exit Full Screen (f)":"Enter Full Screen (f)";return p.a.createElement(pe,{className:"video-player-fullscreen-button",hoverTagText:t,seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{className:"control-bar-button-icon",color:"white",icon:e.fullScreen?p.a.createElement(ue.SvgMinimize,null):p.a.createElement(ue.SvgMaximize,null)}))}n("Idcn");function ve(e){return p.a.createElement(pe,{className:B()("video-player-pip-button",{"crowded-embed":e.useEmojis}),hoverTagText:"Toggle PIP (p)",seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{className:"control-bar-button-icon",color:"white",icon:p.a.createElement(ue.SvgVideoLibrary,null)}))}n("Y9Ts");function ge(e){var t=e.paused?"Play (k)":"Pause (k)";return p.a.createElement(pe,{className:"video-player-play-button",hoverTagText:t,seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{color:"white",className:"control-bar-button-icon",icon:e.paused?p.a.createElement(ue.SvgPlay,null):p.a.createElement(ue.SvgPause,null)}))}var be=n("17x9"),ye=n.n(be);n("TWNs");n("O1Nu");var ke={onRateChange:ye.a.func};function we(e){return p.a.createElement(pe,{className:"video-player-playback-rate-control",hoverTagText:"Speed (s)",seeking:e.seeking,onClick:ie.bind(this,e.playbackRate)},p.a.createElement("span",{className:"current-rate control-bar-button-icon"},"".concat(e.playbackRate%1!=0?function(e,t){return e.toString().match(new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?"))[0]}(e.playbackRate,1):e.playbackRate,"")))}we.propTypes=ke;n("toAj");var _e=n("GODc"),Ee=n.n(_e),Se=n("DzJC"),Ce=n.n(Se),xe=n("xCsE"),Ne=n("vLHP"),Te=n.n(Ne);n("eHAl");function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Ie=function(e){s()(n,e);var t=Oe(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"parent",null),V()(M()(e),"tooltip",null),V()(M()(e),"state",{dimensions_cached:!1,half_tooltip_width:null,tooltip_width:null}),V()(M()(e),"onClick",(function(t){t.stopPropagation();var n=e.props,r=n.currentTime,i=n.duration,a=n.trimRanges,o=Object(ae.c)(1e3*r,1e3*i,a);e.props.requestVideoPlayerPause(),e.props.updateCurrentTrimRangeCreator(o)})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.getTooltipPosition(),n={};return""!==t&&(n.transform="translateX(".concat(t,"px)"),n=Te()(n)),p.a.createElement("div",{className:this.constructor.className,ref:function(t){null!=t&&(e.tooltip=t,e.parent=t.parentNode)},style:n,onMouseDown:this.preventPropagation,onMouseMove:this.preventPropagation,onMouseUp:this.preventPropagation},p.a.createElement("div",{className:"add-trim-range-tooltip",onClick:this.onClick},p.a.createElement("p",null,"Start trimming")))}},{key:"componentMountedToParent",value:function(e){return e&&null!=this.parent}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.currentTime!==e.currentTime&&this.componentMountedToParent(t.dimensions_cached)||!this.state.dimensions_cached&&t.dimensions_cached}},{key:"componentDidMount",value:function(){if(null!=this.tooltip){var e=this.tooltip.getBoundingClientRect().width;this.setState({dimensions_cached:!0,half_tooltip_width:e/2,tooltip_width:e})}}},{key:"preventPropagation",value:function(e){e.stopPropagation()}},{key:"getTooltipPosition",value:function(){if(!this.componentMountedToParent(this.state.dimensions_cached))return"";var e=this.state,t=e.half_tooltip_width,n=e.tooltip_width,r=this.props.getPercent(),i=this.parent.getBoundingClientRect().width,a=i*r+3.5-t;return a=Math.max(a,0),a=Math.min(a,i-n+3.5)}}]),n}(f.Component);V()(Ie,"className","video-player-add-trim-range-tooltip-container");var Re=Object(h.connect)((function(e){var t=e.trimming,n=t.current_trim_range,r=t.trim_ranges,i=e.video_player,a=i.duration;return{currentTime:i.current_time,currentTrimRange:n,duration:a,trimRanges:r}}),(function(e){return{requestVideoPlayerPause:function(){return e(Object(v.f)())},updateCurrentTrimRangeCreator:function(t){return e(Object(k.h)(t))}}}))(Ie);function De(e,t){return"".concat(Pe(e,t),"%")}function Pe(e,t){var n=e/t||0;return 100*(n>=1?1:n)}n("aCS9");function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var je=function(e){s()(n,e);var t=Fe(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.commentMarkers,n=e.duration,r=t.map((function(e,t){var r={left:De(e.time,n)};return p.a.createElement("span",{key:t,className:"comment-marker",style:r})}));return p.a.createElement("div",{className:"video-player-comment-bar",onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut},r)}}]),n}(f.Component),Ae=Object(h.connect)((function(e){return{commentMarkers:e.video_player.comment_markers}}))(je),Me=n("V9h2"),Le=(n("B6y2"),n("WnLM")),Ve=n.n(Le),Ue=n("h25W");n("QFP+");function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var qe={type:ye.a.oneOf(Object.values(se.d)).isRequired,forceShow:ye.a.bool.isRequired},We=function(e){s()(n,e);var t=Be(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"videoPlayerWidth",0),V()(M()(e),"onMouseDown",(function(e){e.stopPropagation(),e.preventDefault()})),V()(M()(e),"onClick",(function(t){var n=t.event,r=e.props,i=r.id,a=r.type,o=r.time;n.stopPropagation(),n.preventDefault(),e.props.onClick({id:i,type:a,time:o})})),V()(M()(e),"onClickDelete",(function(t){var n=e.props,r=n.id,i=n.type,a=n.time;t.stopPropagation(),t.preventDefault(),e.props.onClickDelete({id:r,type:i,time:a})})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.username,i=t.showDelete,a=t.time,o=t.duration;this._updateOffset();var c=Math.round(a/o*100),s=14,l={};c<1?(c=0,s=0,l.left="8px",l.transform="none"):c>=99?(c=100,s=32):c>=95&&(l.left="-50%");var u={left:"calc(".concat(c,"% - ").concat(s,"px)")};return p.a.createElement("div",{ref:function(t){return e.container=t},className:"video-player-timeline-emoji",style:u},p.a.createElement(Ue.a,{type:n,onClick:this.onClick,onMouseDown:this.onMouseDown},p.a.createElement("div",{onMouseDown:this._stopPropagation,onClick:i?this.onClickDelete:void 0,className:"video-player-timeline-emoji-username ".concat(i?"can-delete":""),style:l},r.length>18?"".concat(r.substr(0,18),""):r)))}},{key:"componentDidMount",value:function(){this.props.playSelectionAnimation?this._playSelectionAnimation():this._playBounceAnimation(),this.inputElement&&this.inputElement.focus(),this.videoPlayerWidth=document.querySelector(".video-player-container").offsetWidth}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.forceShow&&e.forceShow&&this._playAnimation("forceFadeIn"),this.props.forceShow&&!e.forceShow&&this._playAnimation("forceFadeOut"),!this.props.playSelectionAnimation&&e.playSelectionAnimation&&this._playSelectionAnimation()}},{key:"_stopPropagation",value:function(e){e.stopPropagation()}},{key:"_updateOffset",value:function(){var e=this.props,t=e.time,n=e.duration,r=e.containerDimensions;this._offset=t/n*r.width-14}},{key:"_playBounceAnimation",value:function(){var e,t=this,n=this.props.rise||0;this.bounceUp=Ve()({targets:null===(e=this.container)||void 0===e?void 0:e.childNodes[0],translateY:{value:-5-n,duration:800,elasticity:600},scale:{value:[.89,1],duration:300,easing:[0,2.06,.62,2.1]}});var r=1/Ve.a.speed;this.delayedFadeout=window.setTimeout((function(){t.props.forceShow||t._playAnimation("bounceFadeOut")}),r*(this.bounceUp.duration+1e3))}},{key:"_playAnimation",value:function(e){var t;window.clearTimeout(this.delayedFadeout),this.currentAnimation&&this.currentAnimation.pause();var n=null===(t=this.container)||void 0===t?void 0:t.childNodes[0];"bounceFadeOut"==e&&(this.currentAnimation=Ve()({targets:n,duration:400,opacity:0,easing:"linear"})),"forceFadeIn"==e&&(this.currentAnimation=Ve()({targets:n,duration:200,opacity:1,translateY:-5,scale:"+=0",easing:"linear"})),"forceFadeOut"==e&&(this.currentAnimation=Ve()({targets:n,duration:200,opacity:0,translateY:-5,scale:"+=0",easing:"linear"}))}},{key:"_playSelectionAnimation",value:function(){var e,t=this.props.rise||0,n=this.props.time/this.props.duration,r=this.props.containerDimensions.width*n-this._offset-14,i=isNaN(n)?0:n*this.props.containerDimensions.width,a=i-this._offset-this.props.containerDimensions.x;i>this.props.containerDimensions.width/2&&(a-=28);var o=null===(e=this.container)||void 0===e?void 0:e.childNodes[0];Ve.a.timeline().add({targets:this.container,duration:1,zIndex:10}).add({targets:o,duration:300,easing:"easeOutQuad",translateX:[a,r],translateY:[-19-t,-19-t],rotate:[0,a<r?20:-20],scale:[1.34]}).add({targets:o,duration:288,easing:"easeOutQuad",translateX:"+=0",translateY:-5-t,scale:[1.34,1],rotate:0}).add({targets:this.container,duration:1,zIndex:0})}}]),n}(f.Component);We.propTypes=qe;var ze=Object(h.connect)(null,(function(e){return{onClickDelete:function(t){return e(Object(J.c)(t))},onClick:function(t){return e(Object(J.a)(t))}}}))(We);n("oCzN");function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){V()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Qe=function(e){s()(n,e);var t=Je(n);function n(e){var r;i()(this,n),r=t.call(this,e);var a=0;try{a=window.top.document.getElementsByClassName("export-bar-emoji-bar-container")[0].clientWidth}catch(e){}return r.state={toolbarWidth:a},r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.reactions,r=t.localReactions,i=t.animateReactions,a=t.controlBarExpanded,o=t.containerDimensions,c=t.currentTime,s=t.duration,l=t.reactionName,u=t.trimRanges,d=void 0===u?[]:u,m=n.concat(r.map((function(e){return He(He({},e),{},{can_delete:!!e.id,username:l||"anonymous",playSelectionAnimation:!0})}))),f=1e3*c,h=m.map((function(t){var n=Object(ae.a)(t.time,d);if(isNaN(n))return null;var r=0;if(e.state.toolbarWidth&&!a){var l=o.width,u=l/2-e.state.toolbarWidth/2,m=u+e.state.toolbarWidth,h=c/s*l;h>=u&&h<=m&&(r=10)}return(f>=n||a)&&p.a.createElement(ze,{key:t.localId||t.id,id:t.id,playSelectionAnimation:i.indexOf(t.localId)>-1,containerDimensions:o,rise:r,type:t.type,forceShow:a,time:n,username:t.username,showDelete:t.can_delete,duration:1e3*s})}));return p.a.createElement("div",{className:"emoji-timeline",ref:function(t){return e.timeline=t}},p.a.createElement("div",{className:"emoji-timeline-actual"},h),p.a.createElement("div",{className:"emoji-timeline-decorative"},h))}}]),n}(p.a.Component),Ke=Object(h.connect)((function(e){var t=e.user,n=t.is_logged_in,r=t.current.first_name,i=e.video_player.video.processing_information.trim_ranges;return{isLoggedIn:n,reactionName:r||Object(Me.a)(),trimRanges:i}}))(Qe),$e=n("3WF5"),Ye=n.n($e);n("3e/n");function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Ze=function(e){s()(n,e);var t=Xe(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.bufferedParts,n=e.duration;if(0===t.length)return null;var r=t[t.length-1].end;r>n&&(r=n);var i={width:De(r,n)},a=Ye()(t,(function(e,t){var n=e.start,i=e.end;return p.a.createElement("div",{className:"buffered-part",style:{left:De(n,r),width:De(i-n,r)},key:t})}));return p.a.createElement("div",{className:"video-player-load-progress-bar",style:i},a)}}]),n}(f.Component),et=Object(h.connect)((function(e){return{bufferedParts:e.video_player.buffered_parts}}))(Ze),tt=(n("oyEm"),function(e){var t=e.onMouseMove,n=e.onMouseOut,r=e.progress,i=e.slider,a=e.sliderWidth,o=e.inTrimMode;if(null==i)return null;var c=Te()({transform:"translateX(-".concat((1-r)*a,"px)")});return p.a.createElement("div",{className:"video-player-play-progress-bar-container",onMouseMove:t,onMouseOut:n},p.a.createElement("div",{className:"video-player-play-progress-bar ".concat(o?"trim-mode":""),style:c}))});n("fnAd");function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var rt={onScrubberOver:ye.a.func,onScrubberMove:ye.a.func,onScrubberOut:ye.a.func},it=function(e){s()(n,e);var t=nt(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.controlBarExpanded,r=t.progress,i=t.slider,a=t.sliderWidth;if(!n||null==i)return null;var o=this.scrubber?this.scrubber.clientWidth:0,c=Te()({transform:"translateX(".concat(r*a-o/2,"px)")});return p.a.createElement("div",{className:"video-player-play-progress-scrubber-container",style:c},p.a.createElement("span",{ref:function(t){return e.scrubber=t},className:"video-player-play-progress-scrubber",onMouseOver:this.props.onScrubberOver,onMouseMove:this.props.onScrubberMove,onMouseOut:this.props.onScrubberOut}))}}]),n}(f.Component);it.propTypes=rt;var at=it;n("5s+n"),n("CYXk");function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var ct=function(e){s()(n,e);var t=ot(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"mouseLeaveTimeout",null),V()(M()(e),"state",{show_scrubber_time:!1}),V()(M()(e),"handleMouseDown",(function(t){t.stopPropagation(),window.clearTimeout(e.mouseLeaveTimeout),document.addEventListener("mousemove",e.handleMouseMove,!0),document.addEventListener("mouseup",e.handleMouseUpWithoutUpdate,!0),e.props.onMouseDown()})),V()(M()(e),"handleMouseMove",(function(t){document.addEventListener("mouseup",e.handleMouseUpWithUpdate,!0),document.removeEventListener("mouseup",e.handleMouseUpWithoutUpdate,!0),e.props.onUpdateTime(t,e.props.half)})),V()(M()(e),"handleMouseUpWithUpdate",(function(t){e.handleMouseUp(t,!0)})),V()(M()(e),"handleMouseUpWithoutUpdate",(function(t){e.handleMouseUp(t,!1)})),V()(M()(e),"handleTimeChange",(function(t){e.props.onUpdateTime(null,e.props.half,t),e.onMouseLeave()})),V()(M()(e),"onMouseLeave",j()(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.clearTimeout(e.mouseLeaveTimeout),t.next=3,new Promise((function(t){e.mouseLeaveTimeout=window.setTimeout(t,b.g)}));case 3:if(!e.scrubber||null==e.scrubber.querySelector(":hover")){t.next=5;break}return t.abrupt("return");case 5:e.props.onMouseLeave(e.props.half);case 6:case"end":return t.stop()}}),t)})))),V()(M()(e),"onMouseEnter",(function(){e.props.onMouseEnter(e.props.half)})),V()(M()(e),"showScrubberTime",(function(){e.setState({show_scrubber_time:e.props.expandScrubber})})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.expandScrubber,r=t.half,i=t.visualHalf,a="";return n&&(a="expanded"),p.a.createElement("div",{className:"video-player-trim-flag ".concat(r," visual-").concat(i," ").concat(a),onMouseDown:this.handleMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},p.a.createElement("div",{className:"flag-scrubber",ref:function(t){return e.scrubber=t},onTransitionEnd:this.showScrubberTime}),p.a.createElement("span",{className:"flag-pole"}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.expandScrubber!==this.props.expandScrubber&&window.clearTimeout(this.mouseLeaveTimeout)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.mouseLeaveTimeout)}},{key:"componentDidMount",value:function(){this.showScrubberTime()}},{key:"handleMouseUp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUpWithUpdate,!0),document.removeEventListener("mouseup",this.handleMouseUpWithoutUpdate,!0),this.onMouseLeave(),t&&this.props.onUpdateTime(e,this.props.half)}}]),n}(f.Component);n("472y");function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){V()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var dt=function(e){s()(n,e);var t=ut(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"boundingRange",Object(ae.d)(e.props.currentTrimRange,e.props.trimRanges,1e3*e.props.duration)),V()(M()(e),"handleFlagMouseEnter",(function(t){var n="left"===t?b.h:b.i;e.props.updateSelectedTrimBoundCreator(n)})),V()(M()(e),"handleFlagMouseDown",(function(){e.props.requestVideoPlayerPause()})),V()(M()(e),"handleFlagMouseLeave",(function(t){var n="left"===t?b.h:b.i;e.props.selectedTrimBound===n?e.props.updateSelectedTrimBoundCreator(null):e.props.updateSelectedTrimBoundCreator(n)})),V()(M()(e),"handleFlagUpdateTime",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=lt({},e.props.currentTrimRange),a=r;null!=t&&null==r&&(a=1e3*e.props.getNewTime(t));var o="left"===n,c=Object(ae.f)(a,i,e.boundingRange,o,b.d);o?i.from=c:i.to=c,e.props.updateCurrentTrimRangeCreator(i),e.props.requestVideoPlayerCurrentTime(c/1e3)})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTrimRange,n=e.duration,r=e.selectedTrimBound,i=e.slider,a=(t.to-t.from)/1e3/n,o=t.from/1e3/n*i.clientWidth+Math.round(2.5),c={transform:"translateX(".concat(o,"px)")},s=a*i.clientWidth-7+1,l={width:"".concat(s,"px")},u="right",d="right",m=i.getBoundingClientRect().left+o,f=m+s;m>f-26&&(u="left"),f>window.innerWidth-26&&(d="left");var h=r===b.h,v=r===b.i;return p.a.createElement("div",{className:"video-player-trim-range-edit-bar",style:Te()(c)},p.a.createElement(ct,{visualHalf:u,half:"left",time:t.from,boundingRange:this.boundingRange,currentTrimRange:t,expandScrubber:h,onClick:this.handleClick,onMouseEnter:this.handleFlagMouseEnter,onMouseLeave:this.handleFlagMouseLeave,onMouseDown:this.handleFlagMouseDown,onUpdateTime:this.handleFlagUpdateTime,updateSelectedTrimBoundCreator:k.i}),p.a.createElement("div",{style:l,className:this.constructor.gradientClassName}),p.a.createElement(ct,{visualHalf:d,half:"right",time:t.to,boundingRange:this.boundingRange,currentTrimRange:t,expandScrubber:v,onClick:this.handleClick,onMouseEnter:this.handleFlagMouseEnter,onMouseLeave:this.handleFlagMouseLeave,onMouseDown:this.handleFlagMouseDown,onUpdateTime:this.handleFlagUpdateTime,updateSelectedTrimBoundCreator:k.i}))}},{key:"handleClick",value:function(e){e.preventDefault()}}]),n}(f.Component);V()(dt,"gradientClassName","trim-range-edit-gradient");var mt=Object(h.connect)((function(e){var t=e.video_player.duration,n=e.trimming;return{currentTrimRange:n.current_trim_range,duration:t,selectedTrimBound:n.selected_trim_bound,trimRanges:n.trim_ranges}}),(function(e){return{requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},requestVideoPlayerPause:function(){return e(Object(v.f)())},updateCurrentTrimRangeCreator:function(t){return e(Object(k.h)(t))},updateSelectedTrimBoundCreator:function(t){return e(Object(k.i)(t))}}}))(dt),ft=n("Hgux"),pt=n.n(ft),ht=n("vh2h");n("3oTe");function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var gt=function(e){s()(n,e);var t=vt(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.selected,r=e.style,i=t?"":"inactive",a=null;return n&&(a=p.a.createElement("div",{className:"edit-trim-range-tooltip-container",onClick:this.props.onEditClick},p.a.createElement("div",{className:"edit-trim-range-tooltip"},p.a.createElement("p",null,"Edit Trim")))),p.a.createElement("div",{className:"trim-range-marker-container",style:r},p.a.createElement("span",{className:"".concat("trim-range-marker"," ").concat(i),onClick:this.props.onClick,onMouseDown:this.stopPropagation,onMouseMove:this.stopPropagation,onMouseUp:this.stopPropagation}),a)}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"handleClickOutside",value:function(e){var t,n,r;this.props.selected&&((null==e||null===(t=e.target)||void 0===t||null===(n=t.className)||void 0===n||null===(r=n.includes)||void 0===r?void 0:r.call(n,"trim-range-marker"))||Object($.g)(e.target,"trim-range-marker",3)||Object($.g)(e.target,ht.a,3)||this.props.onDeselect())}}]),n}(f.Component),bt=pt()(gt);n("ly35");function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var kt=function(e){s()(n,e);var t=yt(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"onDeselectMarker",(function(){null!=e.props.selectedTrimRange&&e.props.updateSelectedTrimRangeCreator(null)})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentTrimRange,r=t.duration,i=t.selectedTrimRange,a=t.trimRanges.map((function(t){if(null!=n&&t.id===n.id)return null;var a=t.from,o=t.id,c=t.to,s=Pe(a/1e3,r),l=Pe(c/1e3,r),u={left:De(a/1e3,r),width:"".concat(l-s,"%")};return p.a.createElement(bt,{key:o,style:u,active:null==i||i.id===t.id,selected:null!=i&&i.id===t.id,onClick:function(n){n.stopPropagation(),e.props.updateSelectedTrimRangeCreator(t)},onEditClick:function(n){n.stopPropagation(),e.props.updateCurrentTrimRangeCreator(t)},onDeselect:e.onDeselectMarker})})).filter(Boolean);return p.a.createElement("div",{className:"video-player-trim-ranges-bar"},a)}}]),n}(f.Component),wt=Object(h.connect)((function(e){var t=e.trimming;return{currentTrimRange:t.current_trim_range,selectedTrimRange:t.selected_trim_range,trimRanges:t.trim_ranges}}),(function(e){return{updateCurrentTrimRangeCreator:function(t){return e(Object(k.h)(t))},updateSelectedTrimRangeCreator:function(t){return e(Object(k.j)(t))}}}))(kt),_t=n("V2Ro"),Et=n("cJZd"),St=n("RCtp");n("43hR");function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var xt=function(e){s()(n,e);var t=Ct(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"state",{play_after_seek_end:!1}),V()(M()(e),"onWindowResize",Ce()((function(){e.forceUpdate()}),100)),V()(M()(e),"getNewTime",(function(t){var n=e.props,r=n.currentTime,i=n.duration;if(!e.slider)return r;var a=e.slider.calculateDistance(t)*i;return Ee()(a)?r:Math.min(a,i-.01)})),V()(M()(e),"onMouseDown",(function(){document.addEventListener("mouseup",e.onMouseUp,!1);var t=e.props.paused;e.setState({play_after_seek_end:!t})})),V()(M()(e),"onMouseMove",(function(t){e.changeTime(t),e.props.updateVideoPlayerSeeking(!0),e.props.paused||e.props.onPause()})),V()(M()(e),"onMouseUp",(function(t){document.removeEventListener("mouseup",e.onMouseUp),e.changeTime(t),e.props.updateVideoPlayerSeeking(!1),e.state.play_after_seek_end&&e.props.onPlay(),e.setState({play_after_seek_end:!1})})),V()(M()(e),"getPercent",(function(){var t=e.props,n=t.currentTime,r=t.duration;return Math.min(n/r,1)})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.controlBarExpanded,r=t.currentTime,i=t.currentTrimRange,a=t.duration,o=t.fullScreen,c=t.inTrimMode,s=t.isMainVideoOnSharePage,l=t.localReactions,u=t.reactions,d=t.selectedTrimRange,m=t.useEmojis,f=t.isViewerInsightsActive,h=(100*this.getPercent()).toFixed(2);return p.a.createElement("div",{ref:function(t){return e.container=t},className:"video-player-seek-bar ".concat(c?"in-trim-mode":"")},p.a.createElement(St.a,{ref:function(t){return e.slider=t},getPercent:this.getPercent,label:"Video Progress",onBlur:this.onMouseUp,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,valueNow:h},p.a.createElement(et,{duration:a}),p.a.createElement(tt,{currentTime:r,inTrimMode:c}),s&&!c&&!o&&!f&&p.a.createElement(Ae,{duration:a}),s&&c&&p.a.createElement(wt,{duration:a}),s&&c&&null!=i&&p.a.createElement(mt,{getNewTime:this.getNewTime,onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp}),p.a.createElement(at,{controlBarExpanded:n}),!c&&!f&&m&&p.a.createElement(Ke,{reactions:u,localReactions:l,controlBarExpanded:n,containerDimensions:this.props.containerDimensions,animateReactions:this.props.animateReactions,currentTime:r,duration:a}),p.a.createElement(Et.ViewersInsightsTimeline,null)),p.a.createElement("div",{className:"seek-bar-background"}),s&&c&&null==i&&null==d&&p.a.createElement(Re,{getPercent:this.getPercent}))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"changeTime",value:function(e){var t=this.props,n=t.currentTime,r=t.currentTrimRange,i=t.duration,a=t.inTrimMode,o=t.trimRanges,c=this.getNewTime(e);a&&null==r&&(c=Object(ae.e)(Math.round(1e3*n),Math.round(1e3*c),Math.round(1e3*i),o,r,!0)/1e3),this.props.requestVideoPlayerCurrentTime(c)}}]),n}(f.Component),Nt=Object(h.connect)((function(e){var t=e.trimming,n=t.current_trim_range,r=t.in_trim_mode,i=t.selected_trim_range,a=t.trim_ranges,o=e.video_player,c=o.reactions,s=o.local_reactions,l=o.video.use_emojis,u=o.hide_reaction,d=o.animate_reactions,m=Object(xe.a)(e,_t.g);return{currentTrimRange:n,inTrimMode:r,selectedTrimRange:i,trimRanges:a,localReactions:s,reactions:c,hideReaction:u,animateReactions:d,useEmojis:l,isViewerInsightsActive:Object(le.b)(e),hasEngagementInsightsAccess:m}}),(function(e){return{requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},updateVideoPlayerSeeking:function(t){return e(Object(v.Z)(t))},updateVideoPlayerLocalReactions:function(t){return e(Object(v.K)(t))},onHideReaction:function(t){return e(Object(v.H)(t))}}}))(xt);n("nSHx");function Tt(e){return p.a.createElement(pe,{className:B()("step-back-five-button",{"crowded-embed":e.useEmojis&&!e.isMainVideoOnSharePage}),hoverTagText:"Step Back (j)",seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{color:"white",className:"control-bar-button-icon",icon:p.a.createElement(ue.SvgBack5,null)}))}n("4zWj");function Ot(e){return p.a.createElement(pe,{className:B()("step-forward-five-button",{"crowded-embed":e.useEmojis&&!e.isMainVideoOnSharePage}),hoverTagText:"Step Forward (l)",seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{color:"white",className:"control-bar-button-icon",icon:p.a.createElement(ue.SvgForward5,null)}))}n("mm4L");function It(e){var t=e.theaterMode?"Default Mode (t)":"Theater Mode (t)";return p.a.createElement(pe,{className:"video-player-theater-mode-button",hoverTagText:t,seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{color:"white",className:"control-bar-button-icon",icon:e.theaterMode?p.a.createElement(ue.SvgCrop169,null):p.a.createElement(ue.SvgCropExpanded169,null)}))}var Rt=n("dwPx");n("biP4");function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Pt=function(e){s()(n,e);var t=Dt(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.className,r=void 0===n?"":n,i=e.duration;return p.a.createElement("div",{className:B()("video-player-time-display",r)},p.a.createElement("span",null,Object(Rt.d)(Math.round(t))),p.a.createElement("span",{className:"divider"},"/"),p.a.createElement("span",null,Object(Rt.d)(Math.round(i))))}}]),n}(f.Component);function Ft(e){var t=e.transcriptVisible?"Close Transcript (n)":"Open Transcript (n)";return p.a.createElement(pe,{className:"video-player-transcript-button",hoverTagText:t,seeking:e.seeking,onClick:e.onClick},p.a.createElement(ue.Icon,{className:"control-bar-button-icon",color:"white",icon:p.a.createElement(ue.SvgNotes,null)}))}function jt(e){var t=e.muted?"Unmute (m)":"Mute (m)";return p.a.createElement(pe,{className:"video-player-volume-button",hoverTagText:t,seeking:e.seeking,onClick:e.onButtonClick},(e.muted||0===e.volume)&&p.a.createElement(ue.Icon,{color:"white",icon:p.a.createElement(ue.SvgVolumeX,null)}),e.volume<=.5&&!e.muted&&p.a.createElement(ue.Icon,{color:"white",icon:p.a.createElement(ue.SvgVolume1,null)}),e.volume>.5&&!e.muted&&p.a.createElement(ue.Icon,{color:"white",icon:p.a.createElement(ue.SvgVolume2,null)}))}n("iizX");var At=function(e){var t={width:e.percentage};return p.a.createElement(f.Fragment,null,p.a.createElement("div",{className:"slider-extended-background"}),p.a.createElement("div",{className:"video-player-volume-level",style:t},p.a.createElement("span",null)))};n("Q7no");function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Lt={onVolumeChange:ye.a.func},Vt=function(e){s()(n,e);var t=Mt(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"state",{movingSlider:!1,mouseEntered:!1}),V()(M()(e),"onMouseSliderMove",(function(t){if(e.setState({movingSlider:!0}),e.props.onVolumeChange){var n=e.slider.calculateDistance(t);e.props.onVolumeChange(n)}})),V()(M()(e),"onMouseSliderUp",(function(){e.setState({movingSlider:!1},(function(){e.state.mouseEntered||e.deactivate()}))})),V()(M()(e),"onMouseEnter",(function(){e.setState({mouseEntered:!0}),e.props.seeking||e.activate()})),V()(M()(e),"onMouseLeave",(function(){e.setState({mouseEntered:!1},(function(){e.state.movingSlider||e.deactivate()}))})),V()(M()(e),"activate",(function(){window.clearTimeout(e.deactivateAnimationTimeout),e.props.updateVideoPlayerVolumeControlActive(!0)})),V()(M()(e),"deactivate",(function(){e.deactivateAnimationTimeout=window.setTimeout((function(){e.props.updateVideoPlayerVolumeControlActive(!1)}),100)})),V()(M()(e),"getPercent",(function(){var t=e.props,n=t.muted,r=t.volume;return n?0:r})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.muted,r=t.onButtonClick,i=t.seeking,a=t.volume,o=this.state,c=o.mouseEntered,s=o.movingSlider,l=(100*a).toFixed(2),u=c&&!i;return p.a.createElement("div",{className:B()("video-player-volume-control",{hovered:u||s}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},p.a.createElement(jt,{muted:n,onButtonClick:r,volume:a}),p.a.createElement(St.a,{ref:function(t){return e.slider=t},getPercent:this.getPercent,label:"Volume Level",onMouseMove:this.onMouseSliderMove,onMouseUp:this.onMouseSliderUp,valueNow:l},p.a.createElement(At,null)))}}]),n}(f.Component);Vt.propTypes=Lt;var Ut=Object(h.connect)(null,(function(e){return{updateVideoPlayerVolumeControlActive:function(t){return e(Object(v.eb)(t))}}}))(Vt),Bt=n("9Yyx"),qt=n.n(Bt),Wt=function(){var e,t,n=Object(h.useDispatch)(),r=Object(f.useState)(""),i=me()(r,2),a=i[0],o=i[1],c=Object(f.useState)(""),s=me()(c,2),l=s[0],u=s[1],d=Object(h.useSelector)((function(e){return e.user.is_logged_in}));Object(f.useEffect)((function(){(l||e).focus()}));var m=B()(qt.a.commentBar,"theme-dark"),g=Object(h.useSelector)((function(e){return e.video_player.current_time})),b=d?qt.a.commentWrapper:qt.a.guestCommentWrapper;return p.a.createElement("div",{className:m},p.a.createElement("div",{className:b},p.a.createElement(ue.TextInput,{placeholder:"Leave a comment",onChange:function(e){return o(e.target.value)},ref:function(t){e=t},onFocus:function(){return u(e)}})),!d&&p.a.createElement(f.Fragment,null,p.a.createElement(ue.Spacer,{left:"1"}),p.a.createElement("div",{className:qt.a.nameWrapper},p.a.createElement(ue.TextInput,{placeholder:"Your name",ref:function(e){t=e},onFocus:function(){return u(t)}}))),p.a.createElement(ue.Spacer,{left:"1"}),p.a.createElement(ue.Button,{variant:"primary",isDisabled:!a.length,onClick:function(){n(Object(v.I)(!1)),n(Object(v.g)())}},"Comment at ",Object(Rt.d)(Math.round(g))),p.a.createElement(ue.Spacer,{left:"1"}),p.a.createElement(ue.Button,{onClick:function(){n(Object(v.I)(!1)),n(Object(v.g)())}},"Cancel"))},zt=n("8acj"),Gt=n("ElVk"),Ht=n("k6oI"),Jt=n("p/7Z");n("83cR");function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Kt=function(e){s()(n,e);var t=Qt(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"handleTogglePlay",(function(){e.props.paused?e.props.requestVideoPlayerPlay():e.props.requestVideoPlayerPause()})),V()(M()(e),"onStepForwardFive",(function(){e.props.requestVideoPlayerCurrentTime(e.props.currentTime+5)})),V()(M()(e),"onStepBackFive",(function(){e.props.requestVideoPlayerCurrentTime(e.props.currentTime-5)})),V()(M()(e),"handleTheaterModeClick",(function(){var t=e.props,n=t.currentUserIsOwner,r=t.theaterMode,i=t.inTrimMode,a=!i&&!r;n||(document.cookie="".concat(Gt.d," = ").concat(a,";")),e.props.updateTheaterMode(a,i),Q.h(W.td,{currentUserIsOwner:n,on:a})})),V()(M()(e),"handleToggleFullscreen",(function(){e.props.fullScreen?e.props.requestVideoPlayerLeaveFullScreen():e.props.requestVideoPlayerEnterFullScreen(),Q.h(W.Pb,{from_double_click:!1,full_screen:e.props.fullScreen})})),V()(M()(e),"handleToggleTranscript",(function(){e.props.fullScreen?(e.props.requestVideoPlayerLeaveFullScreen(),e.props.toggleTranscriptVisible(!0)):e.props.toggleTranscriptVisible(!e.props.transcriptVisible)})),V()(M()(e),"handleToggleMute",(function(){e.props.muted?e.props.requestVideoPlayerUnmute():e.props.requestVideoPlayerMute()})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.controlsActive,r=t.currentTime,i=t.currentUserIsOwner,a=t.duration,o=t.ended,c=t.fullScreen,s=t.inTrimMode,l=t.inCommentMode,u=t.isMainVideoOnSharePage,d=t.muted,m=t.paused,h=t.playbackRate,v=t.seeking,g=t.theaterMode,b=t.useEmojis,y=t.volume,k=t.volumeControlActive,_=t.isViewerInsightsActive,E=t.pipSupported,S=t.togglePictureInPicture,C=t.transcriptVisible,x=n||s||_,N=!s&&b&&u&&c||!u&&!o&&b,T=null,O=null,I=E&&!w.isElectron;s||(T=p.a.createElement(he,{fullScreen:c,seeking:v,onClick:this.handleToggleFullscreen}),O=p.a.createElement(we,{playbackRate:h,seeking:v,onRateChange:this.props.requestVideoPlayerPlaybackRate}));var R=p.a.createElement(f.Fragment,null,p.a.createElement("div",{className:"left-controls"},p.a.createElement(ge,{paused:m,onClick:this.handleTogglePlay,seeking:v}),p.a.createElement(Tt,{onClick:this.onStepBackFive,isMainVideoOnSharePage:u,seeking:v,useEmojis:b}),p.a.createElement(Ot,{onClick:this.onStepForwardFive,isMainVideoOnSharePage:u,seeking:v,useEmojis:b}),p.a.createElement(Ut,{muted:d,volume:y,seeking:v,onButtonClick:this.handleToggleMute,onVolumeChange:this.props.requestVideoPlayerVolume}),N&&p.a.createElement(Pt,{className:"next-to-volume",currentTime:r,duration:a})),!N&&p.a.createElement(Pt,{volumeControlActive:k,currentTime:r,duration:a}),N&&p.a.createElement(zt.a,{hideReaction:se.c,showCommentButton:!0}),p.a.createElement("div",{className:"right-controls"},O,u&&!s&&p.a.createElement(p.a.Fragment,null,p.a.createElement(Jt.a,{flag:Ht.J,activationValue:!0},p.a.createElement(Ft,{transcriptVisible:C,seeking:v,onClick:this.handleToggleTranscript})),p.a.createElement(It,{onClick:this.handleTheaterModeClick,theaterMode:g})),I&&p.a.createElement(ve,{onClick:S,seeking:v,useEmojis:b}),T));return p.a.createElement("div",{className:"video-player-control-bar-container"},p.a.createElement("div",{className:B()("control-bar",x&&"expanded"),ref:function(t){return e.controlBar=t}},p.a.createElement(Nt,{controlBarExpanded:x,currentTime:r,currentUserIsOwner:i,duration:a,isMainVideoOnSharePage:u,fullScreen:c,paused:m,onPause:this.props.requestVideoPlayerPause,onPlay:this.props.requestVideoPlayerPlay,containerDimensions:this.props.containerDimensions}),p.a.createElement("div",{className:"bottom-controls"},!l&&R,l&&p.a.createElement(Wt,null))),p.a.createElement("div",{className:B()("control-bar-gradient",{shown:!o&&x})}))}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"getControlBarEl",value:function(){return this.controlBar}}]),n}(f.Component),$t=Object(h.connect)((function(e){var t=e.video_player,n=t.controlsActive,r=t.current_time,i=t.current_user_is_owner,a=t.duration,o=t.full_screen,c=t.isMainVideoOnSharePage,s=t.muted,l=t.paused,u=t.playback_rate,d=t.seeking,m=t.theater_mode,f=t.volume_control_active,p=t.video,h=t.volume,v=t.pipSupported,g=t.transcriptVisible,b=t.in_comment_mode;return{controlsActive:n,currentTime:r,currentUserIsOwner:i,duration:a,fullScreen:o,inTrimMode:e.trimming.in_trim_mode,inCommentMode:b,isMainVideoOnSharePage:c,muted:s,paused:l,playbackRate:u,seeking:d,theaterMode:m,useEmojis:p.use_emojis,volume:h,volumeControlActive:f,isViewerInsightsActive:Object(le.b)(e),pipSupported:v,transcriptVisible:g}}),(function(e){return{requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},updateTheaterMode:function(t,n){return e(Object(v.t)(t,n))},requestVideoPlayerEnterFullScreen:function(){return e(Object(v.c)())},requestVideoPlayerLeaveFullScreen:function(){return e(Object(v.d)())},requestVideoPlayerMute:function(){return e(Object(v.e)())},requestVideoPlayerPause:function(){return e(Object(v.f)())},requestVideoPlayerPlay:function(){return e(Object(v.g)())},requestVideoPlayerPlaybackRate:function(t){return e(Object(v.h)(t))},requestVideoPlayerVolume:function(t){return e(Object(v.k)(t))},requestVideoPlayerUnmute:function(){return e(Object(v.j)())},toggleTranscriptVisible:function(t){return e(Object(v.m)(t))}}}),null,{forwardRef:!0})(Kt),Yt=n("t7Qn"),Xt=n("ZhMd"),Zt=n("AWAm"),en=n("6c1L"),tn=n("PIJk"),nn=(n("z36Y"),function(e){var t=e.onWatchAgainClick;return p.a.createElement(Jt.a,{flag:Ht.L,activationValue:!0},p.a.createElement("div",{className:"end-screen-record-video-reply-button"},p.a.createElement(tn.b,{isVideoReply:!0,label:"Record a Reply",buttonSize:"large",menuPosition:"bottom",location:"end-screen"}),p.a.createElement(on,{onWatchAgainClick:t})))}),rn=function(e){var t=e.onWatchAgainClick,n=e.onCTAClick,r=e.videoId;return Object(f.useEffect)((function(){Q.h(W.hd,{cta_type:"large-cta",video_id:r,from_url:window.location.href})}),[r]),p.a.createElement("div",{className:"install"},p.a.createElement(Jt.a,{flag:Ht.i,activationValue:"show-old"},p.a.createElement("h3",{className:"static-cta"},"Get Loom to become faster than typing")),p.a.createElement(Jt.a,{flag:Ht.i,activationValue:"show-new"},p.a.createElement("h3",{className:"static-cta"},"Reply now with a Loom of your own")),p.a.createElement(en.a,{buttonType:"rp-primary-2",value:"Get Loom For Free",onClicked:n}),p.a.createElement("a",{target:"_blank",href:"/"},"go to loom.com"),p.a.createElement(on,{onWatchAgainClick:t}))},an=function(e){var t=e.onWatchAgainClick,n=e.onCTAClick,r=e.videoId;return Object(f.useEffect)((function(){Q.h(W.hd,{cta_type:"loom-greetings-cta",video_id:r,from_url:window.location.href})}),[r]),p.a.createElement("div",{className:B()("video-player-end-screen","large-cta")},p.a.createElement("div",{className:"install"},p.a.createElement("h3",{className:"static-cta"},"Send a message just like this one"),p.a.createElement(en.a,{buttonType:"rp-primary-2",value:"Loom Greetings",onClicked:n}),p.a.createElement("a",{target:"_blank",href:H.q,rel:"noopener noreferrer"},"go to loom.com/greetings"),p.a.createElement(on,{onWatchAgainClick:t})))},on=function(e){var t=e.onWatchAgainClick;return p.a.createElement("div",{className:"watch-again-cta",onClick:t},p.a.createElement("div",{className:"watch-again-icon"}),p.a.createElement("div",null,"Watch Again"))},cn=function(e){var t=e.commentsEnabled,n=e.ctaEnabled,r=e.editVideoButtons,i=e.fromPublicSharePage,a=e.isInlineEmbedOnLoom,o=e.isLoggedIn,c=e.isLoomGreeting,s=e.isMainVideoOnSharePage,l=e.loomBrandedPlayer,u=e.videoId,d=Object(f.useState)(!1),m=me()(d,2),h=m[0],v=m[1],g=Object(f.useState)(!1),b=me()(g,2),y=b[0],k=b[1];Object(f.useEffect)((function(){v(!0),function(){var e=j()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,new Promise((function(e){return Object(Yt.c)(e)}));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var w=Object(Xt.a)({flag:Ht.L,activationValue:!1}),_=function(t){t.stopPropagation(),Q.h(W.Yd,{video_id:u}),e.onRequestCurrentTime(0),e.onRequestPlay()},E=function(e){e.stopPropagation(),Q.h(W.ld,{source:"End of video",from_public_share_page:i,is_inline_embed_on_loom:a,video_id:u,isLoomGreeting:c,from_url:window.location.href}),window.open(c?H.q:H.S,"_blank")};if(c)return p.a.createElement(an,{onWatchAgainClick:_,onCTAClick:E,videoId:u});var S=!y&&!o&&l;if(!h)return null;var C=o&&s&&t;return p.a.createElement("div",{className:B()("video-player-end-screen",n&&"has-custom-cta",S&&w&&"large-cta")},!n&&C&&p.a.createElement(nn,{onWatchAgainClick:_}),n&&p.a.createElement(Zt.a,{onClick:e.onCustomCTAClick}),(n||!n&&!C&&!w)&&p.a.createElement(on,{onWatchAgainClick:_}),w&&p.a.createElement("div",null,!S&&!n&&p.a.createElement(on,{onWatchAgainClick:_}),!n&&S&&!c&&p.a.createElement(rn,{onWatchAgainClick:_,onCTAClick:E,videoId:u})),r&&p.a.createElement("div",{className:"absolute top:medium left:medium text:left"},r))},sn=n("PXdq");n("Cx20");function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var un=function(e){s()(n,e);var t=ln(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"state",{ownerPinged:!1}),V()(M()(e),"goToLoom",(function(){return window.location.pathname=H.N})),V()(M()(e),"pingOwner",(function(){e.props.sendInactiveVideoOwnerPing(),e.setState({ownerPinged:!0})})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.ownerName,n=void 0===t?"the owner":t,r=e.ThumbDiv,i=void 0===r?"":r,a=p.a.createElement(f.Fragment,null,p.a.createElement("div",{className:"inactive-video-modal-title"},"This video is currently inactive."),p.a.createElement("div",{className:"inactive-video-modal-content"},"We'll let ".concat(n," know you'd like to watch their video.")),p.a.createElement("div",{className:"inactive-video-modal-actions"},p.a.createElement(en.a,{onClicked:this.pingOwner,buttonType:"rp-primary-2",value:"Yes! Let them know."}),p.a.createElement("a",{href:H.A,className:"inactive-video-modal-goto"},"go to loom.com"))),o=p.a.createElement(f.Fragment,null,p.a.createElement("div",{className:"inactive-video-modal-title"},"Thanks!"),p.a.createElement("div",{className:"inactive-video-modal-content"},"Your request is on its way! "),p.a.createElement("div",{className:"inactive-video-modal-actions"},p.a.createElement(en.a,{onClicked:this.goToLoom,buttonType:"rp-primary-2",value:"Go to loom.com"})));return p.a.createElement("div",{className:"video-player-container"},i,p.a.createElement(sn.a,{showClose:!1,dark:!0,show:!0},this.state.ownerPinged?o:a))}}]),n}(f.Component),dn=Object(h.connect)(null,(function(e){return{sendInactiveVideoOwnerPing:function(){return e(Object(J.e)())}}}))(un),mn=n("wv65"),fn=n("AgWB"),pn=n.n(fn),hn=n("/TyM");n("3qKi");function vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var gn=function(e,t){return Object(mn.getGraphQLClient)().query({query:pn.a,variables:{videoId:e,password:t}}).then((function(e){return e.data.isValid}))},bn=function(e){s()(n,e);var t=vn(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onPasswordEnter=r.onPasswordEnter.bind(M()(r)),r.updatePassword=r.updatePassword.bind(M()(r)),r.state={error:null,password:""},r}return o()(n,[{key:"render",value:function(){var e=null!=this.state.error?"error":"";return p.a.createElement("div",{className:"video-player-password-modal-container"},p.a.createElement("div",{className:"video-player-password-modal"},p.a.createElement("h4",null,"This video is private"),p.a.createElement(hn.a,{onChange:this.updatePassword,onEnter:this.onPasswordEnter,fieldLabel:"Enter Password",fieldId:"password",fieldType:"password",fieldValue:this.state.password,inputClass:"new-style",isRequired:!0,severity:e,status:this.state.error}),p.a.createElement(en.a,{buttonType:"rp-primary-2",buttonClass:"password-button",value:"Enter",onClicked:this.onPasswordEnter})))}},{key:"updatePassword",value:function(e){this.setState({password:e})}},{key:"onPasswordEnter",value:function(){var e=j()(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({error:null}),t=this.props.videoId,n=this.state.password,e.next=6,gn(t,n);case 6:if(e.sent){e.next=9;break}return e.abrupt("return",this.setState({error:"Wrong Password"}));case 9:this.props.onPassword(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),_.d(e.t0,"error checking password for video"),this.setState({error:"Wrong Password"});case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()}]),n}(f.Component),yn=n("NSnw"),kn=n("va4D"),wn=n.n(kn);n("6nUO");function _n(){var e=Object(h.useSelector)((function(e){return e.video_player})),t=e.full_screen,n=e.theater_mode,r=e.playback_rate;return p.a.createElement("div",{className:B()("play-screen-speed-selector-container",(n||t)&&"large-format")},p.a.createElement("div",{className:"button-indicator-container"},p.a.createElement("div",{className:"relative-indicator-el"},p.a.createElement("div",{className:"button-indicator-".concat(ne.a.indexOf(r))}))),ne.b.map((function(e){return p.a.createElement("div",{key:e.rate,className:B()("speed-button",r==e.rate&&"speed-button-selected"),onClick:function(t){return function(e,t){e.stopPropagation(),Q.h(W.sd,{rate:t}),te.b.dispatch(Object(v.h)(t))}(t,e.rate)}},e.display)})))}var En=n("Ov95");n("A4PV");function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Cn=function(e){s()(n,e);var t=Sn(n);function n(e){var r;return i()(this,n),r=t.call(this,e),V()(M()(r),"state",{isLoading:!1}),r.onClick=r.onClick.bind(M()(r)),r}return o()(n,[{key:"render",value:function(){var e=this,t=this.state.isLoading,n=this.props,r=n.editVideoButtons,i=n.fullScreen,a=n.theaterMode;return p.a.createElement(Er.Consumer,null,(function(n){var o=n.hideSpeedSelector;return p.a.createElement("div",{className:B()("video-player-play-screen",t&&"is-loading",(a||i)&&"large-format"),onClick:e.onClick},p.a.createElement("div",{className:"button-container"},p.a.createElement("div",{className:"big-play-button"},!t&&p.a.createElement(wn.a,{svg:String('\n<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M40.3331 73.6667C58.7426 73.6667 73.6664 58.7428 73.6664 40.3333C73.6664 21.9238 58.7426 7 40.3331 7C21.9236 7 6.99976 21.9238 6.99976 40.3333C6.99976 58.7428 21.9236 73.6667 40.3331 73.6667Z" fill="white" stroke="white" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n  <path opacity="0.6" d="M35 29L51 39.6667L35 50.3333V29Z" fill="#222222" stroke="#222222" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n')}),t&&p.a.createElement(En.a,{color:"var(--brandThemedBigPlayButtonIconColor, black)"})),p.a.createElement("div",{className:"relative-el"},!o&&p.a.createElement(_n,null))),e.props.duration>0&&p.a.createElement("p",{className:"play-screen-duration"},Object(Rt.b)(e.props.duration)),r&&p.a.createElement("div",{className:"absolute top:medium left:medium"},r))}))}},{key:"onClick",value:function(){this.props.onPlay&&(this.setState({isLoading:!0}),this.props.onPlay())}}]),n}(f.Component),xn=(n("E9XD"),n("BkRI")),Nn=n.n(xn),Tn=n("wd/R"),On=n.n(Tn),In=("".concat("upload-progress","-packetsReceived"),"".concat("upload-progress","-packetsTotal"),n("0Dql")),Rn=function(){function e(t){var n=this;i()(this,e),this.websocket=new WebSocket(t),this.messageQueue=[],this.closeCode=null,this.onErrorHandler=null,this.close=this.close.bind(this),this.websocket.onclose=function(e){var t=e.code;if(n.closeCode=t,1e3!==t){n.websocket=null;var r=Error("".concat("websocket bad close code",": ").concat(t));null!=n.onErrorHandler&&n.onErrorHandler(r,{code:t})}}}return o()(e,[{key:"ready",value:function(e){var t=this;this.websocket.onopen=function(){e(),window.addEventListener("beforeunload",t.close),window.addEventListener("unload",t.close)}}},{key:"onError",value:function(e){this.onErrorHandler=e}},{key:"onMessage",value:function(e){this.websocket.onmessage=e}},{key:"closedFromServerError",value:function(){return 1006===this.closeCode||1001===this.closeCode}},{key:"send",value:function(e){var t=this;if(null!=this.websocket){if(!window.navigator.onLine)return this.messageQueue.push(e),void In.g("no network connection",{queueLength:this.messageQueue.length});this.messageQueue.length>0&&(In.d("draining websocket message queue"),this.messageQueue.forEach((function(e){t.websocket.send(e)})),this.messageQueue=[]),this.websocket.send(e)}}},{key:"close",value:function(){null!=this.websocket&&(this.websocket.close(1e3),window.removeEventListener("beforeunload",this.close),window.removeEventListener("unload",this.close)),this.websocket=null}}]),e}();n("BEer");function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Pn=["Luna is polishing your trims, give her a few minutes, she's still getting used to this!","Luna is working hard to trim your video. She's getting a big treat for this one.","Luna loves you in this video. Your viewers will too!","Luna has your video in post-production. Trust us, it's in good paws.","Luna is stitching the frames together. Not easy without opposable thumbs.","Luna's working hard on your video. She's up for a promotion soon!","Luna loves what you've done with the video. Two paws way up!","Luna heard your voice while trimming the video. She thinks it's lovely.",'Your video\'s in "Paws-t" production, hang in there!',"Lunas working as fast as she can. Shell be done in two shakes of her tail.","Luna is snipping at your video, please be patient!","Luna is paws-itive your video will be done soon!","Luna wants to be taken for walk while waiting for your video to be trimmed."],Fn=function(e){s()(r,e);var t=Dn(r);function r(e){var n;i()(this,r),(n=t.call(this,e)).timeLeftInterval=null,n.websocket=null;var a=e.processingInformation.trim_ranges,o=a.reduce((function(e,t){return e+(t.to-t.from)}),0),c=1e3*e.duration-o;return n.totalEstimatedTime=200*a.length+.5*c,n.state={current_progress:e.trimProgress,finalizing:!1,luna_update:"Waiting on Luna to start trimming. She's wrapping up another trim right now.",time_left:n.getTimeLeftRaw(e.trimProgress),websocket_retries:0,websocket_retrying:!1},n}return o()(r,[{key:"render",value:function(){var e=this.state.current_progress,t=this.state.websocket_retrying,r=this.state.time_left,i={height:"".concat(e||0,"%")},a=null,o=null;if(null!=r&&!t){var c=On.a.duration(r),s=c.minutes(),l=c.seconds(),u="".concat(l," sec remaining");s>0&&(u="".concat(s," min ").concat(u)),a=p.a.createElement("p",{className:"time-remaining mobile"},u),o=p.a.createElement("p",{className:"time-remaining desktop"},u)}var d=this.state.luna_update;return t&&(d="Grrr Luna seems to have run off. Don't worry - we'll find her!"),p.a.createElement("div",{className:"video-player-trim-progress-panel"},p.a.createElement("span",{className:"progress-fill",style:i}),p.a.createElement("div",{className:"luna-flex-container"},p.a.createElement("div",{className:"luna-container"},p.a.createElement("img",{className:"luna-head",src:n("BiRy")}),p.a.createElement("img",{className:"luna-body",src:n("EoSf")}),p.a.createElement("p",{className:"luna-update"},d),a)),o)}},{key:"componentDidUpdate",value:function(){var e=j()(P.a.mark((function e(){var t,n,r,i,a,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.current_progress,!t.finalizing&&100===n){e.next=3;break}return e.abrupt("return");case 3:return this.setState({finalizing:!0}),e.next=6,new Promise((function(e){return window.setTimeout(e,1e3)}));case 6:r=this.props,i=r.isMainVideoOnSharePage,a=r.video,(o=Nn()(a)).processing_information.trim_progress=100,i&&window.top.postMessage({type:g.k,processing_information:o.processing_information},"*"),this.props.updateVideoCreator(o);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setupUpdateSocket()}},{key:"componentWillUnmount",value:function(){null!=this.websocket&&this.websocket.close(),window.clearInterval(this.timeLeftInterval)}},{key:"getTimeLeftRaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(100-e)/100*this.totalEstimatedTime}},{key:"getTimeLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state||{},n=t.current_progress,r=null!=e?e:n;if(null===r)return null;var i=this.getTimeLeftRaw(r);return i=Math.max(i,0),null!=this.state.time_left&&(i=Math.min(i,this.state.time_left)),i}},{key:"setupUpdateSocket",value:function(){var e=j()(P.a.mark((function e(){var t,n,r,i=this;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.state.websocket_retries)>0)){e.next=4;break}return e.next=4,new Promise((function(e){window.setTimeout(e,2e3*Math.pow(2,Math.max(t,4)))}));case 4:n=this.props.videoId,this.websocket=new Rn(H.B+"/hermes/subscriptions"),this.websocket.ready((function(){i.setState({websocket_retries:0,websocket_retrying:!1}),i.websocket.send(JSON.stringify({type:"subscribe",subscription_data:{type:"trim-progress",video_id:n}}))})),r=!1,this.websocket.onMessage((function(e){var t=e.data,n=JSON.parse(t),a=n.progress,o={current_progress:n.progress,time_left:i.getTimeLeft(n.progress)};null==a||r||(r=!0,o.luna_update=Pn[Math.floor(Math.random()*Pn.length)],i.timeLeftInterval=window.setInterval((function(){i.setState({time_left:Math.max(i.state.time_left-1e3,0)})}),1500)),i.setState(o)})),this.websocket.onError((function(){var e=i.state.websocket_retries;i.setState({websocket_retrying:!0,websocket_retries:e+1}),i.setupUpdateSocket()}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(f.Component),jn=Object(h.connect)((function(e){var t=e.video_player,n=t.video,r=t.isMainVideoOnSharePage,i=n.processing_information,a=i.trim_progress,o=n.id;return{duration:n.video_properties.duration,processingInformation:i,trimProgress:a,videoId:o,video:n,isMainVideoOnSharePage:r}}),(function(e){return{updateVideoCreator:function(t){return e(Object(J.i)(t))}}}))(Fn),An=n("ulZh"),Mn=n.n(An),Ln=n("BUGv"),Vn=n.n(Ln),Un=n("Pyar"),Bn=n.n(Un),qn=n("DauL"),Wn=2,zn=4,Gn=n("Oo4i"),Hn=n("74cY"),Jn=n("zKPj"),Qn=n("ilyl"),Kn=n("p9ZL"),$n=n("FIr0");n("KWg3");function Yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Xn={onDimensionChange:ye.a.func,onDurationChange:ye.a.func,onEnded:ye.a.func,onError:ye.a.func,onMute:ye.a.func,onNotWaiting:ye.a.func,onPause:ye.a.func,onPlay:ye.a.func,onPlaying:ye.a.func,onProgress:ye.a.func,onRateChange:ye.a.func,onTimeUpdate:ye.a.func,onUnmute:ye.a.func,onVolumeChange:ye.a.func,onWaiting:ye.a.func},Zn=function(e){s()(n,e);var t=Yn(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"hlsInstance",null),V()(M()(e),"dashInstance",null),V()(M()(e),"onVisibilityChangeListener",null),V()(M()(e),"timeUpdateInterval",null),V()(M()(e),"hasStartedLoading",!1),V()(M()(e),"canPlay",!1),V()(M()(e),"state",{numSrcRetries:0,numDecodeRetries:0,autoResumeFromTime:0,timeWatched:0,timeWatchedForDurationEvent:0,viewTracked:!1,videoTouchedOnMobile:!1}),V()(M()(e),"onSafariPipChange",(function(){e.props.updateSafariPipEnabled("picture-in-picture"===e.video.webkitPresentationMode)})),V()(M()(e),"onEnterChromePip",(function(){e.props.updateChromePipEnabled(!0)})),V()(M()(e),"onExitChromePip",(function(){e.props.updateChromePipEnabled(!1)})),V()(M()(e),"handleMobileVideoTouch",(function(){w.isMobile&&(e.setState({videoTouchedOnMobile:!0}),e.mobileTouchTimeout=window.setTimeout((function(){return e.setState({videoTouchedOnMobile:!1})}),2e3))})),V()(M()(e),"onLoadStartHandler",(function(){var t=e.state.autoResumeFromTime;e.props.isMainVideoOnSharePage?(e.props.updateShareVideoPlayerReady(!0),e.props.updateShareVideoIframeLoaded(!0)):e.setupPlayerJsAdapter(),t&&(e.video.currentTime=t,e.video.play(),e.setState({autoResumeFromTime:0}))})),V()(M()(e),"setupPlayerJsAdapter",(function(){Bn.a.HTML5Adapter(e.video).ready()})),V()(M()(e),"onCanPlay",(function(){e.canPlay=!0,e.checkRequestedMutations()})),V()(M()(e),"onCanPlayThrough",(function(){e.onProgress()})),V()(M()(e),"onClick",(function(t){t.preventDefault(),e.video.paused?e.video.play().catch((function(){})):e.video.pause()})),V()(M()(e),"onContextMenu",(function(e){return e.preventDefault(),!1})),V()(M()(e),"onDimensionChange",(function(t,n){e.props.onDimensionChange&&e.props.onDimensionChange(t,n)})),V()(M()(e),"onDurationChange",(function(){e.props.onDurationChange&&e.props.onDurationChange(e.video.duration)})),V()(M()(e),"onSeekage",(function(t){var n=e.video.currentTime;Math.abs(t-n)<1||(S.a.sendEvent("pause",{currentTime:n}),S.a.sendEvent("play",{currentTime:t}))})),V()(M()(e),"onEnded",(function(){e.trackVideoViewEvent(),S.a.sendEvent("ended"),e.props.onEnded&&e.props.onEnded()})),V()(M()(e),"onCtaClick",(function(){var t=e.video.currentTime;S.a.sendEvent("cta",{currentTime:t})})),V()(M()(e),"retryVideoPlaybackSrcError",(function(t){var n=e.state.numSrcRetries,r=e.props,i=r.sourceMimeType,a=r.videoModel;if(n>=3){if(![qn.i,qn.f,qn.d].includes(i))return Object(In.e)(Error("Embed Video MediaSrc Error"),{message:"error fetching video src"},{error_code:t,video_id:a.s3_id,video_type:i});e.loadFallbackSource()}window.setTimeout((function(){var t=e.video.currentTime;e.setState({numSrcRetries:n+1}),e.video.pause(),e.video.load(),e.setCurrentTime(t),e.video.play().catch((function(){}))}),100*Math.pow(2,n))})),V()(M()(e),"retryVideoPlaybackDecodeError",(function(){var t=e.state.numDecodeRetries,n=e.props,r=n.sourceMimeType,i=n.videoModel;if(t>=5)return Object(In.e)(Error("Embed Video Decode Error"),{message:"error decoding video"},{error_code:3,video_id:i.s3_id,video_type:r});var a=e.video.currentTime;e.setState({autoResumeFromTime:a,numDecodeRetries:t+1}),e.loadFallbackSource()})),V()(M()(e),"onError",(function(){var t=(e.video.error||{}).code;if((e.props.videoModel.active_status||t!==zn)&&(t!==zn||!w.isFirefox||e.props.sourceMimeType!==qn.d)){if(e.props.onError&&e.props.onError(),e.props.sourceUrl.indexOf("-streamed.webm")>-1){var n=e.video.currentTime;return e.loadFallbackSource().then((function(){e.setCurrentTime(n),e.video.play().catch((function(){}))}))}[Wn,zn].includes(t)?e.retryVideoPlaybackSrcError(t):3===t&&e.retryVideoPlaybackDecodeError()}})),V()(M()(e),"loadFallbackSource",(function(){if(e.dashInstance&&(e.dashInstance.reset(),e.dashInstance=null),!e.loadingFallback)return e.loadingFallback=!0,new Promise((function(t,n){var r=e.props.onRefetchSource;try{r()}catch(t){return void function(t){var r=e.props,i=r.videoModel,a=r.sourceMimeType;Object(In.e)(t,{message:"error loading fallback source"},{video_id:i.s3_id,video_type:a}),e.loadingFallback=!1,n(t)}(t)}setTimeout((function(){!function(){e.video.pause(),e.video.load(),e.video.play()}(),e.loadingFallback=!1,t()}),200)}))})),V()(M()(e),"onLoadedMetadata",(function(){e.video.videoWidth>0&&e.video.videoHeight>0&&e.onDimensionChange(e.video.videoWidth,e.video.videoHeight),e.onDurationChange(),S.a.sendEvent("ready",{duration:e.video.duration})})),V()(M()(e),"onPlay",(function(){!e.hlsInstance||e.hlsInstance.config.autoStartLoad||e.hasStartedLoading||(e.hlsInstance.startLoad(-1),e.hasStartedLoading=!0),e.props.onPlay&&e.props.onPlay();var t=e.video.currentTime;S.a.sendEvent("play",{currentTime:t}),Q.h(W.Fd,{currentTime:t,videoId:e.props.videoModel.id})})),V()(M()(e),"onPause",(function(){e.props.onPause&&e.props.onPause();var t=e.video.currentTime;S.a.sendEvent("pause",{currentTime:t}),e.video.readyState>=3&&e.props.onNotWaiting&&e.props.onNotWaiting()})),V()(M()(e),"onProgress",(function(){if(e.props.onProgress){var t=e.getBufferedParts();e.props.onProgress(t)}})),V()(M()(e),"onRateChange",(function(){e.props.onRateChange&&e.props.onRateChange(e.video.playbackRate);var t=e.video,n=t.currentTime,r=t.playbackRate;S.a.sendEvent("rate-change",{currentTime:n,playbackRate:r}),Q.h(W.oc,{playbackRate:r,currentTime:n,videoId:e.props.videoModel.id})})),V()(M()(e),"onTimeUpdate",Ce()((function(){var t=e.props,n=t.currentTime,r=t.currentTrimRange,i=t.inTrimMode,a=t.seeking,o=t.trimRanges,c=t.videoModel;if(null!=e.video){var s=Math.round(1e3*e.video.currentTime)-Math.round(1e3*n);if(!c.current_user_is_owner&&!i&&!e.state.viewTracked&&!a&&s>0){e.setState({timeWatched:e.state.timeWatched+s});var l=e.state.timeWatched/(1e3*e.video.duration);(e.state.timeWatched>=1e3||l>=.75)&&e.trackVideoViewEvent()}if(!i&&!a&&s>0&&e.setState({timeWatchedForDurationEvent:e.state.timeWatchedForDurationEvent+s}),!i||a||0===o.length)return e.props.onTimeUpdate(e.video.currentTime);var u=Object(ae.e)(Math.round(1e3*n),Math.round(1e3*e.video.currentTime),Math.round(1e3*e.video.duration),o,r);if(u===Math.round(1e3*e.video.currentTime))return e.props.onTimeUpdate(e.video.currentTime);e.setCurrentTime(u/1e3)}}),30)),V()(M()(e),"onVolumeChange",(function(){e.props.onVolumeChange&&e.props.onVolumeChange(e.video.volume);var t=e.video,n=t.currentTime,r=t.volume;S.a.sendEvent("volume-change",{currentTime:n,volume:r}),(e.video.muted||0===e.video.volume)&&e.props.onMute?e.props.onMute():e.video.volume>0&&e.props.onUnmute&&e.props.onUnmute()})),V()(M()(e),"onVisibilityChange",(function(t){t||e.onUnload()})),V()(M()(e),"onUnload",(function(){e.flushVideoViewDurationEvent()})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoplay,r=t.ctaEnabled,i=t.editVideoButtons,a=t.ended,o=t.flippedCamera,c=t.hasStarted,s=t.isCameraRecording,l=t.isMainVideoOnSharePage,u=t.paused,d=t.sourceMimeType,m=t.sourceUrl,f=t.chromePipEnabled,h=t.safariPipEnabled,v=m;m&&d===qn.f&&!Object(Qn.a)()&&(v=null);var g=o&&s&&!f&&!h;return p.a.createElement("div",{className:B()("video-player-video-container",{mobile:w.isMobile,"is-embed":!l})},p.a.createElement("video",{className:B()("video-player-video",{"flip-video":g}),controls:c&&!a&&w.isMobile,controlsList:"nodownload",autoPlay:n,ref:function(t){return e.video=t},playsInline:!0,preload:"auto",src:v,onCanPlay:this.onCanPlay,onCanPlayThrough:this.onCanPlayThrough,onContextMenu:this.onContextMenu,onClick:this.onClick,onDoubleClick:this.props.onDoubleClick,onDurationChange:this.onDurationChange,onEnded:this.onEnded,onError:this.onError,onLoadedMetadata:this.onLoadedMetadata,onLoadStart:this.onLoadStartHandler,onPause:this.onPause,onPlay:this.onPlay,onPlaying:this.props.onPlaying,onProgress:this.onProgress,onRateChange:this.onRateChange,onTimeUpdate:this.onTimeUpdate,onVolumeChange:this.onVolumeChange,onTouchStart:this.handleMobileVideoTouch,onWaiting:this.props.onWaiting,tabIndex:"-1"}),i&&c&&!a&&l&&p.a.createElement("div",{className:B()("absolute top:small left:small p:small radius:medium edit-video-buttons-backdrop",{show:u||this.state.videoTouchedOnMobile})},i),r&&c&&!a&&p.a.createElement("div",{className:B()("hover-cta-wrapper",{show:u||this.state.videoTouchedOnMobile,"embed-top-bar-showing":this.props.showEmbedTopBar,"is-embed":!l})},p.a.createElement(Zt.a,{onClick:this.onCtaClick})))}},{key:"setupPipObservers",value:function(){var e=document.pictureInPictureEnabled,t=this.video.webkitSupportsPresentationMode&&"function"==typeof this.video.webkitSetPresentationMode;this.props.updatePipSupported(e||t),this.video.addEventListener("enterpictureinpicture",this.onEnterChromePip),this.video.addEventListener("leavepictureinpicture",this.onExitChromePip),this.video.addEventListener("webkitpresentationmodechanged",this.onSafariPipChange)}},{key:"removePipObservers",value:function(){this.video.removeEventListener("enterpictureinpicture",this.onEnterChromePip),this.video.removeEventListener("leavepictureinpicture",this.onExitChromePip),this.video.removeEventListener("webkitpresentationmodechanged",this.onSafariPipChange)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isMainVideoOnSharePage,n=e.videoModel,r=e.source_part_credentials,i=e.sourceMimeType;this.checkRequestedMutations(),t&&n.current_user_is_owner&&window.top.postMessage({type:g.v},"*"),window.addEventListener("beforeunload",this.onUnload),window.addEventListener("unload",this.onUnload),w.isMobile&&(document.addEventListener("pagehide",this.onUnload),this.onVisibilityChangeListener=Object($.a)(this.onVisibilityChange)),i===qn.d?this.checkAndCreateDashInstance(r):i===qn.f&&this.checkAndCreateHlsInstance(),this.setupPipObservers()}},{key:"componentWillUnmount",value:function(){this.clearTimeUpdateInterval(),window.removeEventListener("beforeunload",this.onUnload),window.removeEventListener("unload",this.onUnload),document.removeEventListener("pagehide",this.onUnload),this.video&&this.mobileTouchTimeout&&window.clearTimeout(this.mobileTouchTimeout),Object($.b)(this.onVisibilityChangeListener),this.removePipObservers()}},{key:"componentDidUpdate",value:function(e){this.checkRequestedMutations();var t=this.video,n=t.ended,r=t.paused,i=t.seeking;!S.a.videoRef&&this.video&&S.a.setVideoRef(this.video),null==this.timeUpdateInterval||i||!n&&!r?null!=this.timeUpdateInterval||!i&&(n||r)||this.setupTimeUpdateInterval():this.clearTimeUpdateInterval(),!e.sourceUrl&&this.props.sourceUrl&&(this.props.sourceMimeType===qn.d?this.checkAndCreateDashInstance(this.props.source_part_credentials):this.checkAndCreateHlsInstance())}},{key:"checkAndCreateDashInstance",value:function(e){var t=this,n=this.props.sourceUrl;n&&Object(Hn.c)()&&(this.dashInstance&&this.dashInstance.reset(),this.dashInstance=Object(Hn.a)(n,this.video,e),this.dashInstance.on("error",(function(e){var n=t.props,r=n.videoModel,i=n.sourceMimeType;Object(In.e)(e.error||e,{message:"error from dash.js"},{video_id:r.s3_id,video_type:i}),t.loadFallbackSource()})))}},{key:"checkAndCreateHlsInstance",value:function(){var e=this.props,t=e.sourceUrl,n=e.sourceMimeType,r=e.isMainVideoOnSharePage,i=e.sendHlsPlaybackStatsValue,a=e.videoSourceHlsUrl;if(t&&n===qn.f){var o="hls raw",c="hls transcoded",s="hls unknown";(null==a?void 0:a.includes("sessions/raw"))?s=o:(null==a?void 0:a.includes("sessions/transcoded"))&&(s=c),Object(Qn.k)()&&(this.hlsInstance=Object(Jn.a)(t,this.video,r),i&&Vn.a.monitor(this.video,{debug:!1,hlsjs:this.hlsInstance,Hls:Mn.a,data:{env_key:Gn.o,sub_property_id:s}}))}}},{key:"setCurrentTime",value:function(e){try{this.video.currentTime=e}catch(e){console.warn("could not set current time ".concat(e))}}},{key:"setupTimeUpdateInterval",value:function(){this.timeUpdateInterval=window.setInterval(this.onTimeUpdate,30)}},{key:"clearTimeUpdateInterval",value:function(){window.clearInterval(this.timeUpdateInterval),this.timeUpdateInterval=null}},{key:"checkRequestedMutations",value:function(){var e=this,t=this.props,n=t.requestCurrentTime,r=t.requestMute,i=t.requestPause,a=t.requestPlay,o=t.requestPlaybackRate,c=t.requestUnmute,s=t.requestVolume;null!=s&&(this.video.muted=0===s,this.video.volume=s),i&&a&&this.video.play().then((function(){return e.video.pause()})).catch((function(){})),i&&null!=this.video.pause?this.video.pause():a&&null!=this.video.play&&this.video.play().catch((function(){})),r?this.video.muted=!0:c&&(this.video.muted=!1,0===this.video.volume&&(this.video.volume=1)),null!=n&&(this.onSeekage(n),this.setCurrentTime(n)),null!=o&&(this.video.playbackRate=o)}},{key:"getBufferedParts",value:function(){for(var e=this.video.buffered,t=[],n=0;n<e.length;n+=1)t.push({end:e.end(n),start:e.start(n)});return t}},{key:"trackVideoViewEvent",value:function(){this.state.viewTracked||(this.setState({viewTracked:!0}),this.props.onTrackVideoView())}},{key:"flushVideoViewDurationEvent",value:function(){var e=this.state.timeWatchedForDurationEvent;e>0&&(this.props.onTrackVideoWatchDuration(Math.round(e/1e3)),this.setState({timeWatchedForDurationEvent:0}))}}]),n}(f.Component);Zn.propTypes=Xn;var er=Object(h.connect)((function(e){var t,n=e.feature_flags,r=e.video_player,i=n[Ht.M]||{};return r&&r.video&&r.video.sources&&(t=r.video.sources[$n.b]),{isMainVideoOnSharePage:Object(Kn.c)(e),sendHlsPlaybackStatsValue:i.value,chromePipEnabled:r.chromePipEnabled,safariPipEnabled:r.safariPipEnabled,videoSourceHlsUrl:t,source_part_credentials:r.source_part_credentials}}),(function(e){return{updateChromePipEnabled:function(t){return e(Object(v.n)(t))},updateSafariPipEnabled:function(t){return e(Object(v.r)(t))},updatePipSupported:function(t){return e(Object(v.q)(t))},updateShareVideoIframeLoaded:function(t){return e(Object(q.g)(t))},updateShareVideoPlayerReady:function(t){return e(Object(q.j)(t))}}}))(Zn),tr=n("/8hh"),nr=n("ynRA"),rr=(n("wpa/"),function(e){var t=Object(f.useState)(!1),n=me()(t,2),r=n[0],i=n[1],a=Object(f.useState)(!1),o=me()(a,2),c=o[0],s=o[1],l=Object(tr.a)((function(){return i(!1)}));return p.a.createElement("div",{ref:l,className:"embed-top-share-button",onClick:function(e){e.stopPropagation(),i(!r)},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},p.a.createElement(fe,{text:"Share",hovered:c&&!r,position:"bottom"}),p.a.createElement(wn.a,{svg:String('\n  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d)">\n     <path fill-rule="evenodd" clip-rule="evenodd" d="M19.7615 9.70504L14.1742 4.21866C13.6861 3.73969 12.8801 4.09991 12.8801 4.79263V7.19144C6.90468 8.07813 4.45521 13.3508 4.00125 19.5813C3.96945 20.0167 4.55366 20.1672 4.7295 19.7674C6.20593 16.4185 8.55694 13.3785 12.8801 13.3626V15.7614C12.8801 16.4581 13.6861 16.8144 14.1742 16.3354L19.7615 10.853C20.0795 10.5403 20.0795 10.0178 19.7615 9.70504Z" fill="white"/>\n    </g>\n  <defs>\n    <filter id="filter0_d" x="0" y="0" width="24" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n      <feOffset/>\n      <feGaussianBlur stdDeviation="2"/>\n      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n    </filter>\n  </defs>\n  </svg>\n')}),p.a.createElement(nr.a,{show:r,align:"right",vAlign:"top",additionalClass:"embed-share-dropdown",hasGmailAccount:e.hasGmailAccount,videoIsTeamShared:e.videoIsTeamShared,currentUserIsOwner:e.currentUserIsOwner,showFacebook:!1,video:e.video}))}),ir=n("9yXn");n("ioha");function ar(e){var t=e.fromPublicSharePage||e.parentLocation.indexOf(H.A)>-1||e.parentLocation.indexOf(H.y)>-1||e.parentLocation.indexOf(H.z)>-1;function n(){Q.h(W.Bb,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id,title:e.videoName})}function r(){Q.h(W.Ab,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id})}function i(){Q.h(W.Cb,{from_link_expand:e.fromLinkExpand,parent_location:e.parentLocation,video_id:e.videoModel.id})}var a="".concat(H.A,"/share/").concat(e.videoModel.id);return p.a.createElement(Er.Consumer,null,(function(o){var c=o.hideOwner,s=o.hideTitle,l=o.hideShare;return p.a.createElement(Jt.a,{flag:Ht.z,activationValue:!0},p.a.createElement("div",{className:B()("embed-screen-top-section",{"cta-enabled":e.ctaEnabled,started:e.hasStarted,ended:e.ended})},!s&&p.a.createElement("a",{onClick:n,href:a,target:"_blank",rel:"noopener noreferrer",className:B()("title",{"cta-enabled":e.ctaEnabled})},e.videoName),p.a.createElement("div",{className:"sub-title-section"},!c&&p.a.createElement(p.a.Fragment,null,p.a.createElement("img",{src:e.pauseScreenAvatar,align:"left"}),p.a.createElement("a",{onClick:r,href:a,target:"_blank",rel:"noopener noreferrer",className:"owner-name"},e.ownerFullname.length>20?e.ownerFullname.substring(0,20)+"...":e.ownerFullname)),e.loomBrandedPlayer&&!t&&p.a.createElement("a",{onClick:i,href:a,target:"_blank",rel:"noopener noreferrer",className:B()("watch-on-loom",c&&"owner-hidden")},"Watch on Loom")),p.a.createElement("div",{className:"embed-screen-watch-later-button flex item:center justify:center"},p.a.createElement(ir.a,{tooltipTriggerOffset:2,darkMode:!0})),!l&&p.a.createElement(rr,{hasGmailAccount:e.hasGmailAccount,videoIsTeamShared:e.videoIsTeamShared,currentUserIsOwner:e.currentUserIsOwner,video:e.videoModel})))}))}n("EnZy");var or=n("9Rj7"),cr=n("XVof"),sr=n("g3pR"),lr=n.n(sr);function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var dr=0,mr=function(e){s()(n,e);var t=ur(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),V()(M()(e),"state",{isComplete:!1}),V()(M()(e),"onSocketReady",(function(){var t=window.location.pathname.split("/").pop();e.websocket.send(JSON.stringify({type:"subscribe",subscription_data:{type:"upload-progress",video_id:t}}))})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.posterUrl,n=e.inUploadMode,r=e.videoUploadProgress,i=e.isFlipped;return p.a.createElement("div",{className:B()(lr.a.uploadProgress,this.state.isComplete?lr.a.isCompleted:"",n?lr.a.active:"")},p.a.createElement("div",{className:lr.a.loadingThumbnailContainer},p.a.createElement("div",{className:B()(lr.a.loadingThumbnailImage,i?lr.a.flipped:""),style:t&&{backgroundImage:"url(".concat(t,")")}})),p.a.createElement(cr.a,{progress:r,isComplete:this.state.isComplete}))}},{key:"componentDidMount",value:function(){this.setupUpdateSocket()}},{key:"shouldComponentUpdate",value:function(e,t){return e.posterUrl!==this.props.posterUrl||e.inUploadMode!==this.props.inUploadMode||e.videoUploadProgress!==this.props.videoUploadProgress||t.isComplete!==this.state.isComplete}},{key:"componentWillUnmount",value:function(){this.websocket&&this.websocket.close()}},{key:"onUploadDone",value:function(){var e=j()(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isComplete:!0}),e.next=3,new Promise((function(e){return setTimeout(e,1800)}));case 3:this.exitUploadMode(),this.websocket.close();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exitUploadMode",value:function(){var e;this.props.toggleUploadMode(!1),this.props.finishUpload(null===(e=this.props.video)||void 0===e?void 0:e.id)}},{key:"onProgress",value:function(e){dr=Math.max(dr,e),dr=Math.min(dr,100),this.props.onUploadVideoProgress(dr)}},{key:"setupUpdateSocket",value:function(){var e=this;this.websocket=new Rn(H.B+"/hermes/subscriptions"),this.websocket.ready(this.onSocketReady),this.websocket.onMessage((function(t){var n=t.data,r=JSON.parse(n);if(r){if(!1===r.videoUploadValid&&e.props.updateVideoProcessingError(r.videoUploadValid,r.videoUploadMessage),r.isFlippedThumb&&e.props.updateVideoPlayerFlippedCamera(r.isFlippedThumb),r.thumbUrl&&Object(X.a)(r.thumbUrl).then((function(e){return e.src})).then(e.props.updateVideoPlayerPosterUrl).catch(console.error),!0===r.noUpload)return e.exitUploadMode(),e.websocket.close();if(e.onProgress(r.progress),!0===r.done)return e.onUploadDone();!e.props.inUploadMode&&e.props.toggleUploadMode(!0)}})),this.websocket.onError((function(t){e.exitUploadMode(),console.error("ws error",t)}))}}]),n}(p.a.Component),fr=Object(h.connect)((function(e){var t=e.video_player,n=t.poster_url,r=t.in_upload_mode,i=t.video_upload_progress,a=t.flipped_camera,o=t.video;return{inUploadMode:r,videoUploadProgress:i,posterUrl:n,video:o,isFlipped:(o.video_properties||{}).screen_type===G.a&&a}}),(function(e){return{onUploadVideoProgress:function(t){return e(Object(v.jb)(t))},toggleUploadMode:function(t){return e(Object(v.s)(t))},updateVideoPlayerPosterUrl:function(t){return e(Object(v.W)(t))},finishUpload:function(t){return e(Object(or.h)(t))},updateVideoPlayerFlippedCamera:function(t){return e(Object(v.F)(t))},updateVideoProcessingError:function(t,n){return e(Object(v.gb)(t,n))}}}))(mr);n("2G5D");function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){V()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var gr=[n("RkBW"),n("2fY3"),n("gcTJ"),n("q94c"),n("7lED"),n("+K4k"),n("PNsc"),n("gAMN"),n("gAMN"),n("QtHM"),n("evB1"),n("8sCN")],br="video-player-container",yr=function(e){s()(n,e);var t=vr(n);function n(e){var r;return i()(this,n),r=t.call(this,e),V()(M()(r),"onKeyDown",(function(e){if(!(null!==window.document.querySelector("input:focus, select:focus, textarea:focus, [contenteditable]:focus"))){z.f.includes(e.key)&&e.preventDefault(),z.n.indexOf(e.key)>-1&&(e.preventDefault(),r.props.volume+.1<=1&&r.props.requestVideoPlayerVolume(r.props.volume+.1)),z.m.indexOf(e.key)>-1&&(e.preventDefault(),r.props.volume-.1>=0&&r.props.requestVideoPlayerVolume(r.props.volume-.1)),z.j.indexOf(e.key)>-1&&(e.preventDefault(),ie(r.props.playbackRate))}})),V()(M()(r),"onKeyUp",function(){var e=j()(P.a.mark((function e(t){var n,i,a,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props.hasStarted,e.next=3,Object(Y.a)(Ht.J);case 3:if(i=e.sent,a=null!==document.querySelector("input:focus, select:focus, textarea:focus, [contenteditable]:focus"),o=r.props.duration>=25?10:5,!a){e.next=8;break}return e.abrupt("return");case 8:if(!z.f.includes(t.key)){e.next=15;break}if(n){e.next=13;break}return r.props.updateVideoPlayerPlaying(),r.props.requestVideoPlayerPlay(),e.abrupt("return");case 13:t.preventDefault(),r.props.paused?r.props.requestVideoPlayerPlay():r.props.requestVideoPlayerPause();case 15:z.d.indexOf(t.key)>-1&&(t.preventDefault(),r.props.muted?r.props.requestVideoPlayerUnmute():r.props.requestVideoPlayerMute()),z.b.indexOf(t.key)>-1&&(t.preventDefault(),r.props.requestVideoPlayerCurrentTime(r.props.currentTime-o)),z.c.indexOf(t.key)>-1&&(t.preventDefault(),r.props.requestVideoPlayerCurrentTime(r.props.currentTime+o)),z.h.indexOf(t.key)>-1&&(t.preventDefault(),r.props.requestVideoPlayerCurrentTime(r.props.currentTime+1)),z.g.indexOf(t.key)>-1&&(t.preventDefault(),r.props.requestVideoPlayerCurrentTime(r.props.currentTime-1)),z.i.indexOf(t.key)>-1&&(t.preventDefault(),w.isFirefox&&r.player.mozRequestFullScreen(),r.props.fullScreen?r.props.requestVideoPlayerLeaveFullScreen():r.props.requestVideoPlayerEnterFullScreen()),z.k.indexOf(t.key)>-1&&(t.preventDefault(),r.toggleTheater()),z.e.includes(t.key)&&(t.preventDefault(),r.togglePictureInPicture()),i&&z.l.includes(t.key)&&(t.preventDefault(),r.handleToggleTranscript());case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V()(M()(r),"toggleChromePictureInPicture",function(){var e=j()(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.pictureInPictureEnabled){e.next=2;break}return e.abrupt("return");case 2:if(!r.props.chromePipEnabled){e.next=14;break}return e.prev=3,e.next=6,document.exitPictureInPicture();case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),console.error("Unable to exit Picture in Picture",e.t0),e.abrupt("return");case 12:e.next=23;break;case 14:return e.prev=14,e.next=17,t.requestPictureInPicture();case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(14),console.error("Unable to enable Picture in Picture",e.t1),e.abrupt("return");case 23:case"end":return e.stop()}}),e,null,[[3,8],[14,19]])})));return function(t){return e.apply(this,arguments)}}()),V()(M()(r),"toggleSafariPictureInPicture",(function(e){if(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode){var t="picture-in-picture"===e.webkitPresentationMode;e.webkitSetPresentationMode(t?"inline":"picture-in-picture")}})),V()(M()(r),"togglePictureInPicture",(function(){var e=(document.getElementsByTagName("video")||[])[0];e&&(r.toggleChromePictureInPicture(e),r.toggleSafariPictureInPicture(e))})),V()(M()(r),"toggleTheater",(function(){var e=r.props,t=e.currentUserIsOwner,n=e.theaterMode,i=!e.inTrimMode&&!n;r.props.currentUserIsOwner||(document.cookie="".concat(Gt.d," = ").concat(i,";")),r.props.updateTheaterMode(i,r.props.inTrimMode),Q.h(W.td,{currentUserIsOwner:t,on:i})})),V()(M()(r),"handleToggleFullscreen",(function(){r.props.fullScreen?r.props.requestVideoPlayerLeaveFullScreen():r.props.requestVideoPlayerEnterFullScreen(),Q.h(W.Pb,{from_double_click:!0,full_screen:r.props.fullScreen})})),V()(M()(r),"handleToggleTranscript",(function(){r.props.fullScreen?(r.props.requestVideoPlayerLeaveFullScreen(),r.props.toggleTranscriptVisible(!0)):r.props.toggleTranscriptVisible(!r.props.transcriptVisible)})),V()(M()(r),"onPassword",(function(e){r.props.updateVideoPlayerPasswordCreator(e),r.props.updateVideoPlayerSourceCreator()})),V()(M()(r),"togglePlay",(function(){var e=r.props.currentTime;r.props.paused?(S.a.sendEvent("play",{currentTime:e}),r.props.requestVideoPlayerPlay()):(S.a.sendEvent("pause",{currentTime:e}),r.props.requestVideoPlayerPause())})),V()(M()(r),"onFullscreenChange",(function(){Object($.e)()!==r.player?r.props.updateVideoPlayerLeaveFullScreen():r.props.updateVideoPlayerEnterFullScreen()})),V()(M()(r),"onMouseMove",(function(){if(r.setupMouseInactiveTimeout(),!r.props.mouseActive)return r.props.updateVideoPlayerMouseActive()})),V()(M()(r),"updateVideoPlayerMouseInactiveImmediately",(function(){window.clearTimeout(r.mouseInactiveTimeout),r.props.updateVideoPlayerMouseInactive()})),V()(M()(r),"handlePlayerControlEvents",(function(e){if(r.player){var t=e.data,n=void 0===t?{}:t,i=r.props.duration>=25?10:5;switch(n.type){case g.j:r.props.paused?r.props.requestVideoPlayerPlay():r.props.requestVideoPlayerPause();break;case g.g:S.a.sendEvent("pause",{currentTime:r.props.currentTime}),r.props.requestVideoPlayerCurrentTime(r.props.currentTime-i);break;case g.h:S.a.sendEvent("pause",{currentTime:r.props.currentTime}),r.props.requestVideoPlayerCurrentTime(r.props.currentTime+i);break;case g.i:r.props.muted?r.props.requestVideoPlayerUnmute():r.props.requestVideoPlayerMute();break;case g.m:r.props.requestVideoPlayerCurrentTime(r.props.currentTime+1);break;case g.l:r.props.requestVideoPlayerCurrentTime(r.props.currentTime-1);break;case g.n:r.props.fullScreen?r.props.requestVideoPlayerLeaveFullScreen():r.props.requestVideoPlayerEnterFullScreen();break;case g.p:var a=r.props,o=a.currentUserIsOwner,c=a.theaterMode,s=!a.inTrimMode&&!c;r.props.currentUserIsOwner||(document.cookie="".concat(Gt.d," = ").concat(s,";")),r.props.updateTheaterMode(s,r.props.inTrimMode),Q.h(W.td,{currentUserIsOwner:o,on:s});break;case g.r:r.props.volume+.1<=1&&r.props.requestVideoPlayerVolume(r.props.volume+.1);break;case g.q:r.props.volume-.1>=0&&r.props.requestVideoPlayerVolume(r.props.volume-.1);break;case g.o:ie(r.props.playbackRate)}}})),r.mouseInactiveTimeout=null,r}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoplay,r=t.controlsActive,i=t.ctaEnabled,a=t.ctaFlowActive,o=t.currentTime,c=t.currentTrimRange,s=t.commentsEnabled,l=t.editVideoButtons,u=t.ended,d=t.flippedCamera,m=t.fromLinkExpand,h=t.fromPublicSharePage,v=t.hasGmailAccount,g=t.hasStarted,b=t.hideEmbedTopBar,y=t.iframeVisible,k=t.inTrimMode,_=t.isCameraRecording,E=t.isFetching,C=t.isInlineEmbedOnLoom,x=t.isLoggedIn,N=t.isMainVideoOnSharePage,T=t.mayBeUploading,O=t.mouseActive,I=t.needsPassword,R=t.needsPermission,D=t.parentLocation,P=void 0===D?"":D,F=t.password,j=t.paused,A=t.posterUrl,M=t.requestCurrentTime,L=t.requestMute,V=t.requestPause,U=t.requestPlay,q=t.requestPlaybackRate,W=t.requestUnmute,z=t.requestVolume,J=t.seeking,Q=t.sourceMimeType,$=t.sourceUrl,Y=t.trimRanges,X=t.videoId,Z=t.videoModel,ee=t.videoName,te=t.videoIsTeamShared,ne=t.waiting,re=t.waitingForTrim,ie=t.fullScreen,ae=Z.video_properties,oe=void 0===ae?{}:ae,se=Z.thumbnails,le=void 0===se?{}:se,ue=Z.current_user_is_owner,de=Z.owner_name,me=Z.owner_full_name,fe=Z.active_status,pe=le.full,he=oe.screen_type,ve=void 0===he?"":he,ge=oe.isLoomGreeting,be=g&&ne&&!j,ye=!k&&u&&!a,ke=B()("video-player-thumbnail-image",{flipped:ve===G.a&&d&&!pe,customThumb:pe}),we=A?p.a.createElement("div",{className:ke,style:{backgroundImage:"url(".concat(A,")")}}):p.a.createElement("div",null);if(!k&&re)return p.a.createElement("div",{className:br,style:this.props.stylesFromShareVideoParent},p.a.createElement(jn,null));if(!N&&!ue&&!fe)return p.a.createElement(dn,{ownerName:de,ThumbDiv:we});if(E&&Z.complete)return p.a.createElement("div",{className:br,style:this.props.stylesFromShareVideoParent},we,p.a.createElement("div",{className:"video-player-overlay"}),p.a.createElement(En.a,{delay:1e3}));if(R)return N?null:p.a.createElement(yn.a,null);if(null==F&&I)return p.a.createElement(bn,{onPassword:this.onPassword,videoId:X});var _e=Z.owner_avatar?Object(K.b)(Z.owner_avatar.thumb):ce.a,Ee=this.props.updateVideoPlayerSourceMp4Creator;null!=$&&$.indexOf("-streamed.webm")>-1&&(Ee=this.props.updateVideoPlayerSourceRawCreator),fe||(Ee=null);var Se={width:(this.player?this.player.getBoundingClientRect():{}).width||0,x:0},Ce=w.isMobile&&g&&!j,xe=!a&&!g&&$,Ne=!N&&!b&&!Ce&&(r||ye||xe),Te=!pe&&le[$n.g]&&"".concat(H.i,"/").concat(le[$n.g]);return p.a.createElement(f.Fragment,null,T&&p.a.createElement(fr,null),p.a.createElement("div",{className:B()(br,{fullScreen:ie}),onMouseMove:this.onMouseMove,onMouseDown:this.onMouseMove,onTouchMove:this.onMouseMove,onMouseLeave:this.updateVideoPlayerMouseInactiveImmediately,style:hr(hr({},this.props.stylesFromShareVideoParent),{},{visibility:y?"visible":"hidden"}),ref:function(t){return e.player=t}},!g&&(A||Te)&&p.a.createElement(p.a.Fragment,null,Te&&p.a.createElement("video",{className:ke,loop:!0,muted:!0,playsInline:!0,autoPlay:!0},p.a.createElement("source",{src:Te,type:"video/mp4"})),!Te&&p.a.createElement("div",{className:ke,style:{backgroundImage:"url(".concat(A,")")}})),p.a.createElement(er,{currentTrimRange:c,editVideoButtons:l,flippedCamera:d,fromLinkExpand:m,hasStarted:g,inTrimMode:k,isCameraRecording:_,isInlineEmbedOnLoom:C,isMainVideoOnSharePage:N,mouseActive:O,parentLocation:P,showEmbedTopBar:Ne,trimRanges:Y,videoId:X,videoModel:Z,autoplay:n,ctaEnabled:i,currentTime:o,ended:u,ownerName:me,pauseScreenAvatar:_e,paused:j,seeking:J,sourceMimeType:Q,sourceUrl:$,requestCurrentTime:M,requestMute:L,requestPause:V,requestPlay:U,requestPlaybackRate:q,requestUnmute:W,requestVolume:z,onDimensionChange:this.props.updateVideoPlayerDimensionsCreator,onDoubleClick:this.handleToggleFullscreen,onDurationChange:this.props.updateVideoPlayerDurationCreator,onEnded:this.props.updateVideoPlayerEnded,onMute:this.props.updateVideoPlayerMute,onNotWaiting:this.props.updateVideoPlayerNotWaiting,onPause:this.props.updateVideoPlayerPaused,onPlay:this.props.updateVideoPlayerPlay,onPlaying:this.props.updateVideoPlayerPlaying,onProgress:this.props.updateVideoPlayerBufferedParts,onRateChange:this.props.updateVideoPlayerPlaybackRate,onRefetchSource:Ee,onTimeUpdate:this.props.updateVideoPlayerCurrentTime,onTrackVideoView:this.props.trackVideoViewCreator,onTrackVideoWatchDuration:this.props.trackVideoWatchDurationCreator,onUnmute:this.props.updateVideoPlayerUnmute,onVolumeChange:this.props.updateVideoPlayerVolume,onWaiting:this.props.updateVideoPlayerWaiting}),!w.isMobile&&g&&!ye&&p.a.createElement($t,{togglePictureInPicture:this.togglePictureInPicture,containerDimensions:Se,ended:u,onRef:function(t){return e.controlBar=t}}),be&&p.a.createElement(En.a,{delay:1e3}),ye&&p.a.createElement(cn,{commentsEnabled:s,ctaEnabled:i,currentUserIsOwner:ue,editVideoButtons:l,ended:u,fromPublicSharePage:h,inTrimMode:k,isInlineEmbedOnLoom:C,isLoggedIn:x,isLoomGreeting:ge,isMainVideoOnSharePage:this.props.isMainVideoOnSharePage,loomBrandedPlayer:Z.loom_branded_player,onCustomCTAClick:function(){return S.a.sendEvent("cta",{currentTime:o})},onRequestCurrentTime:this.props.requestVideoPlayerCurrentTime,onRequestPlay:this.props.requestVideoPlayerPlay,ownerFullname:me,pauseScreenAvatar:_e,videoId:X,videoName:ee}),xe&&p.a.createElement(Cn,{duration:this.props.duration,editVideoButtons:l,fullScreen:this.props.fullScreen,onPlay:this.props.requestVideoPlayerPlay,ownerFullname:me,pauseScreenAvatar:_e,theaterMode:this.props.theaterMode,videoName:Z.name}),Ne&&p.a.createElement(ar,{currentUserIsOwner:ue,fromLinkExpand:m,fromPublicSharePage:h,hasGmailAccount:v,ctaEnabled:i,loomBrandedPlayer:Z.loom_branded_player,ownerFullname:me,parentLocation:P,pauseScreenAvatar:_e,videoIsTeamShared:te,hasStarted:g,ended:u,videoModel:Z,videoName:ee})))}},{key:"setupMouseInactiveTimeout",value:function(){var e=this;window.clearTimeout(this.mouseInactiveTimeout),this.mouseInactiveTimeout=window.setTimeout((function(){if(null!=e.controlBar&&null!=e.controlBar.getControlBarEl){var t=e.controlBar.getControlBarEl(),n=document.getElementsByClassName("watch-on-loom")[0],r=n&&n.querySelector(":hover"),i=t&&t.querySelector(":hover");if(r||i)return}e.props.updateVideoPlayerMouseInactive()}),2e3)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.autoplay,r=t.iframeVisible,i=t.isFetching,a=t.requestEnterFullScreen,o=t.requestLeaveFullScreen,c=t.requestVideoPlayerPlay,s=t.sourceRequested,l=t.updateVideoPlayerSourceCreator,u=t.videoModel;!r||u.complete||s||l(),a?Object($.k)(this.player):o&&Object($.c)(),n&&r&&u.complete&&e.isFetching&&!i&&c()}},{key:"componentDidMount",value:function(){this.props.videoModel.complete&&this.props.updateVideoIframeVisibility(!0),gr.map((function(e){X.a(e)})),document.addEventListener("keyup",this.onKeyUp,!1),document.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("message",this.handlePlayerControlEvents),Object($.h)(this.onFullscreenChange),this.setupMouseInactiveTimeout()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("message",this.handlePlayerControlEvents),Object($.l)(this.onFullscreenChange)}}]),n}(f.Component),kr=Object(h.connect)((function(e){var t=e.video_player,n=t.autoplay,r=t.chromePipEnabled,i=t.current_time,a=t.controlsActive,o=t.duration,c=t.ended,s=t.flipped_camera,l=t.from_link_expand,u=t.from_public_share_page,d=t.full_screen,m=t.has_started,f=t.is_fetching,p=t.is_inline_embed_on_loom,h=t.is_source_requested,v=t.isMainVideoOnSharePage,g=t.mouse_active,b=t.muted,y=t.needs_password,k=t.parent_location,w=t.playback_rate,_=t.password,E=t.paused,S=t.poster_url,C=t.request_current_time,x=t.request_enter_full_screen,N=t.request_leave_full_screen,T=t.request_mute,O=t.request_pause,I=t.request_play,R=t.request_playback_rate,D=t.request_unmute,P=t.request_volume,F=t.seeking,j=t.source_mime_type,A=t.source_url,M=t.theater_mode,L=t.video,V=t.viewer_needs_permission,U=t.volume,B=t.waiting,q=t.transcriptVisible,W=e.share_video,z=W.cta_enabled,H=W.iframe_visible,J=W.video_is_team_shared,Q=e.user,K=Q.is_logged_in,$=Q.is_logged_in_checked,Y=Q.has_gmail_account,X=e.trimming,Z=X.current_trim_range,ee=X.in_trim_mode,te=X.trim_ranges,ne=L.processing_information.videoUploadValid,re=L.id,ie=(L.video_properties||{}).screen_type===G.a,oe=Object(ae.i)(L,e),ce=!1===ne,se=!L.complete&&!ce,le=L.comments_enabled,ue=ee||n&&!L.current_user_is_owner,de=e.viewerInsights.isActive;return{autoplay:ue,chromePipEnabled:r,controlsActive:a,ctaEnabled:z,ctaFlowActive:e.editor.cta_flow,commentsEnabled:le,currentTime:i,currentTrimRange:Z,duration:o,ended:c,flippedCamera:s,fromLinkExpand:l,fromPublicSharePage:u,fullScreen:d,hasGmailAccount:Y,hasStarted:m,iframeVisible:H,inTrimMode:ee,isCameraRecording:ie,isFetching:f,isInlineEmbedOnLoom:p,isLoggedIn:K&&$,isMainVideoOnSharePage:v,mayBeUploading:se,mouseActive:g,muted:b,needsPassword:y,needsPermission:V,parentLocation:k,password:_,paused:E,playbackRate:w,posterUrl:S,requestCurrentTime:C,requestEnterFullScreen:x,requestLeaveFullScreen:N,requestMute:T,requestPause:O,requestPlay:I,requestPlaybackRate:R,requestUnmute:D,requestVolume:P,seeking:F,sourceMimeType:j,sourceRequested:h,sourceUrl:A,theaterMode:M,trimRanges:te,videoId:re,videoModel:L,videoName:L.name,videoIsTeamShared:J,volume:U,waiting:B,waitingForTrim:oe,isViewerInsightsActive:de,transcriptVisible:q}}),(function(e){return{getFeatureFlag:function(t){return e(Object(y.a)(t))},requestVideoPlayerMute:function(){return e(Object(v.e)())},requestVideoPlayerUnmute:function(){return e(Object(v.j)())},requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},requestVideoPlayerPause:function(){return e(Object(v.f)())},requestVideoPlayerPlay:function(){return e(Object(v.g)())},requestVideoPlayerEnterFullScreen:function(){return e(Object(v.c)())},requestVideoPlayerLeaveFullScreen:function(){return e(Object(v.d)())},requestVideoPlayerVolume:function(t){return e(Object(v.k)(t))},trackVideoWatchDurationCreator:function(t){return e(Object(J.g)(t))},trackVideoViewCreator:function(){return e(Object(J.f)())},updateVideoPlayerBufferedParts:function(t){return e(Object(v.v)(t))},updateVideoPlayerCurrentTime:function(t){return e(Object(v.x)(t))},updateVideoPlayerDimensionsCreator:function(t,n){return e(Object(J.j)(t,n))},updateVideoPlayerDurationCreator:function(t){return e(Object(J.k)(t))},updateVideoPlayerEnded:function(){return e(Object(v.D)())},updateVideoPlayerEnterFullScreen:function(){return e(Object(v.E)())},updateVideoPlayerLeaveFullScreen:function(){return e(Object(v.J)())},updateVideoPlayerMouseActive:function(){return e(Object(v.L)())},updateVideoPlayerMouseInactive:function(){return e(Object(v.M)())},updateVideoPlayerMute:function(){return e(Object(v.N)())},updateVideoPlayerNotWaiting:function(){return e(Object(v.P)())},updateVideoPlayerPasswordCreator:function(t){return e(Object(J.l)(t))},updateVideoPlayerPaused:function(){return e(Object(v.S)())},updateVideoPlayerPlay:function(){return e(Object(v.T)())},updateVideoPlayerPlaying:function(){return e(Object(v.V)())},updateVideoPlayerPlaybackRate:function(t){return e(Object(v.U)(t))},updateVideoPlayerSourceCreator:function(){return e(Object(J.m)())},updateVideoPlayerSourceMp4Creator:function(){return e(Object(J.n)())},updateVideoPlayerSourceRawCreator:function(){return e(Object(J.o)())},updateVideoPlayerUnmute:function(){return e(Object(v.bb)())},updateVideoPlayerVolume:function(t){return e(Object(v.db)(t))},updateVideoPlayerWaiting:function(){return e(Object(v.fb)())},updateTheaterMode:function(t,n){return e(Object(v.t)(t,n))},updateVideoIframeVisibility:function(){return e(Object(q.s)())},toggleTranscriptVisible:function(t){return e(Object(v.m)(t))}}}))(yr);function wr(e){return p.a.createElement(Er.Consumer,null,(function(t){var n=t.hideEmbedTopBar;return p.a.createElement(kr,R()({},e,{hideEmbedTopBar:n}))}))}n("eVsk");function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u()(this,n)}}var Er=p.a.createContext({}),Sr=new Error("invalid trim operation"),Cr=function(e){s()(n,e);var t=_r(n);function n(e){var r;if(i()(this,n),r=t.call(this,e),e.videoAnalyticsEnabled&&!e.isOwner){var a=e.videoId,o=e.trimId,c=e.userId;S.a.start({videoId:a,userId:c,trimId:o})}return r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.embedContext,n=void 0===t?{}:t,r=e.editVideoButtons,i=e.stylesFromShareVideoParent,a=void 0===i?{}:i;return p.a.createElement(Er.Provider,{value:n},p.a.createElement(wr,{editVideoButtons:r,stylesFromShareVideoParent:a}))}}]),o()(n,[{key:"componentDidMount",value:function(){this.updatePlayerFromURLParams(),this.listenForSharePageEvents(),this.props.isMainVideoOnSharePage||(document.body.style.overflow="hidden",document.getElementById("container").style.overflow="hidden")}},{key:"updatePlayerFromURLParams",value:function(){var e=!w.isMobile&&("1"===Object(E.d)("autoplay")||"true"===Object(E.d)("autoplay")||"true"===Object(E.d)("auto_play")||"1"===Object(E.d)("auto_play"));this.props.updateVideoPlayerAutoplay(e),("1"===Object(E.d)("muted")||"true"===Object(E.d)("muted"))&&this.props.requestVideoPlayerVolume(.3);var t=Object(E.d)("t").match(/((\d+)m)?((\d+)s?)$/)||[0,0,0,0],n=60*Number(t[2]||0)+Number(t[4]||0);n>0&&this.props.requestVideoPlayerCurrentTime(n)}},{key:"listenForSharePageEvents",value:function(){var e=this;this.props.isMainVideoOnSharePage&&window.top.addEventListener("message",(function(t){var n=t.data,r=void 0===n?{}:n;switch(r.type){case g.c:e.playVideoAtTimestamp(r.numSeconds);break;case g.d:e.props.requestVideoPlayerCurrentTime(r.numSeconds);break;case g.w:e.props.updateVideoPlayerFlippedCamera(r.flipped_camera);break;case g.x:e.handleTrimAction(r)}}),!1)}},{key:"playVideoAtTimestamp",value:function(e){this.props.requestVideoPlayerCurrentTime(e),this.props.requestVideoPlayerPlay()}},{key:"handleTrimAction",value:function(e){var t=e.id,n=e.operation,r=e.trimBound,i=e.trimRange,a=e.trimRanges,o=e.updatedVideo;switch(n){case b.a:return this.props.addTrimRangeCreator(i);case b.f:return this.props.removeTrimRangeCreator(t);case b.b:return this.props.enterTrimModeCreator(a);case b.c:return this.props.leaveTrimModeCreator(o);case b.e:return this.props.redoTrimOperationCreator();case b.j:return this.props.undoTrimOperationCreator();case b.k:return this.props.updateCurrentTrimRangeCreator(i);case b.l:return this.props.updateSelectedTrimBoundCreator(r);case b.m:return this.props.updateSelectedTrimRangeCreator(i);case b.n:return this.props.updateTrimRangeCreator(i);default:_.d(Sr,"bad trim operation",{operation:n})}}}]),n}(f.Component);t.b=Object(h.connect)((function(e){return O(e)}),(function(e){return{addTrimRangeCreator:function(t){return e(Object(k.a)(t,!1,!1))},enterTrimModeCreator:function(t){return e(Object(k.b)(t,!1))},getFeatureFlag:function(t){return e(Object(y.a)(t))},leaveTrimModeCreator:function(t){return e(Object(k.c)(t,!1))},redoTrimOperationCreator:function(){return e(Object(k.e)(!1))},removeTrimRangeCreator:function(t){return e(Object(k.f)(t,!1,!1))},requestVideoPlayerCurrentTime:function(t){return e(Object(v.b)(t))},requestVideoPlayerPlay:function(){return e(Object(v.g)())},requestVideoPlayerVolume:function(t){return e(Object(v.k)(t))},undoTrimOperationCreator:function(){return e(Object(k.g)(!1))},updateCurrentTrimRangeCreator:function(t){return e(Object(k.h)(t,!1))},updateSelectedTrimBoundCreator:function(t){return e(Object(k.i)(t,!1))},updateSelectedTrimRangeCreator:function(t){return e(Object(k.j)(t,!1))},updateTrimRangeCreator:function(t){return e(Object(k.k)(t,!1,!1))},updateVideoPlayerAutoplay:function(t){return e(Object(v.u)(t))},updateVideoPlayerFlippedCamera:function(t){return e(Object(v.F)(t))}}}))(Cr)},vHDo:function(e,t,n){},vLHP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("Hqix")),i=h(n("e575")),a=h(n("homf")),o=h(n("qvkj")),c=h(n("7ZGM")),s=h(n("9eqh")),l=h(n("ytq/")),u=h(n("6fql")),d=h(n("2KGH")),m=h(n("hAya")),f=h(n("uVON")),p=h(n("c0yS"));function h(e){return e&&e.__esModule?e:{default:e}}var v=[o.default,a.default,c.default,l.default,u.default,d.default,m.default,f.default,p.default,s.default];t.default=(0,r.default)({prefixMap:i.default.prefixMap,plugins:v}),e.exports=t.default},vMKT:function(e,t,n){e.exports=n.p+"img/workspace-onboarding/install-desktop-app-1661a11b64f5d9a7fb80b87099b43c53.png"},vVJV:function(e,t,n){},vWup:function(e,t,n){e.exports=n.p+"img/rainbow-oval-0036a081945a9d57d4b8a8b4beed2ff7.png"},va4D:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),o=l(a),c=l(n("17x9")),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m={title:/<title>.*<\/title>/gi,desc:/<desc>.*<\/desc>/gi,comment:/<!--.*-->/gi,defs:/<defs>.*<\/defs>/gi,width:/ +width="\d+(\.\d+)?(px)?"/gi,height:/ +height="\d+(\.\d+)?(px)?"/gi,fill:/ +fill="(none|#[0-9a-f]+)"/gi,sketchMSShapeGroup:/ +sketch:type="MSShapeGroup"/gi,sketchMSPage:/ +sketch:type="MSPage"/gi,sketchMSLayerGroup:/ +sketch:type="MSLayerGroup"/gi},f=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,n=e.className,i=e.component,a=e.svg,c=e.fill,l=e.width,u=e.accessibilityLabel,d=e.accessibilityDesc,f=e.classSuffix,p=e.cleanupExceptions,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","component","svg","fill","width","accessibilityLabel","accessibilityDesc","classSuffix","cleanupExceptions"]),v=this.props,g=v.cleanup,b=v.height;(!0===g||0===g.length&&p.length>0)&&(g=Object.keys(m)),g=g.filter((function(e){return!(p.indexOf(e)>-1)})),l&&void 0===b&&(b=l),delete h.cleanup,delete h.height;var y=(0,s.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({SVGInline:!0,"SVGInline--cleaned":g.length},n,n)),k=y.split(" ").join(f+" ")+f,w=t.cleanupSvg(a,g).replace(/<svg/,'<svg class="'+k+'"'+(c?' fill="'+c+'"':"")+(l||b?' style="'+(l?"width: "+l+";":"")+(b?"height: "+b+";":"")+'"':"")),_=void 0;if(d){var E=(_=/<svg(.|\n|\r\n)*?>/.exec(w)).index+_[0].length;w=w.substr(0,E)+"<desc>"+d+"</desc>"+w.substr(E)}if(u){var S=(_=_||/<svg(.|\n|\r\n)*?>/.exec(w)).index+_[0].length-1,C="SVGInline-"+t.idCount+++"-title";w=w.substr(0,S)+' role="img" aria-labelledby="'+C+'"'+w.substr(S,1)+'<title id="'+C+'">'+u+"</title>"+w.substr(S+1)}return o.default.createElement(i,r({},h,{className:y,dangerouslySetInnerHTML:{__html:w}}))}}]),t}(a.Component);f.propTypes={className:c.default.string,classSuffix:c.default.string,component:c.default.oneOfType([c.default.string,c.default.func]),svg:c.default.string.isRequired,fill:c.default.string,cleanup:c.default.oneOfType([c.default.bool,c.default.array]),cleanupExceptions:c.default.array,width:c.default.string,height:c.default.string,accessibilityLabel:c.default.string,accessibilityDesc:c.default.string},f.defaultProps={component:"span",classSuffix:"-svg",cleanup:[],cleanupExceptions:[]},f.idCount=0,f.cleanupSvg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(m).filter((function(e){return t.indexOf(e)>-1})).reduce((function(e,t){return e.replace(m[t],"")}),e).trim()},t.default=f},vh2h:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("q4mm"),i=n("q1tI"),a=n.n(i),o="trim-bar-discard-trim-button";t.b=function(e){var t=null!=e.selectedTrimRange,n=t?e.onDiscardTrimRange:null;return a.a.createElement(r.TextButton,{icon:a.a.createElement(r.SvgCut,null),isDisabled:!t,onClick:n},"Remove Trim")}},vkhE:function(e,t,n){e.exports={sticky:"viewer-insights_sticky_1I7",viewerInfo:"viewer-insights_viewerInfo_2mm",viewsMetadata:"viewer-insights_viewsMetadata_OsM",card:"viewer-insights_card_yrL",partial:"viewer-insights_partial_1eK",disabled:"viewer-insights_disabled_2Zg",slideableContainer:"viewer-insights_slideableContainer_1ih",slideable:"viewer-insights_slideable_3RK",detailsHeader:"viewer-insights_detailsHeader_Vfu",eventItem:"viewer-insights_eventItem_3MF",isClickable:"viewer-insights_isClickable_1gG",infoLink:"viewer-insights_infoLink_2Yf",infoIcon:"viewer-insights_infoIcon_DkV",containerBox:"viewer-insights_containerBox_O2Y",shrinked:"viewer-insights_shrinked_2Y9"}},"vl0+":function(e,t,n){e.exports=n.p+"img/icons/attachment-upload/sync-799e5e8c048ede6a1af0d31467d89c1c.svg"},vxpg:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));n("ma9I"),n("TeQF"),n("2B1R"),n("ToJy");var r=n("RIqP"),i=n.n(r),a=n("Mp3S"),o=function(e,t){var n=e.start;return 100*(e.end-n)/t},c=function(e,t,n){return o({start:e.end,end:t.start},n)},s=function(e,t){return 100*e/t+"%"},l=function(e){var t=e.plays,n=e.replays,r=e.skips,a=e.duration,s=void 0===a?0:a;if(!t)return[];var l=function(e,t){return e.map((function(e){return{start:e.start,end:e.end,type:t}}))};return[].concat(i()(l(t,"played")),i()(l(r,"skipped"))).sort((function(e,t){return e.start-t.start})).map((function(e){for(var t=o(e,s),r=[],i=e.end-e.start,a=e.start,l=function(e,t){var n=e.start,r=e.end;return t.filter((function(e){return e.start>=n&&e.end<=r}))}(e,n).sort((function(e,t){return e.start-t.start})),u=0;u<=l.length;u++){var d="replayed",m=l[u-1]||{start:a,end:a},f=l[u]||{start:m.end,end:i};if(m){var p=c(m,f,i);p&&r.push({width:p,type:"filler"})}var h=o(f,i);if(!l[u]){if(f.start>f.end)continue;d="filler"}r.push({width:h,type:d,start:f.start})}return{width:t,type:e.type,start:e.start,replayBlocks:r}}))},u=function(e){return isNaN(e)?"n/a":"".concat(Math.round(e),"%")},d=function(e){return{color:Object(a.a)(e),variant:Object(a.b)(e)}}},"w+SR":function(e,t,n){"use strict";var r=n("J4zp"),i=n.n(r),a=n("q4mm"),o=n("q1tI"),c=n.n(o),s=n("Vg22"),l=n("yfXj"),u=n("hTRH"),d=n("xCsE"),m=n("6pWW"),f=n("i8i4"),p=n("AGlj"),h=n("V2Ro"),v=n("9Rj7"),g=n("CtBj"),b=(n("ma9I"),n("TeQF"),n("yq1k"),n("2B1R"),n("07d7"),n("SuFq"),n("JfAA"),n("JTJg"),n("RIqP")),y=n.n(b),k=n("lwsE"),w=n.n(k),_=n("W8MJ"),E=n.n(_),S=n("PJYZ"),C=n.n(S),x=n("7W2i"),N=n.n(x),T=n("a1gu"),O=n.n(T),I=n("Nsbk"),R=n.n(I),D=n("lSNA"),P=n.n(D),F=n("imBb"),j=n.n(F),A=n("IVYN"),M=n("xB0M"),L=n("46Uv"),V=n("0Syt"),U=n("Fw3N"),B=n("KDCk");n("eHCD");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var i=R()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var W=function(e){N()(n,e);var t=q(n);function n(){var e;w()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),P()(C()(e),"state",{selections:[],removals:[]}),P()(C()(e),"getRemoveButton",(function(e){return c.a.createElement("div",null,c.a.createElement(a.Tooltip,{content:"Remove Email",placement:"bottomCenter",triggerOffset:6},c.a.createElement(a.IconButton,{icon:c.a.createElement(a.SvgClose,null),altText:"Remove email",onClick:e})))})),P()(C()(e),"handleOnKeyUp",(function(t){t.keyCode===A.f&&e.props.onExitClick()})),P()(C()(e),"formatOldSelection",(function(t){var n=t,r=e.state.removals,i=e.getRemoveButton((function(){return e.setState({removals:[n].concat(y()(r))})}));return c.a.createElement("div",{className:"viewer-list-entry",key:n},n,c.a.createElement(U.a,{names:h.C},i))})),P()(C()(e),"formatNewSelection",(function(t){var n=e.state.selections,r=t,i=e.getRemoveButton((function(){return e.setState({selections:n.filter((function(e){return e!==r}))})}));return c.a.createElement("div",{className:"viewer-list-entry",key:r},r,c.a.createElement(U.a,{names:h.C},i))})),P()(C()(e),"handleSelection",(function(t){var n=t.text,r=e.state.selections;e.setState({selections:[n].concat(y()(r))})})),P()(C()(e),"emailValidation",(function(t){var n=e.props,r=n.permissionList,i=n.user,a=e.state.selections;return i.email===t?"Oops! Can't add your own email":[].concat(y()(r),y()(a)).includes(t)?"Oops! That email is already in the list":Object(V.m)(t)?void 0:"Oops! That doesn't look like a valid email"})),P()(C()(e),"handleSavePeopleClick",(function(){var t=e.props.video.id,n=e.state,r=n.selections,i=n.removals,a=r.map((function(e){return{email:e,status:!0}})).concat(i.map((function(e){return{email:e,status:!1}})));a.length>0&&(e.props.updateVideoPermissionList(a,t),g.h(p.P,{number_of_changes:a.length})),e.props.onExitClick()})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.video,r=t.onExitClick,i=t.permissionList;if(null==n)return null;var o=this.state,s=o.selections,l=o.removals,u=s.length+i.length>0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"edit-custom-access-settings-section"},c.a.createElement(a.Distribute,{gap:"auto",marginBottom:"small"},c.a.createElement(a.Text,{variant:"title"},"Custom access"),c.a.createElement("span",{className:"navigation-close",onClick:r})),c.a.createElement(a.Text,{color:"bodyDimmed"},"Only allow people with specific emails to view this video. Login required to view."),c.a.createElement(U.a,{names:h.C},c.a.createElement("div",{className:"my:medium"},c.a.createElement(a.FormField,{label:"Email"},c.a.createElement(B.a,{onKeyUp:function(t){return e.handleOnKeyUp(t)},newStyle:!0,autoFocus:!0,suggestions:[],returnInputOnEmptySelection:!0,queryValidation:this.emailValidation,onSelection:this.handleSelection,ctaButtonText:"Add"}))))),c.a.createElement("div",{className:"edit-custom-access-settings"},u&&c.a.createElement(c.a.Fragment,null,c.a.createElement(U.a,{names:h.C},c.a.createElement("div",{className:"flex width:full mt:medium"},c.a.createElement(a.Button,{isDisabled:0===s.length&&0===l.length,variant:"primary",onClick:function(t){return e.handleSavePeopleClick(t)},hasFullWidth:!0},"Save custom access")))),u&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"viewer-list-heading"},"Viewers with access"),c.a.createElement("div",{className:"permitted-viewer-list"},s.map((function(t){return e.formatNewSelection(t)})),i.filter((function(e){return!l.includes(e)})).map((function(t){return e.formatOldSelection(t)}))))))}},{key:"componentDidMount",value:function(){j.a.bind(A.i,this.props.onExitClick,M.a)}},{key:"componentWillUnmount",value:function(){j.a.bind(A.i,M.a)}}]),n}(c.a.Component);P()(W,"defaultProps",{onExitClick:function(){},onSaveClick:function(){}});var z=Object(s.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video,user:e.user.current,permissionList:e.video_player.viewer_permission_list}}),(function(e){return{updateVideoSettings:function(t,n){return e(Object(v.r)(t,n))},updateVideoPermissionList:function(t,n){return e(Object(L.b)(t,n))}}}))(W);n("bmxN");function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var i=R()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var H=function(e){N()(n,e);var t=G(n);function n(){var e;w()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),P()(C()(e),"state",{password:null,confirmPassword:null,error:null}),P()(C()(e),"handleUpdateConfirmPassword",(function(t){e.setState({confirmPassword:t})})),P()(C()(e),"handleUpdatePassword",(function(t){e.setState({password:t})})),P()(C()(e),"handleOnKeyUp",(function(t){t.keyCode===A.e?e.handleSaveClick():t.keyCode===A.f&&e.props.onCancelClick()})),P()(C()(e),"handleRemovePasswordClick",(function(){var t=e.props,n=t.video,r=t.updateVideoSettings,i=t.onSaveClick;g.h(p.ed,{action:"removed",video_id:n.id}),r({},null),i()})),P()(C()(e),"handleSaveClick",(function(){var t,n=e.state,r=n.password,i=n.confirmPassword,a=e.props,o=a.onSaveClick,c=a.video,s=a.updateVideoSettings;r===i?((r||"").length>0&&(t=r),void 0!==t&&(g.h(p.ed,{action:!c.is_protected&&(r||"").length>0?"added":"changed",video_id:c.id}),s({},t)),o()):e.setState({error:"The passwords do not match."})})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.video,r=t.validationError,i=t.onCancelClick;if(null==n)return null;var o=this.state,s=o.password,l=o.confirmPassword,u=o.error,d=r||u,m=c.a.createElement(a.Button,{onClick:function(t){return e.handleSaveClick(t)},hasFullWidth:!0,variant:"primary"},"Save password");return(d||n.is_protected)&&(m=c.a.createElement("div",{className:"flex mt:medium"},m)),c.a.createElement(c.a.Fragment,null,c.a.createElement(a.Distribute,{gap:"auto"},c.a.createElement(a.Text,{variant:"title"},"Add password"),c.a.createElement("span",{className:"navigation-close",onClick:i})),c.a.createElement(a.Spacer,{top:"medium"},c.a.createElement(a.FormField,{label:"Enter new password",labelFor:"new-password"},c.a.createElement(a.TextInput,{id:"new-password",value:s||"",type:"password",onChange:function(t){return e.handleUpdatePassword(t.target.value)},autoFocus:!0,onKeyUp:function(t){return e.handleOnKeyUp(t)},hasError:d}))),c.a.createElement(a.Spacer,{top:"medium"},c.a.createElement(a.FormField,{label:"Confirm password",labelFor:"confirm-password"},c.a.createElement(a.TextInput,{id:"confirm-password",autoFocus:!1,value:l||"",type:"password",onChange:function(t){return e.handleUpdateConfirmPassword(t.target.value)},onKeyUp:function(t){return e.handleOnKeyUp(t)},hasError:d}))),c.a.createElement(a.Spacer,{top:"medium"},d&&c.a.createElement(a.Text,{color:"red"},d),n.is_protected&&c.a.createElement(a.TextButton,{icon:c.a.createElement(a.SvgTrash,null),onClick:this.handleRemovePasswordClick},"Remove password"),m))}},{key:"componentDidMount",value:function(){j.a.bind(A.i,this.props.onCancelClick,M.a)}},{key:"componentWillUnmount",value:function(){j.a.bind(A.i,M.a)}}]),n}(c.a.Component);P()(H,"defaultProps",{onCancelClick:function(){},onSaveClick:function(){}});var J=Object(s.connect)((function(e){var t=e.share_video,n=t.settings_modal_err;return{show:t.show_pw_settings_modal,validationError:n,video:t.video}}),(function(e){return{updateVideoSettings:function(t,n){return e(Object(v.r)(t,n))}}}))(H),Q=n("TSYQ"),K=n.n(Q),$=n("DdUL"),Y=n.n($),X=n("IcNW"),Z=n("p/7Z"),ee=n("LRsK"),te=n("k6oI"),ne=n("RYOk"),re=n.n(ne),ie=function(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)((function(e){return e.share_video})),n=t.video,r=t.shareVideoAliases;return Object(o.useEffect)((function(){e(Object(v.i)(n.id))}),[n,e]),c.a.createElement(Z.a,{flag:te.C,activationValue:!0},c.a.createElement("div",{className:"mt:large pt:large borderTop"},c.a.createElement("div",{className:K()(re.a.sfdcContainer)},c.a.createElement(a.Layout,{alignment:"center",gap:"small"},c.a.createElement(a.Layout.Section,{width:4,className:re.a.sfdcIcon},c.a.createElement("img",{src:Y.a})),c.a.createElement(a.Layout.Section,null,c.a.createElement(a.Text,{variant:"title"},"Salesforce"))),c.a.createElement(a.Spacer,{bottom:"xsmall"}),c.a.createElement(a.Text,{color:"bodyDimmed",size:"small"},"Track your video outreach in Salesforce."),c.a.createElement(a.Spacer,{bottom:"small"}),c.a.createElement(a.Container,{maxHeight:25,className:re.a.sfdcScrollableContainer},c.a.createElement(X.a,null)),c.a.createElement(a.Spacer,{bottom:"small"}),c.a.createElement(a.Button,{hasFullWidth:!0,variant:"neutral",onClick:function(){return function(){return e(Object(ee.c)(!0))}()}},r.length>0?"Edit emails":"Sync with Salesforce"))))},ae=n("1obp"),oe=n("rIMS"),ce=n("/xeN"),se=n("4Opg"),le=n.n(se),ue=n("Nrs4"),de=n.n(ue);n("uOgQ");function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var i=R()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var fe=function(e){N()(n,e);var t=me(n);function n(){var e;w()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),P()(C()(e),"state",{show:!0}),P()(C()(e),"onCloseClick",(function(){Object(ce.a)(),e.setState({show:!1})})),e}return E()(n,[{key:"componentDidMount",value:function(){this.props.getFeatureFlag(te.d)}},{key:"render",value:function(){var e=this.state.show,t=this.props.wantsToShareWithLoomTeam;return c.a.createElement(c.a.Fragment,null,e&&t?c.a.createElement("div",{className:"share-loom-team-group mt:medium"},c.a.createElement("a",{className:"main-click-group",onClick:ce.b},c.a.createElement("img",{src:de.a}),c.a.createElement("span",null,"Send your first Loom to us!")),c.a.createElement("a",{className:"close-wrapper",onClick:this.onCloseClick},c.a.createElement("img",{src:le.a,className:"close-btn"}))):null)}}]),n}(o.Component),pe=Object(s.connect)((function(e){var t=e.user,n=e.share_video,r=e.feature_flags,i=Boolean(window.loomSSRUser),a=n.current_user_is_owner,o="show"===(r[te.d]||{}).value&&t.current.onboarding[ae.b]&&!t.current.onboarding[ae.a];return{wantsToShareWithLoomTeam:i&&a&&o}}),(function(e){return{getFeatureFlag:function(t){return e(Object(oe.a)(t))}}}))(fe),he=n("LWK2"),ve=n("XT2K"),ge=n("F3pX");function be(){var e=Object(s.useDispatch)(),t=Object(s.useSelector)(he.c);return c.a.createElement("div",null,t&&c.a.createElement(a.Distribute,{alignment:"center",gap:"medium"},c.a.createElement(a.Distribute,{gap:"small",alignment:"center"},c.a.createElement(a.Icon,{icon:c.a.createElement(a.SvgDomain,null)}),c.a.createElement(a.Text,null,"In"," ",c.a.createElement(a.Link,{variant:"neutral",href:"/team-videos"},"Team Library"))),c.a.createElement(a.TextButton,{onClick:function(){g.h(p.D),e(Object(v.k)(ve.A,ve.h,!1,ge.a))}},"Undo")),!t&&c.a.createElement(a.Button,{hasFullWidth:!0,onClick:function(){g.h(p.C),e(Object(v.k)(ve.D,ve.G,!1,ge.e))}},"Share to Team Library"))}n("qTz4");function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var i=R()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O()(this,n)}}var ke=function(e){N()(n,e);var t=ye(n);function n(){var e;w()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),P()(C()(e),"state",{passwordFlow:!1,customViewerFlow:!1,show_share_dropdown:!1}),P()(C()(e),"onVideoPrivacyChange",(function(t){return e.props.updateVideoSettings({allow_search_engine_indexing:t})})),P()(C()(e),"onCustomViewerClick",(function(){g.h(p.j),e.setState({customViewerFlow:!0})})),P()(C()(e),"exitEditMode",(function(){return e.setState({passwordFlow:!1,customViewerFlow:!1})})),P()(C()(e),"onAddPasswordClick",(function(){return e.setState({passwordFlow:!0})})),P()(C()(e),"toggleShareDropdown",(function(){e.state.show_share_dropdown||g.h(p.Qc),e.setState({show_share_dropdown:!e.state.show_share_dropdown})})),P()(C()(e),"hideShareDropdown",(function(){e.setState({show_share_dropdown:!1})})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.user,r=e.isLoggedIn,i=e.currentUserIsOwner,o=this.state,s=o.passwordFlow,l=o.customViewerFlow,u=o.show_share_dropdown,d=s||l,f=c.a.createElement("div",{className:"relative ignore-react-onclickoutside-share",onClick:this.toggleShareDropdown},c.a.createElement(a.Tooltip,{content:"Share"},c.a.createElement(a.Button,{icon:c.a.createElement(a.SvgShare,null)})),c.a.createElement(m.a,{align:"right",vAlign:"auto",isLoggedIn:r,outsideClickIgnoreClass:"ignore-react-onclickoutside-share",onHide:this.hideShareDropdown,show:u,currentUserIsOwner:i,hasGmailAccount:n&&n.has_gmail_account,video:t}));return c.a.createElement("div",{className:"share-video-methods",style:{height:"auto"}},c.a.createElement("div",{className:"mb:medium"},c.a.createElement(a.Text,{variant:"title"},"Send Your Video")),c.a.createElement("div",{className:"flex items:flexEnd mt:small"},c.a.createElement("div",{className:"grow:1 mr:small"},c.a.createElement(be,null)),f),!d&&i&&c.a.createElement(U.a,{names:h.H},c.a.createElement(pe,null)),l&&i&&c.a.createElement(z,{video:t,onSaveClick:this.exitEditMode,onExitClick:this.exitEditMode}),s&&i&&c.a.createElement(J,{video:t,onSaveClick:this.exitEditMode,onCancelClick:this.exitEditMode}))}}]),n}(o.PureComponent);P()(ke,"defaultProps",{video:{}});var we=Object(s.connect)((function(e){var t=e.share_video;return{video:t.video,currentUserIsOwner:t.current_user_is_owner}}),(function(e){return{updateVideoSettings:function(t){return e(Object(v.r)(t,null))}}}))(ke),_e=(n("fbCW"),n("o0o1")),Ee=n.n(_e),Se=(n("ls82"),n("yXPU")),Ce=n.n(Se),xe=n("sDAx"),Ne=n("D7tI"),Te=n("p91b"),Oe=n("dlxr"),Ie=[{key:"link-sharing"},{key:"public"}],Re=function(){return c.a.createElement(Oe.a,{title:"Invite by email"},c.a.createElement("div",{className:"mb:small",onClick:function(){return window.location.href=xe.J}},c.a.createElement(a.Button,{hasFullWidth:!0,isDisabled:!0,variant:"primary"},"Invite People")))},De=function(e){var t=e.workspaceId;return c.a.createElement(Oe.a,{title:"Add password",message:Ne.e},c.a.createElement("div",{className:"disabledButtonWrapper",onClick:function(){Object(g.h)(p.k,{userId:window.loomSSRUser.id,userEmail:window.loomSSRUser.email,workspaceId:t},(function(){window.location.href=xe.J}))}},c.a.createElement(a.Button,{hasFullWidth:!0,isDisabled:!0,variant:"primary"},"Add Password"),c.a.createElement(a.Spacer,{bottom:1})))};var Pe=function(e){var t=Object(o.useState)((function(){var t=e.video;return t&&t.allow_search_engine_indexing?"public":"link-sharing"})),n=i()(t,2),r=n[0],l=n[1],u=Object(o.useState)(!1),d=i()(u,2),m=d[0],f=d[1],p=Object(s.useDispatch)(),g=Object(Te.d)(),b=Ie.find((function(e){return e.key===r}));function y(e){return k.apply(this,arguments)}function k(){return(k=Ce()(Ee.a.mark((function t(n){var r,i,a;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.video,i=r&&r.allow_search_engine_indexing,(a="public"===n)===i){t.next=6;break}return t.next=6,e.onVideoPrivacyChange(a);case 6:l(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=e.video,_=w.is_protected,E=w.permitted_viewers_only;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"flex items:center my:medium pt:medium borderTop"},c.a.createElement("div",{className:"grow:1"},c.a.createElement(a.Text,{fontWeight:"medium"},"Search Engine Indexing")),c.a.createElement(a.Switch,{isActive:"public"===b.key,onClick:function(){"link-sharing"===b.key?f(!0):y("link-sharing")}}),c.a.createElement(a.Modal,{isOpen:m,title:"Turn on search engine indexing?",mainButton:c.a.createElement(a.Button,{variant:"primary",onClick:function(){return function(){w.is_protected&&p(Object(v.r)({},null)),w.permitted_viewers_only&&p(Object(L.b)(w.viewer_permission_list.map((function(e){return{email:e,status:!1}})),w.id)),y("public"),f(!1)}()}},"Yes, turn on"),secondaryButton:c.a.createElement(a.Button,{onClick:function(){return f(!1)}},"Cancel")},"This will reset all other privacy settings.")),c.a.createElement(a.Text,{color:"bodyDimmed",size:"small"},"Anyone on the web can find and access this video via search engines like Google.")),c.a.createElement("div",{className:"flex items:center my:medium pt:medium borderTop"},c.a.createElement("div",{className:"grow:1"},c.a.createElement(a.Text,{fontWeight:"medium"},"Additional Privacy")),w.permitted_viewers_only&&c.a.createElement(a.Tooltip,{content:"Video only visible to permitted viewers",placement:"bottomCenter"},c.a.createElement(a.Icon,{icon:c.a.createElement(a.SvgUsersAdd,null)})),w.is_protected&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ml:small"}),c.a.createElement(a.Tooltip,{content:"Video has password",placement:"bottomCenter"},c.a.createElement(a.Icon,{icon:c.a.createElement(a.SvgLock,null)})))),c.a.createElement("div",{className:"mt:medium"},c.a.createElement(U.a,{names:h.D,alternate:c.a.createElement(De,{workspaceId:g.id})},c.a.createElement("div",{className:"mb:small"},c.a.createElement(a.Tooltip,{isInline:!1,content:"Only allow people with a password to view this video"},c.a.createElement(a.Button,{hasFullWidth:!0,onClick:e.onAddPasswordClick,isDisabled:"public"===b.key},_?"Edit Password":"Add Password")))),c.a.createElement(U.a,{names:h.C,alternate:c.a.createElement(Re,null)},c.a.createElement(a.Tooltip,{isInline:!1,content:"Only allow people with specific emails to view this video.",placement:"bottomCenter"},c.a.createElement(a.Button,{onClick:e.onCustomViewerClick,hasFullWidth:!0,isDisabled:"public"===b.key},E&&"Edit"," Custom Access"))))))},Fe=function(e){var t=e.children;return c.a.createElement("div",{className:"absolute top:xlarge right:0 bgc:white py:xlarge radius:medium border shadow:small",style:{width:"320px",zIndex:1}},t)},je=function(e){var t=e.children,n=e.closeModal;return Object(f.createPortal)(c.a.createElement(a.Modal,{isOpen:!0,onCloseClick:n,onBackgroundClick:n,maxWidth:"320px"},t),document.body)},Ae=function(e){var t=e.closeModal,n=e.shouldOpenAsDropdown,r=e.user,a=e.video,l=Object(o.useState)(!1),u=i()(l,2),d=u[0],m=u[1],f=Object(o.useState)(!1),b=i()(f,2),y=b[0],k=b[1],w=Object(s.useDispatch)(),_=function(){m(!1),k(!1)},E=d||y,S=n?Fe:je,C=n?"px:xlarge":"";return c.a.createElement(S,{closeModal:t},c.a.createElement("div",{className:E?"relative overflow:auto":""},c.a.createElement("div",{className:C,style:{opacity:E?0:1}},c.a.createElement(U.a,{name:h.H},c.a.createElement(we,{className:"share-methods",user:r,video:a})),c.a.createElement(U.a,{name:h.G},c.a.createElement(Pe,{video:a,onCustomViewerClick:function(){g.h(p.j),m(!0)},onAddPasswordClick:function(){return k(!0)},onVideoPrivacyChange:function(e){w(Object(v.r)({allow_search_engine_indexing:e},null))}})),c.a.createElement(ie,null)),d&&c.a.createElement("div",{className:"absolute top:0 left:0 right:0 bottom:0 ".concat(C)},c.a.createElement(z,{video:a,onSaveClick:_,onExitClick:_})),y&&c.a.createElement("div",{className:"absolute top:0 left:0 right:0 bottom:0 ".concat(C)},c.a.createElement(J,{video:a,onSaveClick:_,onCancelClick:_}))))},Me=n("ukgg"),Le=n("Il/S");t.a=function(e){var t=e.className,n=e.currentUserIsOwner,r=e.shareModalShouldOpenAsDropdown,f=void 0!==r&&r,p=e.user,v=e.video,g=Object(o.useState)(!1),b=i()(g,2),y=b[0],k=b[1],w=Object(o.useRef)(null),_=Object(s.useSelector)((function(e){return Object(d.a)(e,h.H)})),E=function(){return k(!1)};f&&Object(u.a)(w,E);var S=Boolean(null==p?void 0:p.id);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t,ref:w},c.a.createElement(a.Button,{onClick:function(){return k(!y)}},"Share"),n&&_?y&&c.a.createElement(Ae,{shouldOpenAsDropdown:f,user:p,video:v,closeModal:E}):c.a.createElement(m.a,{align:"right",vAlign:f?"top":"bottom",isLoggedIn:S,outsideClickIgnoreClass:"ignore-react-onclickoutside-share",onHide:E,show:y,video:v})),S&&c.a.createElement("div",{className:"ml:small"},c.a.createElement(Me.a,{query:"(min-width: ".concat(l.a,"px)")},c.a.createElement(Le.a,{copyText:"Copy video link",withTopMargin:!1})),c.a.createElement(Me.a,{query:"(max-width: ".concat(l.f,"px)")},c.a.createElement(Le.a,{copyText:"Copy link",withTopMargin:!1}))))}},w3uf:function(e,t,n){},wAV9:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAuth0SetupData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getAuth0SetupData"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"audienceUriPrefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"loomSsoUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:136}};n.loc.source={body:"query GetAuth0SetupData($orgId: String!) {\n  getAuth0SetupData(orgId: $orgId) {\n    name,\n    audienceUriPrefix,\n    loomSsoUrl, \n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetAuth0SetupData=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetAuth0SetupData")},wB0f:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetInsightsForVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"engagementInsightsSummaryForVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasWatchSession"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentCompleted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ctaClicks"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackedViews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"events"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:392}};n.loc.source={body:"query GetInsightsForVideo($videoId: ID!) {\n  engagementInsightsSummaryForVideo(videoId: $videoId) {\n    viewers {\n      hasWatchSession\n      percentCompleted\n      cta\n      ctaClicks\n      trackedViews\n      views\n      user {\n        id\n        avatar\n        name\n        color\n        variant\n      }\n      events {\n        type\n        ts\n        id\n        content\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.GetInsightsForVideo=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"GetInsightsForVideo")},wDrI:function(e,t,n){},wElo:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteShareVideoAlias"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareVideoAliasId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteShareVideoAlias"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"shareVideoAliasId"}}}],directives:[]}]}}],loc:{start:0,end:112}};n.loc.source={body:"mutation DeleteShareVideoAlias($shareVideoAliasId: String!) {\n  deleteShareVideoAlias(id: $shareVideoAliasId)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.DeleteShareVideoAlias=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DeleteShareVideoAlias")},wMS7:function(e,t,n){!function(t,n){e.exports=function(){"use strict";var e=Object.freeze||function(e){return e},t=e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),n=e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),r=e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),i=e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),a=e(["#text"]),o=Object.freeze||function(e){return e},c=o(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","minlength","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),s=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),l=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),u=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),d=Object.hasOwnProperty,m=Object.setPrototypeOf,f=("undefined"!=typeof Reflect&&Reflect).apply;f||(f=function(e,t,n){return e.apply(t,n)});function p(e,t){m&&m(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=r.toLowerCase();i!==r&&(Object.isFrozen(t)||(t[n]=i),r=i)}e[r]=!0}return e}function h(e){var t={},n=void 0;for(n in e)f(d,e,[n])&&(t[n]=e[n]);return t}var v=Object.seal||function(e){return e},g=v(/\{\{[\s\S]*|[\s\S]*\}\}/gm),b=v(/<%[\s\S]*|[\s\S]*%>/gm),y=v(/^data-[\-\w.\u00B7-\uFFFF]/),k=v(/^aria-[\-\w]+$/),w=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_=v(/^(?:\w+script|data):/i),E=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var x=("undefined"!=typeof Reflect&&Reflect).apply,N=Array.prototype.slice,T=Object.freeze,O=function(){return"undefined"==typeof window?null:window};x||(x=function(e,t,n){return e.apply(t,n)});var I=function(e,t){if("object"!==(void 0===e?"undefined":S(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O(),o=function(e){return R(e)};if(o.version="2.0.7",o.removed=[],!e||!e.document||9!==e.document.nodeType)return o.isSupported=!1,o;var d=e.document,m=!1,f=!1,v=e.document,D=e.DocumentFragment,P=e.HTMLTemplateElement,F=e.Node,j=e.NodeFilter,A=e.NamedNodeMap,M=void 0===A?e.NamedNodeMap||e.MozNamedAttrMap:A,L=e.Text,V=e.Comment,U=e.DOMParser,B=e.TrustedTypes;if("function"==typeof P){var q=v.createElement("template");q.content&&q.content.ownerDocument&&(v=q.content.ownerDocument)}var W=I(B,d),z=W?W.createHTML(""):"",G=v,H=G.implementation,J=G.createNodeIterator,Q=G.getElementsByTagName,K=G.createDocumentFragment,$=d.importNode,Y={};o.isSupported=H&&void 0!==H.createHTMLDocument&&9!==v.documentMode;var X=g,Z=b,ee=y,te=k,ne=_,re=E,ie=w,ae=null,oe=p({},[].concat(C(t),C(n),C(r),C(i),C(a))),ce=null,se=p({},[].concat(C(c),C(s),C(l),C(u))),le=null,ue=null,de=!0,me=!0,fe=!1,pe=!1,he=!1,ve=!1,ge=!1,be=!1,ye=!1,ke=!1,we=!1,_e=!1,Ee=!0,Se=!0,Ce=!1,xe={},Ne=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Te=p({},["audio","video","img","source","image"]),Oe=null,Ie=p({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Re=null,De=v.createElement("form"),Pe=function(e){Re&&Re===e||(e&&"object"===(void 0===e?"undefined":S(e))||(e={}),ae="ALLOWED_TAGS"in e?p({},e.ALLOWED_TAGS):oe,ce="ALLOWED_ATTR"in e?p({},e.ALLOWED_ATTR):se,Oe="ADD_URI_SAFE_ATTR"in e?p(h(Ie),e.ADD_URI_SAFE_ATTR):Ie,le="FORBID_TAGS"in e?p({},e.FORBID_TAGS):{},ue="FORBID_ATTR"in e?p({},e.FORBID_ATTR):{},xe="USE_PROFILES"in e&&e.USE_PROFILES,de=!1!==e.ALLOW_ARIA_ATTR,me=!1!==e.ALLOW_DATA_ATTR,fe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=e.SAFE_FOR_JQUERY||!1,he=e.SAFE_FOR_TEMPLATES||!1,ve=e.WHOLE_DOCUMENT||!1,ye=e.RETURN_DOM||!1,ke=e.RETURN_DOM_FRAGMENT||!1,we=e.RETURN_DOM_IMPORT||!1,_e=e.RETURN_TRUSTED_TYPE||!1,be=e.FORCE_BODY||!1,Ee=!1!==e.SANITIZE_DOM,Se=!1!==e.KEEP_CONTENT,Ce=e.IN_PLACE||!1,ie=e.ALLOWED_URI_REGEXP||ie,he&&(me=!1),ke&&(ye=!0),xe&&(ae=p({},[].concat(C(a))),ce=[],!0===xe.html&&(p(ae,t),p(ce,c)),!0===xe.svg&&(p(ae,n),p(ce,s),p(ce,u)),!0===xe.svgFilters&&(p(ae,r),p(ce,s),p(ce,u)),!0===xe.mathMl&&(p(ae,i),p(ce,l),p(ce,u))),e.ADD_TAGS&&(ae===oe&&(ae=h(ae)),p(ae,e.ADD_TAGS)),e.ADD_ATTR&&(ce===se&&(ce=h(ce)),p(ce,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&p(Oe,e.ADD_URI_SAFE_ATTR),Se&&(ae["#text"]=!0),ve&&p(ae,["html","head","body"]),ae.table&&(p(ae,["tbody"]),delete le.tbody),T&&T(e),Re=e)},Fe=function(e){o.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=z}},je=function(e,t){try{o.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){o.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Ae=function(e){var t=void 0,n=void 0;if(be)e="<remove></remove>"+e;else{var r=e.match(/^[\s]+/);(n=r&&r[0])&&(e=e.slice(n.length))}if(m)try{t=(new U).parseFromString(e,"text/html")}catch(e){}if(f&&p(le,["title"]),!t||!t.documentElement){var i=(t=H.createHTMLDocument("")).body;i.parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=W?W.createHTML(e):e}return e&&n&&t.body.insertBefore(v.createTextNode(n),t.body.childNodes[0]||null),Q.call(t,ve?"html":"body")[0]};o.isSupported&&(function(){try{Ae('<svg><p><textarea><img src="</textarea><img src=x abc=1//">').querySelector("svg img")&&(m=!0)}catch(e){}}(),function(){try{var e=Ae("<x/><title>&lt;/title&gt;&lt;img&gt;");/<\/title/.test(e.querySelector("title").innerHTML)&&(f=!0)}catch(e){}}());var Me=function(e){return J.call(e.ownerDocument||e,e,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT,(function(){return j.FILTER_ACCEPT}),!1)},Le=function(e){return!(e instanceof L||e instanceof V)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof M&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ve=function(e){return"object"===(void 0===F?"undefined":S(F))?e instanceof F:e&&"object"===(void 0===e?"undefined":S(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ue=function(e,t,n){Y[e]&&Y[e].forEach((function(e){e.call(o,t,n,Re)}))},Be=function(e){var t=void 0;if(Ue("beforeSanitizeElements",e,null),Le(e))return Fe(e),!0;var n=e.nodeName.toLowerCase();if(Ue("uponSanitizeElement",e,{tagName:n,allowedTags:ae}),("svg"===n||"math"===n)&&0!==e.querySelectorAll("p, br").length)return Fe(e),!0;if(!ae[n]||le[n]){if(Se&&!Ne[n]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",W?W.createHTML(r):r)}catch(e){}return Fe(e),!0}return"noscript"===n&&/<\/noscript/i.test(e.innerHTML)||"noembed"===n&&/<\/noembed/i.test(e.innerHTML)?(Fe(e),!0):(!pe||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(o.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),he&&3===e.nodeType&&(t=(t=(t=e.textContent).replace(X," ")).replace(Z," "),e.textContent!==t&&(o.removed.push({element:e.cloneNode()}),e.textContent=t)),Ue("afterSanitizeElements",e,null),!1)},qe=function(e,t,n){if(Ee&&("id"===t||"name"===t)&&(n in v||n in De))return!1;if(me&&ee.test(t));else if(de&&te.test(t));else{if(!ce[t]||ue[t])return!1;if(Oe[t]);else if(ie.test(n.replace(re,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==n.indexOf("data:")||!Te[e]){if(fe&&!ne.test(n.replace(re,"")));else if(n)return!1}else;}return!0},We=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0;Ue("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce};for(a=c.length;a--;){var l=t=c[a],u=l.name,d=l.namespaceURI;if(n=t.value.trim(),r=u.toLowerCase(),s.attrName=r,s.attrValue=n,s.keepAttr=!0,Ue("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===r&&"IMG"===e.nodeName&&c.id)i=c.id,c=x(N,c,[]),je("id",e),je(u,e),c.indexOf(i)>a&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===n&&s.keepAttr&&(ce[r]||!ue[r]))continue;"id"===u&&e.setAttribute(u,""),je(u,e)}if(s.keepAttr)if(/svg|math/i.test(e.namespaceURI)&&new RegExp("</("+Object.keys(Ne).join("|")+")","i").test(n))je(u,e);else{he&&(n=(n=n.replace(X," ")).replace(Z," "));var m=e.nodeName.toLowerCase();if(qe(m,r,n))try{d?e.setAttributeNS(d,u,n):e.setAttribute(u,n),o.removed.pop()}catch(e){}}}Ue("afterSanitizeAttributes",e,null)}},ze=function e(t){var n=void 0,r=Me(t);for(Ue("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ue("uponSanitizeShadowNode",n,null),Be(n)||(n.content instanceof D&&e(n.content),We(n));Ue("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(t,n){var r=void 0,i=void 0,a=void 0,c=void 0,s=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!Ve(t)){if("function"!=typeof t.toString)throw new TypeError("toString is not a function");if("string"!=typeof(t=t.toString()))throw new TypeError("dirty is not a string, aborting")}if(!o.isSupported){if("object"===S(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Ve(t))return e.toStaticHTML(t.outerHTML)}return t}if(ge||Pe(n),o.removed=[],Ce);else if(t instanceof F)1===(i=(r=Ae("\x3c!--\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ye&&!he&&!ve&&_e&&-1===t.indexOf("<"))return W?W.createHTML(t):t;if(!(r=Ae(t)))return ye?null:z}r&&be&&Fe(r.firstChild);for(var l=Me(Ce?t:r);a=l.nextNode();)3===a.nodeType&&a===c||Be(a)||(a.content instanceof D&&ze(a.content),We(a),c=a);if(c=null,Ce)return t;if(ye){if(ke)for(s=K.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return we&&(s=$.call(d,s,!0)),s}var u=ve?r.outerHTML:r.innerHTML;return he&&(u=(u=u.replace(X," ")).replace(Z," ")),W&&_e?W.createHTML(u):u},o.setConfig=function(e){Pe(e),ge=!0},o.clearConfig=function(){Re=null,ge=!1},o.isValidAttribute=function(e,t,n){Re||Pe({});var r=e.toLowerCase(),i=t.toLowerCase();return qe(r,i,n)},o.addHook=function(e,t){"function"==typeof t&&(Y[e]=Y[e]||[],Y[e].push(t))},o.removeHook=function(e){Y[e]&&Y[e].pop()},o.removeHooks=function(e){Y[e]&&(Y[e]=[])},o.removeAllHooks=function(){Y={}},o}return R()}()}()},wXbu:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getBulkShareVideoAlias"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"findBulkShareVideoAlias"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"anonymousId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"organizationId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};n.loc.source={body:"query getBulkShareVideoAlias($videoId: String!) {\n  findBulkShareVideoAlias(videoId: $videoId) {\n    id\n    videoId\n    email\n    anonymousId\n    organizationId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.getBulkShareVideoAlias=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"getBulkShareVideoAlias")},"wZ/5":function(e,t,n){"use strict";var r=n("I+eb"),i=n("2oRo"),a=n("Yhre"),o=n("JiZb"),c=a.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==c},{ArrayBuffer:c}),o("ArrayBuffer")},"wpa/":function(e,t,n){},wuL6:function(e,t,n){},wv7f:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r="FileTypeUnsupported",i="FileSuspiciousContent",a="FileScanError",o="FPSTooHighError",c="ResolutionTooHighError",s="MaxDurationError",l=4294967296,u=60,d=12},"x/EF":function(e,t,n){},xB0M:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="keyup"},xGzr:function(e,t,n){},xY5J:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"sharedEntityAccessList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"entityId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sharedEntityAccessList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"entityId"},value:{kind:"Variable",name:{kind:"Name",value:"entityId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_top_level"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entity_shared_with_user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"last_name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:215}};n.loc.source={body:"query sharedEntityAccessList($entityId: ID!) {\n  sharedEntityAccessList(entityId: $entityId) {\n    id\n    is_top_level\n    entity_shared_with_user {\n      id\n      email\n      first_name\n      last_name\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}!function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}}))}(),e.exports=n,e.exports.sharedEntityAccessList=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,c=new Set;for(a.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"sharedEntityAccessList")},xbrs:function(e,t,n){},xdQt:function(e,t,n){e.exports={engagementBox:"viewer-insights_engagementBox_pUV"}},xlpc:function(e,t,n){},y01c:function(e,t,n){"use strict";n("ma9I"),n("yXV3"),n("sMBO"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("WnLM"),b=n.n(g),y=n("Jlc5"),k=n.n(y),w=n("E+oP"),_=n.n(w),E=n("imBb"),S=n.n(E),C=n("q1tI"),x=n.n(C),N=n("Vg22"),T=n("4mtl"),O=n("IVYN"),I=n("T/9b"),R=n("BClo"),D=n("9Rj7"),P=n("ZrrK"),F=n("6c1L"),j=n("Kth1"),A=(n("TeQF"),n("2B1R"),n("MJIl")),M=n.n(A),L=n("Wt1U"),V=n.n(L),U=n("XT2K"),B=n("Ov95"),q=n("uoTU"),W=n.n(q);n("5GfV");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var G=function(e){u()(n,e);var t=z(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.closeFolder,i=n.checkedFolderIds,a=n.doNotRecurse,o=n.folder,c=n.folderToMoveTo,s=n.generateChildren,l=n.level,u=n.openedFolderIds,d=n.openFolder,m=o.folder,f=m.id,p=m.name,h=m.local_id,v=o.children.length>0,g=W()(i,f)>-1,b=null!=h?c.local_id===h:c.id===f,y=W()(u,f)>-1;if(g)return null;v&&y&&!a?(e=x.a.createElement("div",{className:"minus-icon",onClick:function(e){return r(e,f)}}),t=s(o.children,i,l+1)):!v||y||a||(e=x.a.createElement("div",{className:"plus-icon",onClick:function(e){return d(e,f)}}));var k={paddingLeft:"".concat(24*l,"px")};return x.a.createElement("div",{className:"parent-cell-container",key:f},x.a.createElement("div",{className:"grid-cell ".concat(b?"selected":""),onClick:this.select.bind(this,o.folder),style:k},x.a.createElement("div",{className:"cell-info"},e,x.a.createElement("div",{className:"name"},p))),t)}},{key:"select",value:function(e){this.props.folderToMoveTo.id!==e.id&&this.props.updateFolderToMoveTo(e)}}]),n}(C.Component),H=Object(N.connect)((function(e){return{folderToMoveTo:e.videos_dashboard.folder_to_move_to}}),(function(e){return{updateFolderToMoveTo:function(t){return e(Object(T.V)(t))}}}))(G);n("E9sv");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Q=function(e){u()(n,e);var t=J(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{opened_folder_ids:[]}),v()(s()(e),"closeFolder",(function(t,n){t.stopPropagation();var r=e.state.opened_folder_ids;e.setState({opened_folder_ids:V()(r,n)})})),v()(s()(e),"generateChildren",(function(t,n,r,i){var a=e.state.opened_folder_ids;return t.map((function(t){return x.a.createElement(H,{closeFolder:e.closeFolder,checkedFolderIds:n,doNotRecurse:i,folder:t,generateChildren:e.generateChildren,key:t.folder.id||t.folder.local_id,level:r,openedFolderIds:a,openFolder:e.openFolder})})).filter((function(e){return e}))})),v()(s()(e),"openFolder",(function(t,n){t.stopPropagation();var r=e.state.opened_folder_ids;M()(r,n)||e.setState({opened_folder_ids:r.concat(n)})})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.checkedItems,n=e.currentFolderId,r=e.foldersHierarchy,i=e.isFetchingHierarchy,a=null,o=null,c=null;if(!i&&r.length>0&&r[0]&&r[0].children.length>0){var s=r[0].children,l=t.filter((function(e){return e.type===R.b})).map((function(e){return e.id}));n!==U.A&&(c=this.generateChildren([r[0]],l,1,!0)),a=this.generateChildren(s,l,1,!1)}return i&&(o=x.a.createElement(B.a,null)),x.a.createElement("div",{className:"hierarchy-grid ".concat(i?"loading":"")},o,c,a)}},{key:"UNSAFE_componentWillMount",value:function(){this.props.fetchFolderHierarchy()}}]),n}(C.Component),K=Object(N.connect)((function(e){var t=e.videos_dashboard;return{checkedItems:t.checked_items,currentFolderId:t.folder_id,foldersHierarchy:t.folders_hierarchy,isFetchingHierarchy:t.is_fetching_hierarchy}}),(function(e){return{fetchFolderHierarchy:function(){return e(Object(P.s)())}}}))(Q);n("BwaV");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Y=function(e){u()(n,e);var t=$(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"focusNewFolderInput",null),v()(s()(e),"hierarchyGridRef",null),v()(s()(e),"newFolderInputRef",null),v()(s()(e),"initialHierarchyGridTop",null),v()(s()(e),"saveHierarychyGridRef",(function(t){e.hierarchyGridRef=t,t&&(e.initialHierarchyGridTop=window.getComputedStyle(t).top)})),v()(s()(e),"playAnimation",(function(t){if(e.newFolderInputRef){return"showNewFolderName"==t?(b()({targets:e.hierarchyGridRef,top:0,elasticity:200}),b()({targets:e.newFolderInputRef.parentNode,scaleY:[0,1],opacity:[0,1],elasticity:200})):"hideNewFolderName"==t?(b()({targets:e.hierarchyGridRef,top:e.initialHierarchyGridTop,elasticity:200}),b()({targets:e.newFolderInputRef.parentNode,scaleY:[1,0],opacity:[1,0],elasticity:200})):void 0}})),v()(s()(e),"onClickNewFolder",(function(){e.newFolderInputRef&&(e.newFolderInputRef.select(),e.newFolderInputRef.closest(".grid").scrollTo(0,0)),e.props.onClickNewFolder()})),v()(s()(e),"onKeyUpNewFolderName",(function(t){O.h.indexOf(t.key)>-1&&e.props.onEnteredNewFolderName(e.props.newFolderName),O.i.indexOf(t.key)>-1&&e.props.onCancelNewFolder()})),v()(s()(e),"onChangeNewFolderName",(function(t){e.props.onChangeNewFolderName(t.target.value)})),v()(s()(e),"refInputFolderName",(function(t){e.newFolderInputRef=t,e.focusNewFolderInput&&t&&(e.focusNewFolderInput=!1,t.select(),t.closest(".grid").scrollTo(0,0))})),v()(s()(e),"exit",(function(t){"move-modal-container"===t.target.className&&e.props.onHide()})),v()(s()(e),"move",(function(){var t=e.props.folderToMoveTo;e.props.onMove(t.special_id||t.id,t.name,e.props.checkedItems)})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.checkedItems,r=t.currentFolderId,i=t.folderToMoveTo,a=t.show,o=t.showNewFolderInput,c=t.newFolderName,s=t.isFetchingHierarchy;if(!a)return null;var l=!0,u=null;u=1===n.length?n[0].name:k()(n,(function(e){return e.type===R.b}))?"".concat(n.length," Folders"):k()(n,(function(e){return e.type===R.g}))?"".concat(n.length," Videos"):"".concat(n.length," Items"),_()(i)||i.id===r||null==i.id||(l=!1);var d=(o?c:i.name)||"...";return x.a.createElement("div",{className:"move-modal-container",onClick:this.exit},x.a.createElement("div",{className:"move-modal"},x.a.createElement("div",{className:"title"},"Move ",x.a.createElement("h4",{className:"name"},u)," to"," ",x.a.createElement("h4",{className:"name"},d)),x.a.createElement("div",{className:"grid"},x.a.createElement(j.a,{alwaysRender:!0,show:this.props.showNewFolderInput,onDidMount:function(){return e.playAnimation("showNewFolderName")},onWillUnmount:function(){return e.playAnimation("hideNewFolderName")}},x.a.createElement("div",{className:"move-new-folder-input-wrap"},x.a.createElement("input",{type:"text",className:"move-new-folder-input",ref:this.refInputFolderName,value:this.props.newFolderName,onChange:this.onChangeNewFolderName,onFocus:this.props.onFocusNewFolderName,onBlur:this.props.onBlurNewFolderName,onKeyUp:this.onKeyUpNewFolderName}))),x.a.createElement("div",{className:"hierarchy-grid-wrap",ref:this.saveHierarychyGridRef},x.a.createElement(K,null))),x.a.createElement("div",{className:"move-new-folder-button ".concat(s?"disabled":""),onClick:this.onClickNewFolder},"+ Create New Folder"),x.a.createElement("div",{className:"controls"},x.a.createElement(F.a,{buttonClass:"move-cancel-button",buttonType:"rp-secondary-3",value:"Cancel",onClicked:this.props.onClickCancel}),x.a.createElement(F.a,{buttonClass:"move-confirm-button",buttonType:"rp-primary-3",disabled:l,value:"Move",onClicked:this.move}))))}},{key:"UNSAFE_componentWillMount",value:function(){this._toggleShow(this.props.show)}},{key:"componentWillUnmount",value:function(){this._toggleShow(this.props.show)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.show!=e.show&&this._toggleShow(e.show),!this.props.showNewFolderInput&&e.showNewFolderInput&&(this.focusNewFolderInput=!0)}},{key:"_toggleShow",value:function(e){e?document.body.classList.add("show-move-modal"):document.body.classList.remove("show-move-modal"),e?S.a.bind(I.d,this.props.onHide):S.a.unbind(I.d)}}]),n}(C.Component);t.a=Object(N.connect)((function(e,t){var n=e.videos_dashboard,r=n.checked_items,i=n.folder_id,a=n.folder_to_move_to,o=n.show_move_modal,c=n.new_folder_name,s=n.show_new_folder_input,l=n.is_fetching_hierarchy;return{currentFolderId:t.currentFolderId||i,showNewFolderInput:s,newFolderName:c,checkedItems:r,folderToMoveTo:a,show:o,isFetchingHierarchy:l}}),(function(e,t){return{onFocusNewFolderName:function(){return e(Object(T.V)(null))},onBlurNewFolderName:function(){return e(Object(T.e)())},onChangeNewFolderName:function(t){return e(Object(T.i)(t))},onClickNewFolder:function(){return e(Object(T.g)())},onCancelNewFolder:function(){return e(Object(T.e)())},onEnteredNewFolderName:function(t){e(Object(D.b)(null,t))},onClickCancel:function(){return e(Object(T.lb)(!1))},onHide:function(){return e(Object(T.lb)(!1))},onMove:t.onMove||function(t,n,r){e(Object(P.O)()),e(Object(P.g)(null,t,r)),e(Object(T.lb)(!1))}}}))(Y)},yChF:function(e,t,n){},ynRA:function(e,t,n){"use strict";n("ma9I"),n("07d7"),n("SuFq"),n("JfAA");var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),o=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("lSNA"),v=n.n(h),g=n("TSYQ"),b=n.n(g),y=n("LpSC"),k=n.n(y),w=n("q1tI"),_=n.n(w),E=n("AGlj"),S=n("CtBj"),C=n("kZ0K"),x=n("ilyl"),N=(n("TeQF"),n("oVuX"),n("q4mm")),T=n("sDAx"),O=n("NgEs");n("VExT");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var R=function(e){u()(n,e);var t=I(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"state",{copied:null}),v()(s()(e),"handleClick",(function(t){t.stopPropagation(),O.b(e.input);var n=O.a(e.input);e.setState({copied:n},(function(){setTimeout((function(){e.setState({copied:null},(function(){e.props.onClick(t,n)}))}),2e3)}))})),e}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.video,n=this.state.copied,r=["copy-link-item",this.state.copied&&"success"].filter(Boolean).join(" ");return _.a.createElement("li",{className:r,onClick:this.handleClick},_.a.createElement(N.Icon,{icon:_.a.createElement(N.SvgLink,null),size:"1rem",color:"white",className:"relative"}),_.a.createElement("span",null,null===n&&"Copy Link",!0===n&&"Link Copied!",!1===n&&"Error, try again"),_.a.createElement("input",{ref:function(t){return e.input=t},readOnly:!0,value:"".concat(T.A,"/share/").concat(t.id)}))}}]),n}(w.Component);v()(R,"defaultProps",{onClick:function(){}});var D=R;function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var F=function(e){u()(n,e);var t=P(n);function n(){return i()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){return _.a.createElement("li",{className:"share-video-embed-code-dropdown-item",onClick:this.props.onClick},_.a.createElement(N.Icon,{icon:_.a.createElement(N.SvgCode,null),size:"1rem"}),_.a.createElement("span",null,"Embed"))}}]),n}(w.Component);var j=function(e){var t=e.onClick;return _.a.createElement("li",{className:"copy-link-item",onClick:t},_.a.createElement(N.Icon,{icon:_.a.createElement(N.SvgLink,null),size:"1rem"}),_.a.createElement("span",null,"Linked GIF"))},A=(n("5s+n"),n("o0o1")),M=n.n(A),L=(n("ls82"),n("yXPU")),V=n.n(L);n("ClqA");function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var B=function(e){u()(n,e);var t=U(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){return _.a.createElement("li",{className:"share-video-facebook-dropdown-item",onClick:this.onClick},_.a.createElement("div",{className:"icon"}),_.a.createElement("span",null,"Facebook"))}},{key:"onClick",value:function(){var e=V()(M.a.mark((function e(){var t,n,r,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.currentUserIsOwner,r=t.video,i=n?"recorded via":"saw on",e.next=4,new Promise((function(e){window.fbReady(e)}));case 4:window.FB.ui({method:"share",display:"popup",quote:"Check out this video I ".concat(i," Loom."),href:"".concat(T.A,"/share/").concat(r.id)}),this.props.onClick&&this.props.onClick();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(w.Component);n("sMBO"),n("+aEr");function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var W=function(e){u()(n,e);var t=q(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props.video,t="".concat(T.A,"/share/").concat(e.id),n="https://mail.google.com/mail/?view=cm&fs=1&"+["su=".concat(window.encodeURIComponent("".concat(e.name," [video]"))),"body=".concat(window.encodeURIComponent(t))].join("&");return _.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n,onClick:this.onClick},_.a.createElement("li",{className:"share-video-gmail-dropdown-item"},_.a.createElement("div",{className:"icon"}),_.a.createElement("span",null,"Gmail")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(w.Component);n("FuO9");function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var G=function(e){u()(n,e);var t=z(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).onClick=r.onClick.bind(s()(r)),r}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.currentUserIsOwner,n=e.video,r=t?"recorded via":"saw on",i="".concat(T.A,"/share/").concat(n.id),a=window.encodeURI("https://twitter.com/share?text="+"Check out this video I ".concat(r," @loom.")+"&url=".concat(i,"&hashtags=productivity,video"));return _.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a,onClick:this.onClick},_.a.createElement("li",{className:"share-video-twitter-dropdown-item"},_.a.createElement("div",{className:"icon"}),_.a.createElement("span",null,"Twitter")))}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}}]),n}(w.Component),H=n("Qo78");n("Mzxa");function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var i=p()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m()(this,n)}}var Q=function(e){u()(n,e);var t=J(n);function n(){var e;i()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),v()(s()(e),"handleCopyLinkClick",(function(t){t.stopPropagation(),S.h(E.Pc),e.props.onHide()})),v()(s()(e),"trackFacebookClick",(function(){e.postIfLogged("/api/users/shared-video-on-fb"),S.h(E.Nc)})),v()(s()(e),"trackTwitterClick",(function(){e.postIfLogged("/api/users/tweeted-video"),S.h(E.Rc)})),v()(s()(e),"trackGmailClick",(function(){S.h(E.Oc)})),v()(s()(e),"postIfLogged",(function(t){e.props.isLoggedIn&&k()(t,{method:"POST",credentials:"include"}).catch((function(e){C.d(e,"error POST ".concat(t))}))})),e}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.additionalClass,n=e.currentUserIsOwner,r=e.hasGmailAccount,i=e.showFacebook,a=void 0===i||i,o=e.video,c=e.show,s=e.align,l=e.vAlign,u=e.handleEmbedCodeClick,d=void 0===u?null:u,m=e.handleEmbedThumbClick,f=void 0===m?null:m,p=Boolean(Object(x.d)(o));return _.a.createElement(H.a,{show:c,align:s,vAlign:l,additionalClass:b()(t,"share-dropdown")},_.a.createElement(D,{onClick:this.handleCopyLinkClick,video:o}),p&&f&&_.a.createElement(j,{onClick:f}),d&&_.a.createElement(F,{onClick:d}),_.a.createElement("div",{className:"embed"}),_.a.createElement(G,{currentUserIsOwner:n,onClick:this.trackTwitterClick,video:o}),a&&_.a.createElement(B,{currentUserIsOwner:n,onClick:this.trackFacebookClick,video:o}),r&&_.a.createElement(W,{onClick:this.trackGmailClick,video:o}))}}]),n}(w.Component);v()(Q,"defaultProps",{show:!1,onHide:function(){},align:"left",vAlign:"auto"});t.a=Q},yrut:function(e,t,n){e.exports=n.p+"img/video-player/up-51ae5aeb2e506945cb1635fc4f19ef86.png"},"ytq/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"};e.exports=t.default},ywQS:function(e,t,n){e.exports={dropdownHeader:"dropdown-header_dropdownHeader_2Z9",isCompact:"dropdown-header_isCompact_13o",dropdownHeaderAvatarSection:"dropdown-header_dropdownHeaderAvatarSection_1ac",dropdownHeaderTextSection:"dropdown-header_dropdownHeaderTextSection_Pyj",dropdownHeaderIconSection:"dropdown-header_dropdownHeaderIconSection_2_K"}},z36Y:function(e,t,n){},zWfy:function(e,t,n){!function(t,r){e.exports=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=r(n(1)),m=r(n(2)),f=n(3),p=r(n(5)),h=function(e){function t(e,n){o(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e,t,n,i){return"function"==typeof e?e(l({},r.state,{isDragActive:t,isDragAccept:n,isDragReject:i})):e},r.composeHandlers=r.composeHandlers.bind(r),r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.onInputElementClick=r.onInputElementClick.bind(r),r.setRef=r.setRef.bind(r),r.setRefs=r.setRefs.bind(r),r.isFileDialogActive=!1,r.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},r}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",f.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",f.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),null!=this.fileInputEl&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(e){return this.props.disabled?null:e}},{key:"onDocumentDrop",value:function(e){this.node&&this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){var t=this;e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target),Promise.resolve(this.props.getDataTransferItems(e)).then((function(e){t.setState({isDragActive:!0,draggedFiles:e})})),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,i=n.onDropAccepted,o=n.onDropRejected,c=n.multiple,s=n.disablePreview,l=n.accept,u=n.getDataTransferItems;e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),Promise.resolve(u(e)).then((function(n){var u=[],d=[];n.forEach((function(e){if(!s)try{e.preview=window.URL.createObjectURL(e)}catch(e){}(0,f.fileAccepted)(e,l)&&(0,f.fileMatchSize)(e,t.props.maxSize,t.props.minSize)?u.push(e):d.push(e)})),c||d.push.apply(d,a(u.splice(1))),r&&r.call(t,u,d,e),d.length>0&&o&&o.call(t,d,e),u.length>0&&i&&i.call(t,u,e)}))}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),n&&n.call(this,e),(0,f.isIeOrEdge)()?setTimeout(this.open.bind(this),0):this.open())}},{key:"onInputElementClick",value:function(e){e.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick()}},{key:"onFileDialogCancel",value:function(){var e=this,t=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout((function(){null!=e.fileInputEl&&(e.fileInputEl.files.length||(e.isFileDialogActive=!1)),"function"==typeof t&&t()}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"setRefs",value:function(e){this.fileInputEl=e}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this.props,t=e.accept,n=e.acceptClassName,r=e.activeClassName,a=e.children,o=e.disabled,c=e.disabledClassName,s=e.inputProps,u=e.multiple,m=e.name,h=e.rejectClassName,v=i(e,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),g=v.acceptStyle,b=v.activeStyle,y=v.className,k=void 0===y?"":y,w=v.disabledStyle,_=v.rejectStyle,E=v.style,S=i(v,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),C=this.state,x=C.isDragActive,N=C.draggedFiles,T=N.length,O=u||T<=1,I=T>0&&(0,f.allFilesAccepted)(N,this.props.accept),R=T>0&&(!I||!O),D=!(k||E||b||g||_||w);x&&r&&(k+=" "+r),I&&n&&(k+=" "+n),R&&h&&(k+=" "+h),o&&c&&(k+=" "+c),D&&(E=p.default.default,b=p.default.active,g=p.default.active,_=p.default.rejected,w=p.default.disabled);var P=l({position:"relative"},E);b&&x&&(P=l({},P,b)),g&&I&&(P=l({},P,g)),_&&R&&(P=l({},P,_)),w&&o&&(P=l({},P,w));var F={accept:t,disabled:o,type:"file",style:l({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},s.style),multiple:f.supportMultiple&&u,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};m&&m.length&&(F.name=m);var j=(S.acceptedFiles,S.preventDropOnDocument,S.disablePreview,S.disableClick,S.onDropAccepted,S.onDropRejected,S.onFileDialogCancel,S.maxSize,S.minSize,S.getDataTransferItems,i(S,["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]));return d.default.createElement("div",l({className:k,style:P},j,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":o}),this.renderChildren(a,x,I,R),d.default.createElement("input",l({},s,F)))}}]),t}(d.default.Component);t.default=h,h.propTypes={accept:m.default.oneOfType([m.default.string,m.default.arrayOf(m.default.string)]),children:m.default.oneOfType([m.default.node,m.default.func]),disableClick:m.default.bool,disabled:m.default.bool,disablePreview:m.default.bool,preventDropOnDocument:m.default.bool,inputProps:m.default.object,multiple:m.default.bool,name:m.default.string,maxSize:m.default.number,minSize:m.default.number,className:m.default.string,activeClassName:m.default.string,acceptClassName:m.default.string,rejectClassName:m.default.string,disabledClassName:m.default.string,style:m.default.object,activeStyle:m.default.object,acceptStyle:m.default.object,rejectStyle:m.default.object,disabledStyle:m.default.object,getDataTransferItems:m.default.func,onClick:m.default.func,onDrop:m.default.func,onDropAccepted:m.default.func,onDropRejected:m.default.func,onDragStart:m.default.func,onDragEnter:m.default.func,onDragOver:m.default.func,onDragLeave:m.default.func,onFileDialogCancel:m.default.func},h.defaultProps={preventDropOnDocument:!0,disabled:!1,disablePreview:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:f.getDataTransferItems},e.exports=t.default},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function i(e,t){return"application/x-moz-file"===e.type||(0,d.default)(e,t)}function a(e,t,n){return e.size<=t&&e.size>=n}function o(e,t){return e.every((function(e){return i(e,t)}))}function c(e){e.preventDefault()}function s(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function l(e){return-1!==e.indexOf("Edge/")}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return s(e)||l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportMultiple=void 0,t.getDataTransferItems=r,t.fileAccepted=i,t.fileMatchSize=a,t.allFilesAccepted=o,t.onDocumentDragOver=c,t.isIeOrEdge=u;var d=function(e){return e&&e.__esModule?e:{default:e}}(n(4));t.supportMultiple="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input")},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(32)("wks"),i=n(9),a=n(0).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(0),i=n(2),a=n(8),o=n(22),c=n(10),s=function(e,t,n){var l,u,d,m,f=e&s.F,p=e&s.G,h=e&s.S,v=e&s.P,g=e&s.B,b=p?r:h?r[t]||(r[t]={}):(r[t]||{}).prototype,y=p?i:i[t]||(i[t]={}),k=y.prototype||(y.prototype={});for(l in p&&(n=t),n)d=((u=!f&&b&&void 0!==b[l])?b:n)[l],m=g&&u?c(d,r):v&&"function"==typeof d?c(Function.call,d):d,b&&o(b,l,d,e&s.U),y[l]!=d&&a(y,l,m),v&&k[l]!=d&&(k[l]=d)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(16),i=n(21);e.exports=n(3)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(28),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0},n(14),n(34)},function(e,t,n){n(15),e.exports=n(2).Array.some},function(e,t,n){"use strict";var r=n(7),i=n(25)(3);r(r.P+r.F*!n(33)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(17),i=n(18),a=n(20),o=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(19)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),i=n(0).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(0),i=n(8),a=n(23),o=n(9)("src"),c=Function.toString,s=(""+c).split("toString");n(2).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,c){var l="function"==typeof n;l&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(a(n,o)||i(n,o,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||c.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10),i=n(26),a=n(27),o=n(12),c=n(29);e.exports=function(e,t){var n=1==e,s=2==e,l=3==e,u=4==e,d=6==e,m=5==e||d,f=t||c;return function(t,c,p){for(var h,v,g=a(t),b=i(g),y=r(c,p,3),k=o(b.length),w=0,_=n?f(t,k):s?f(t,0):void 0;k>w;w++)if((m||w in b)&&(v=y(h=b[w],w,g),e))if(n)_[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:_.push(h)}else if(u)return!1;return d?-1:l||u?u:_}}},function(e,t,n){var r=n(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(11);e.exports=function(e){return Object(r(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(30);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(1),i=n(31),a=n(6)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(35),e.exports=n(2).String.endsWith},function(e,t,n){"use strict";var r=n(7),i=n(12),a=n(36),o="".endsWith;r(r.P+r.F*n(38)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),c=void 0===n?r:Math.min(i(n),r),s=String(e);return o?o.call(t,s,c):t.slice(c-s.length,c)===s}})},function(e,t,n){var r=n(37),i=n(11);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(1),i=n(5),a=n(6)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={rejected:{borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},disabled:{opacity:.5},active:{borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},default:{width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5}},e.exports=t.default}])}(n("q1tI"),n("17x9"))}()}});
//# sourceMappingURL=share-video-7128ad0bcd516dd98952a1df2924ffcb.js.map